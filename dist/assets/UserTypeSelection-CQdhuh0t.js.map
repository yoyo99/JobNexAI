{"version":3,"file":"UserTypeSelection-CQdhuh0t.js","sources":["../../src/components/UserTypeSelection.tsx"],"sourcesContent":["import { useState } from 'react'\nimport { motion } from 'framer-motion'\nimport { useNavigate } from 'react-router-dom'\nimport { supabase } from '../lib/supabase'\nimport { useAuth } from '../stores/auth'\nimport {\n  UserIcon,\n  BriefcaseIcon,\n  DocumentTextIcon,\n} from '@heroicons/react/24/outline'\n\nfunction UserTypeSelection() {\n  const { user, loadUser } = useAuth()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const navigate = useNavigate()\n\n  const handleUserTypeSelection = async (userType: 'candidate' | 'freelancer' | 'recruiter') => {\n    if (!user) return\n\n    try {\n      setLoading(true)\n      setError(null)\n\n      // Mettre à jour le profil utilisateur avec le type sélectionné\n      const { error } = await supabase\n        .from('profiles')\n        .update({ user_type: userType })\n        .eq('id', user.id)\n\n      if (error) throw error\n\n      // Recharger les informations utilisateur\n      await loadUser()\n\n      // Rediriger vers la page appropriée en fonction du type d'utilisateur\n      switch (userType) {\n        case 'candidate':\n          navigate('/dashboard')\n          break\n        case 'freelancer':\n          navigate('/freelance/projects')\n          break\n        case 'recruiter':\n          navigate('/recruiter/dashboard')\n          break\n      }\n    } catch (error: any) {\n      console.error('Error setting user type:', error)\n      setError(error.message || 'Une erreur est survenue. Veuillez réessayer.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center px-4 py-12 sm:px-6 lg:px-8 bg-background\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"max-w-3xl w-full space-y-8\"\n      >\n        <div className=\"text-center\">\n          <h2 className=\"mt-6 text-3xl font-extrabold text-white\">\n            Bienvenue sur JobNexAI\n          </h2>\n          <p className=\"mt-2 text-gray-400\">\n            Veuillez sélectionner votre profil pour continuer\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <motion.div\n            whileHover={{ scale: 1.05 }}\n            className=\"bg-white/10 rounded-xl p-6 text-center cursor-pointer hover:bg-white/15 transition-colors\"\n            onClick={() => handleUserTypeSelection('candidate')}\n          >\n            <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-primary-600/20 mb-4\">\n              <UserIcon className=\"h-8 w-8 text-primary-400\" />\n            </div>\n            <h3 className=\"text-xl font-medium text-white mb-2\">Candidat</h3>\n            <p className=\"text-gray-400 text-sm\">\n              Je cherche un emploi et souhaite utiliser les outils de recherche d'emploi et de gestion de candidatures.\n            </p>\n          </motion.div>\n\n          <motion.div\n            whileHover={{ scale: 1.05 }}\n            className=\"bg-white/10 rounded-xl p-6 text-center cursor-pointer hover:bg-white/15 transition-colors\"\n            onClick={() => handleUserTypeSelection('freelancer')}\n          >\n            <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-secondary-600/20 mb-4\">\n              <DocumentTextIcon className=\"h-8 w-8 text-secondary-400\" />\n            </div>\n            <h3 className=\"text-xl font-medium text-white mb-2\">Freelance</h3>\n            <p className=\"text-gray-400 text-sm\">\n              Je suis freelance et je cherche des projets ou des missions. J'ai besoin d'outils pour gérer mon activité.\n            </p>\n          </motion.div>\n\n          <motion.div\n            whileHover={{ scale: 1.05 }}\n            className=\"bg-white/10 rounded-xl p-6 text-center cursor-pointer hover:bg-white/15 transition-colors\"\n            onClick={() => handleUserTypeSelection('recruiter')}\n          >\n            <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-600/20 mb-4\">\n              <BriefcaseIcon className=\"h-8 w-8 text-green-400\" />\n            </div>\n            <h3 className=\"text-xl font-medium text-white mb-2\">Recruteur</h3>\n            <p className=\"text-gray-400 text-sm\">\n              Je suis recruteur et je cherche des candidats pour mes offres d'emploi ou des freelances pour des missions.\n            </p>\n          </motion.div>\n        </div>\n\n        {error && (\n          <div className=\"bg-red-900/50 text-red-400 p-4 rounded-lg text-center\">\n            {error}\n          </div>\n        )}\n\n        {loading && (\n          <div className=\"text-center\">\n            <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-400\"></div>\n          </div>\n        )}\n\n        <p className=\"text-center text-sm text-gray-500\">\n          Vous pourrez modifier votre profil ultérieurement dans les paramètres de votre compte.\n        </p>\n      </motion.div>\n    </div>\n  )\n}\n\nexport default UserTypeSelection;"],"names":["UserTypeSelection","user","loadUser","useAuth","loading","setLoading","useState","error","setError","navigate","useNavigate","handleUserTypeSelection","userType","supabase","jsx","jsxs","motion","UserIcon","DocumentTextIcon","BriefcaseIcon"],"mappings":"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"}