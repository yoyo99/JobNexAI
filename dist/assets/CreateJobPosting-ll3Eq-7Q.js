import{j as e,m as w}from"./motion-DEFBAXox.js";import{a}from"./vendor-C4jSHSwK.js";import{u as N,d as p}from"./index-DicW4zRf.js";import{F as q}from"./ArrowLeftIcon-W7OVpCEa.js";import{F as _}from"./PlusIcon-ySxxH9nU.js";import{F as C}from"./TrashIcon-CkYu8bNi.js";import"./i18n-DQkvtCzx.js";import"./ui-Nk6LSbPB.js";function J(){const{user:E}=N(),c=p.useNavigate(),h=p.useLocation(),[g,u]=a.useState(!1),[m,x]=a.useState(!1),[d,n]=a.useState(null),o=new URLSearchParams(h.search).get("edit"),[t,i]=a.useState({title:"",company:"",location:"",job_type:"FULL_TIME",salary_min:"",salary_max:"",remote_type:"hybrid",experience_level:"mid",description:"",requirements:[""],status:"draft"});a.useEffect(()=>{o&&b()},[o]);const b=async r=>{try{u(!0),i({id:"job1",title:"Développeur React Senior",company:"TechInnovate",location:"Paris",job_type:"FULL_TIME",salary_min:55e3,salary_max:7e4,remote_type:"hybrid",experience_level:"senior",description:"Nous recherchons un développeur React expérimenté pour rejoindre notre équipe...",requirements:["5+ ans d'expérience en React","Maîtrise de TypeScript","Expérience avec les API GraphQL"],status:"active"})}catch(s){console.error("Error loading job posting:",s)}finally{u(!1)}},f=async r=>{if(r.preventDefault(),!t.title||!t.description||!t.location){n({type:"error",text:"Veuillez remplir tous les champs obligatoires"});return}try{x(!0),n(null),await new Promise(s=>setTimeout(s,1e3)),console.log("Saving job posting:",t),n({type:"success",text:"Offre d'emploi enregistrée avec succès"}),setTimeout(()=>{c("/recruiter/job-postings")},1500)}catch(s){console.error("Error saving job posting:",s),n({type:"error",text:s.message||"Une erreur est survenue"})}finally{x(!1)}},y=()=>{i({...t,requirements:[...t.requirements,""]})},j=(r,s)=>{const l=[...t.requirements];l[r]=s,i({...t,requirements:l})},v=r=>{const s=[...t.requirements];s.splice(r,1),i({...t,requirements:s})};return g?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-400"})}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("button",{onClick:()=>c("/recruiter/job-postings"),className:"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-white/5",children:e.jsx(q,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:o?"Modifier l'offre d'emploi":"Créer une offre d'emploi"})]}),d&&e.jsx(w.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:d.text}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Informations de base"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Titre du poste *"}),e.jsx("input",{type:"text",value:t.title,onChange:r=>i({...t,title:r.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Entreprise *"}),e.jsx("input",{type:"text",value:t.company,onChange:r=>i({...t,company:r.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Localisation *"}),e.jsx("input",{type:"text",value:t.location,onChange:r=>i({...t,location:r.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Type de contrat *"}),e.jsxs("select",{value:t.job_type,onChange:r=>i({...t,job_type:r.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[e.jsx("option",{value:"FULL_TIME",children:"Temps plein"}),e.jsx("option",{value:"PART_TIME",children:"Temps partiel"}),e.jsx("option",{value:"CONTRACT",children:"CDD"}),e.jsx("option",{value:"FREELANCE",children:"Freelance"}),e.jsx("option",{value:"INTERNSHIP",children:"Stage"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Salaire minimum"}),e.jsx("input",{type:"number",value:t.salary_min,onChange:r=>i({...t,salary_min:r.target.value?Number(r.target.value):""}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ex: 45000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Salaire maximum"}),e.jsx("input",{type:"number",value:t.salary_max,onChange:r=>i({...t,salary_max:r.target.value?Number(r.target.value):""}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ex: 60000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Type de travail *"}),e.jsxs("select",{value:t.remote_type,onChange:r=>i({...t,remote_type:r.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[e.jsx("option",{value:"remote",children:"À distance"}),e.jsx("option",{value:"hybrid",children:"Hybride"}),e.jsx("option",{value:"onsite",children:"Sur site"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Niveau d'expérience *"}),e.jsxs("select",{value:t.experience_level,onChange:r=>i({...t,experience_level:r.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[e.jsx("option",{value:"junior",children:"Junior (0-2 ans)"}),e.jsx("option",{value:"mid",children:"Confirmé (3-5 ans)"}),e.jsx("option",{value:"senior",children:"Senior (5+ ans)"})]})]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Description et prérequis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description du poste *"}),e.jsx("textarea",{value:t.description,onChange:r=>i({...t,description:r.target.value}),rows:6,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Prérequis *"}),e.jsx("button",{type:"button",onClick:y,className:"text-primary-400 hover:text-primary-300",children:e.jsx(_,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"space-y-2",children:t.requirements.map((r,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:l=>j(s,l.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ex: 3+ ans d'expérience en développement React"}),e.jsx("button",{type:"button",onClick:()=>v(s),className:"text-gray-400 hover:text-red-400",disabled:t.requirements.length<=1,children:e.jsx(C,{className:"h-5 w-5"})})]},s))})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Publication"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Statut de l'offre"}),e.jsxs("select",{value:t.status,onChange:r=>i({...t,status:r.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"draft",children:"Brouillon"}),e.jsx("option",{value:"active",children:"Publier immédiatement"}),e.jsx("option",{value:"paused",children:"Enregistrer mais ne pas publier"})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:()=>c("/recruiter/job-postings"),className:"btn-secondary",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:m,className:"btn-primary",children:m?"Enregistrement...":o?"Mettre à jour l'offre":"Créer l'offre"})]})]})]})}export{J as default};
//# sourceMappingURL=CreateJobPosting-ll3Eq-7Q.js.map
