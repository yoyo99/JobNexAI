import{j as e,m as F}from"./motion-DEFBAXox.js";import{a}from"./vendor-C4jSHSwK.js";import{F as R,i as y,j as v,d as w,x as D,u as I,B as _}from"./index-DicW4zRf.js";import{F as P}from"./StarIcon-CqS4APUS.js";import{_ as N}from"./ui-Nk6LSbPB.js";import{F as T}from"./EyeIcon-CV3OtVk0.js";import{F as $}from"./UserGroupIcon-DWlbsNzs.js";import{F as A,a as J}from"./PencilIcon-DvJd0cAt.js";import{F as U}from"./TrashIcon-CkYu8bNi.js";import"./i18n-DQkvtCzx.js";function Z({title:l,titleId:c,...r},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":c},r),l?a.createElement("title",{id:c},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const O=a.forwardRef(Z);function q({title:l,titleId:c,...r},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":c},r),l?a.createElement("title",{id:c},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const B=a.forwardRef(q);function V({isOpen:l,onClose:c,job:r}){const[i,d]=a.useState("details"),j=s=>{switch(s){case"FULL_TIME":return"Temps plein";case"PART_TIME":return"Temps partiel";case"CONTRACT":return"CDD";case"FREELANCE":return"Freelance";case"INTERNSHIP":return"Stage";default:return s}},h=s=>{switch(s){case"remote":return"À distance";case"hybrid":return"Hybride";case"onsite":return"Sur site";default:return s}},g=s=>{switch(s){case"junior":return"Junior (0-2 ans)";case"mid":return"Confirmé (3-5 ans)";case"senior":return"Senior (5+ ans)";default:return s}},u=[{id:"app1",candidate:{id:"cand1",name:"Sophie Martin",title:"Développeuse Full Stack",avatar_url:"https://randomuser.me/api/portraits/women/1.jpg",match_score:92},status:"new",created_at:"2025-04-10T10:30:00Z"},{id:"app2",candidate:{id:"cand2",name:"Thomas Dubois",title:"Product Manager",avatar_url:"https://randomuser.me/api/portraits/men/2.jpg",match_score:85},status:"reviewing",created_at:"2025-04-09T14:15:00Z"},{id:"app3",candidate:{id:"cand3",name:"Julie Moreau",title:"UX Designer",avatar_url:"https://randomuser.me/api/portraits/women/3.jpg",match_score:78},status:"interview",created_at:"2025-04-08T09:45:00Z"}],o=s=>{switch(s){case"new":return"bg-blue-600 text-blue-100";case"reviewing":return"bg-yellow-600 text-yellow-100";case"interview":return"bg-green-600 text-green-100";case"offer":return"bg-purple-600 text-purple-100";case"hired":return"bg-primary-600 text-primary-100";case"rejected":return"bg-red-600 text-red-100";default:return"bg-gray-600 text-gray-100"}},m=s=>{switch(s){case"new":return"Nouvelle";case"reviewing":return"En cours d'analyse";case"interview":return"Entretien";case"offer":return"Offre";case"hired":return"Embauché";case"rejected":return"Refusé";default:return s}};return e.jsxs(N,{open:l,onClose:c,className:"relative z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/75","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(N.Panel,{className:"w-full max-w-4xl h-[90vh] overflow-y-auto rounded-lg bg-background p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(N.Title,{className:"text-lg font-medium text-white",children:"Détails de l'offre d'emploi"}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(R,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-white",children:r.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-gray-400",children:[e.jsx("span",{children:r.company}),e.jsx("span",{className:"mx-1",children:"•"}),e.jsx("span",{children:r.location}),e.jsx("span",{className:"mx-1",children:"•"}),e.jsx("span",{children:j(r.job_type)})]})]}),e.jsx("div",{className:"mb-6 border-b border-white/10",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>d("details"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="details"?"border-primary-400 text-primary-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Détails de l'offre"}),e.jsxs("button",{onClick:()=>d("applications"),className:`py-4 px-1 border-b-2 font-medium text-sm ${i==="applications"?"border-primary-400 text-primary-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:["Candidatures (",r.applications_count,")"]})]})}),i==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Salaire"}),e.jsxs("p",{className:"text-white font-medium",children:[r.salary_min.toLocaleString()," - ",r.salary_max.toLocaleString()," €"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Type de travail"}),e.jsx("p",{className:"text-white font-medium",children:h(r.remote_type)})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Niveau d'expérience"}),e.jsx("p",{className:"text-white font-medium",children:g(r.experience_level)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium mb-2",children:"Description du poste"}),e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:r.description})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium mb-2",children:"Prérequis"}),e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:r.requirements.map((s,f)=>e.jsx("li",{children:s},f))})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Date de publication"}),e.jsx("p",{className:"text-white",children:y(new Date(r.created_at),"dd MMMM yyyy",{locale:v})})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Date d'expiration"}),e.jsx("p",{className:"text-white",children:y(new Date(r.expires_at),"dd MMMM yyyy",{locale:v})})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(w.Link,{to:`/recruiter/create-job?edit=${r.id}`,className:"btn-secondary",children:"Modifier l'offre"}),e.jsx("button",{className:"btn-primary",children:"Promouvoir l'offre"})]})]}),i==="applications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-white font-medium",children:"Candidatures reçues"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"new",children:"Nouvelles"}),e.jsx("option",{value:"reviewing",children:"En analyse"}),e.jsx("option",{value:"interview",children:"Entretien"}),e.jsx("option",{value:"rejected",children:"Refusées"})]}),e.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"recent",children:"Plus récentes"}),e.jsx("option",{value:"match",children:"Meilleur match"})]})]})]}),u.length===0?e.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-lg",children:[e.jsx(D,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Aucune candidature pour cette offre"})]}):e.jsx("div",{className:"space-y-4",children:u.map(s=>e.jsx("div",{className:"bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:s.candidate.avatar_url,alt:s.candidate.name,className:"h-12 w-12 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:s.candidate.name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.candidate.title})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"h-5 w-5 text-yellow-400"}),e.jsxs("span",{className:"text-white font-medium",children:[s.candidate.match_score,"%"]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o(s.status)}`,children:m(s.status)}),e.jsx("span",{className:"text-sm text-gray-400",children:y(new Date(s.created_at),"dd MMM",{locale:v})}),e.jsx("button",{className:"btn-primary text-sm",children:"Voir le profil"})]})]})},s.id))})]})]})})]})}function se(){const{user:l}=I(),[c,r]=a.useState(!0),[i,d]=a.useState([]),[j,h]=a.useState(!1),[g,u]=a.useState(null),[o,m]=a.useState("all");a.useEffect(()=>{l&&s()},[l,o]);const s=async()=>{try{r(!0);let n=[...[{id:"job1",title:"Développeur React Senior",company:"TechInnovate",location:"Paris",job_type:"FULL_TIME",salary_min:55e3,salary_max:7e4,remote_type:"hybrid",experience_level:"senior",description:"Nous recherchons un développeur React expérimenté pour rejoindre notre équipe...",requirements:["5+ ans d'expérience en React","Maîtrise de TypeScript","Expérience avec les API GraphQL"],status:"active",applications_count:12,views_count:245,created_at:"2025-04-01T00:00:00Z",expires_at:"2025-05-01T00:00:00Z"},{id:"job2",title:"Chef de Projet Digital",company:"TechInnovate",location:"Lyon",job_type:"FULL_TIME",salary_min:45e3,salary_max:6e4,remote_type:"onsite",experience_level:"mid",description:"Nous cherchons un chef de projet digital pour gérer nos projets web et mobiles...",requirements:["3+ ans d'expérience en gestion de projet","Certification Agile/Scrum","Connaissance du secteur digital"],status:"active",applications_count:8,views_count:180,created_at:"2025-04-02T00:00:00Z",expires_at:"2025-05-02T00:00:00Z"},{id:"job3",title:"UI/UX Designer",company:"TechInnovate",location:"Bordeaux",job_type:"FULL_TIME",salary_min:4e4,salary_max:55e3,remote_type:"remote",experience_level:"mid",description:"Nous recherchons un designer UI/UX talentueux pour créer des interfaces utilisateur exceptionnelles...",requirements:["Portfolio de projets UI/UX","Maîtrise de Figma","Expérience en recherche utilisateur"],status:"paused",applications_count:5,views_count:120,created_at:"2025-04-03T00:00:00Z",expires_at:"2025-05-03T00:00:00Z"},{id:"job4",title:"Ingénieur DevOps",company:"TechInnovate",location:"Toulouse",job_type:"FULL_TIME",salary_min:5e4,salary_max:65e3,remote_type:"hybrid",experience_level:"senior",description:"Nous cherchons un ingénieur DevOps pour améliorer notre infrastructure et nos processus de déploiement...",requirements:["Expérience avec Docker et Kubernetes","Connaissance des services AWS","Maîtrise des pipelines CI/CD"],status:"expired",applications_count:3,views_count:90,created_at:"2025-03-01T00:00:00Z",expires_at:"2025-04-01T00:00:00Z"},{id:"job5",title:"Data Analyst",company:"TechInnovate",location:"Paris",job_type:"FULL_TIME",salary_min:45e3,salary_max:55e3,remote_type:"hybrid",experience_level:"mid",description:"Nous recherchons un analyste de données pour aider à interpréter nos données et générer des insights...",requirements:["Maîtrise de SQL","Expérience avec Python ou R","Connaissance des outils de visualisation"],status:"draft",applications_count:0,views_count:0,created_at:"2025-04-05T00:00:00Z",expires_at:"2025-05-05T00:00:00Z"}]];o!=="all"&&(n=n.filter(x=>x.status===o)),d(n)}catch(t){console.error("Error loading job postings:",t)}finally{r(!1)}},f=t=>{u(t),h(!0)},M=async(t,n)=>{const x=n==="active"?"paused":"active";d(p=>p.map(b=>b.id===t?{...b,status:x}:b))},E=async t=>{confirm("Êtes-vous sûr de vouloir supprimer cette offre d'emploi ?")&&d(n=>n.filter(x=>x.id!==t))},L=async t=>{const n=new Date;n.setMonth(n.getMonth()+1),d(x=>x.map(p=>p.id===t?{...p,status:"active",expires_at:n.toISOString()}:p))},C=t=>{switch(t){case"active":return"bg-green-600 text-green-100";case"paused":return"bg-yellow-600 text-yellow-100";case"expired":return"bg-red-600 text-red-100";case"draft":return"bg-gray-600 text-gray-100";default:return"bg-gray-600 text-gray-100"}},S=t=>{switch(t){case"active":return"Active";case"paused":return"En pause";case"expired":return"Expirée";case"draft":return"Brouillon";default:return t}},k=t=>{switch(t){case"FULL_TIME":return"Temps plein";case"PART_TIME":return"Temps partiel";case"CONTRACT":return"CDD";case"FREELANCE":return"Freelance";case"INTERNSHIP":return"Stage";default:return t}};return e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mes offres d'emploi"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Gérez vos offres d'emploi et suivez les candidatures"})]}),e.jsxs(w.Link,{to:"/recruiter/create-job",className:"btn-primary flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Créer une offre"]})]}),e.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-lg text-sm ${o==="all"?"bg-primary-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"Toutes"}),e.jsx("button",{onClick:()=>m("active"),className:`px-4 py-2 rounded-lg text-sm ${o==="active"?"bg-primary-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"Actives"}),e.jsx("button",{onClick:()=>m("paused"),className:`px-4 py-2 rounded-lg text-sm ${o==="paused"?"bg-primary-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"En pause"}),e.jsx("button",{onClick:()=>m("expired"),className:`px-4 py-2 rounded-lg text-sm ${o==="expired"?"bg-primary-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"Expirées"}),e.jsx("button",{onClick:()=>m("draft"),className:`px-4 py-2 rounded-lg text-sm ${o==="draft"?"bg-primary-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"Brouillons"})]}),c?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-400"})}):e.jsx("div",{className:"space-y-6",children:i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-400",children:"Aucune offre d'emploi trouvée"}),e.jsxs(w.Link,{to:"/recruiter/create-job",className:"btn-primary mt-4 inline-flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Créer une offre"]})]}):i.map(t=>e.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card hover:bg-white/10 transition-colors",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:t.title}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(t.status)}`,children:S(t.status)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("span",{children:t.company}),e.jsx("span",{className:"mx-1",children:"•"}),e.jsx("span",{children:t.location}),e.jsx("span",{className:"mx-1",children:"•"}),e.jsx("span",{children:k(t.job_type)}),e.jsx("span",{className:"mx-1",children:"•"}),e.jsx("span",{children:t.remote_type==="remote"?"À distance":t.remote_type==="hybrid"?"Hybride":"Sur site"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-400",children:[e.jsx(T,{className:"h-4 w-4"}),t.views_count," vues"]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-400",children:[e.jsx($,{className:"h-4 w-4"}),t.applications_count," candidatures"]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Expire le ",y(new Date(t.expires_at),"dd MMMM yyyy",{locale:v})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(t),className:"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",title:"Voir les détails",children:e.jsx(T,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>M(t.id,t.status),className:"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",title:t.status==="active"?"Mettre en pause":"Activer",disabled:t.status==="expired"||t.status==="draft",children:t.status==="active"?e.jsx(O,{className:"h-5 w-5"}):e.jsx(B,{className:"h-5 w-5"})}),t.status==="expired"&&e.jsx("button",{onClick:()=>L(t.id),className:"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",title:"Renouveler",children:e.jsx(A,{className:"h-5 w-5"})}),e.jsx(w.Link,{to:`/recruiter/create-job?edit=${t.id}`,className:"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",title:"Modifier",children:e.jsx(J,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>E(t.id),className:"p-2 text-gray-400 hover:text-red-400 rounded-full hover:bg-white/10 transition-colors",title:"Supprimer",children:e.jsx(U,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>f(t),className:"btn-primary",children:"Voir les candidatures"})]})]})},t.id))}),g&&e.jsx(V,{isOpen:j,onClose:()=>{h(!1),u(null)},job:g})]})}export{se as default};
//# sourceMappingURL=JobPostings-DVN3UmSq.js.map
