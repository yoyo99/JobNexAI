const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-ChiRMnuA.js","assets/vendor-C4jSHSwK.js","assets/JobNexAILanding-CLPiHH3K.js","assets/motion-DEFBAXox.js","assets/i18n-DQkvtCzx.js","assets/ui-Nk6LSbPB.js","assets/BriefcaseIcon-DEgrI4pT.js","assets/ChartBarIcon-BeKWrpHR.js","assets/BoltIcon-DtgtzX6J.js","assets/UserGroupIcon-DWlbsNzs.js","assets/Footer-Bny6ZaLZ.js","assets/Auth-CpTQYWjn.js","assets/PasswordStrengthMeter-xLiN_dYJ.js","assets/EyeIcon-CV3OtVk0.js","assets/PricingPage-B5K3nE1y.js","assets/supabaseClient-BHztVw80.js","assets/PrivacyPolicy-DYg5pbUx.js","assets/FeaturesPage-DFGaxJsw.js","assets/ClockIcon-v4O1_gIX.js","assets/HowItWorksPage-C3hSdG6M.js","assets/TestimonialsPage-CViwGhrF.js","assets/ResetPassword-eofDhtp_.js","assets/AuthCallback-pvL6cX6k.js","assets/StripeCheckoutStatus-DT_wbz5c.js","assets/stripe-service-jIMPwR8k.js","assets/LoadingSpinner-CA1rpKOQ.js","assets/CheckCircleIcon-DwgVqYHW.js","assets/Dashboard-BwhPWLZZ.js","assets/StarIcon-CqS4APUS.js","assets/PhoneIcon-L14-XtRz.js","assets/ArrowUpIcon-BtOt9Gwt.js","assets/CalendarIcon-BRtr-Ott.js","assets/BuildingOfficeIcon-BjP3N-A1.js","assets/MapPinIcon-BvmDLLFD.js","assets/Profile-zXF9T_ek.js","assets/StripeWebhookInfo-DAyxlWho.js","assets/index-D-twCb4o.js","assets/PlusIcon-ySxxH9nU.js","assets/TrashIcon-CkYu8bNi.js","assets/ClipboardIcon-Ddvdg0PT.js","assets/Billing-DMKbyGtG.js","assets/DocumentArrowDownIcon-CFaK7p-O.js","assets/JobSearch-C2zrA97L.js","assets/AdjustmentsHorizontalIcon-Dd7dGYQz.js","assets/JobApplications-CZyM2hBI.js","assets/PencilIcon-DvJd0cAt.js","assets/PaperAirplaneIcon-Z1lv4LRb.js","assets/MarketAnalysis-CGqvBafl.js","assets/CurrencyEuroIcon-DdA5iVvH.js","assets/CVBuilder-Yhm9NYcF.js","assets/ArrowLeftIcon-W7OVpCEa.js","assets/NetworkPage-CxolSpqJ.js","assets/MarketTrendsPage-DwSUXeK0.js","assets/FreelanceProjects-OFy6Sr0O.js","assets/formatPrice-CNcsYbxt.js","assets/BookmarkIcon-CNRvCNh2.js","assets/FreelanceProfile-CkgoKkXY.js","assets/RecruiterDashboard-Bs_OymsD.js","assets/EnvelopeIcon-CqsiHra1.js","assets/CandidateSearch-C637geeB.js","assets/JobPostings-DVN3UmSq.js","assets/CreateJobPosting-ll3Eq-7Q.js","assets/UserTypeSelection-CQdhuh0t.js"])))=>i.map(i=>d[i]);
import{j as p,m as Wt}from"./motion-DEFBAXox.js";import{r as bf,c as yr,g as Co,d as vf,a as S,b as nl,R as ne,f as wf}from"./vendor-C4jSHSwK.js";import{i as Ht,a as Ra,u as $s,I as Sf}from"./i18n-DQkvtCzx.js";import{q as ze,a as pn,_ as Ca}from"./ui-Nk6LSbPB.js";function Ef(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Jr={},Oa;function kf(){if(Oa)return Jr;Oa=1;var t=bf();return Jr.createRoot=t.createRoot,Jr.hydrateRoot=t.hydrateRoot,Jr}var xf=kf();function Ui(t){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(t)}function rl(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Ui(XMLHttpRequest))==="object"}function Tf(t){return!!t&&typeof t.then=="function"}function If(t){return Tf(t)?t:Promise.resolve(t)}function Rf(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yr={exports:{}},Kr={exports:{}},Aa;function Cf(){return Aa||(Aa=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof yr<"u"&&yr,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof a<"u"&&a,c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(_){return _&&DataView.prototype.isPrototypeOf(_)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(_){return _&&l.indexOf(Object.prototype.toString.call(_))>-1};function h(_){if(typeof _!="string"&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(_)||_==="")throw new TypeError('Invalid character in header field name: "'+_+'"');return _.toLowerCase()}function f(_){return typeof _!="string"&&(_=String(_)),_}function m(_){var w={next:function(){var O=_.shift();return{done:O===void 0,value:O}}};return c.iterable&&(w[Symbol.iterator]=function(){return w}),w}function y(_){this.map={},_ instanceof y?_.forEach(function(w,O){this.append(O,w)},this):Array.isArray(_)?_.forEach(function(w){this.append(w[0],w[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(w){this.append(w,_[w])},this)}y.prototype.append=function(_,w){_=h(_),w=f(w);var O=this.map[_];this.map[_]=O?O+", "+w:w},y.prototype.delete=function(_){delete this.map[h(_)]},y.prototype.get=function(_){return _=h(_),this.has(_)?this.map[_]:null},y.prototype.has=function(_){return this.map.hasOwnProperty(h(_))},y.prototype.set=function(_,w){this.map[h(_)]=f(w)},y.prototype.forEach=function(_,w){for(var O in this.map)this.map.hasOwnProperty(O)&&_.call(w,this.map[O],O,this)},y.prototype.keys=function(){var _=[];return this.forEach(function(w,O){_.push(O)}),m(_)},y.prototype.values=function(){var _=[];return this.forEach(function(w){_.push(w)}),m(_)},y.prototype.entries=function(){var _=[];return this.forEach(function(w,O){_.push([O,w])}),m(_)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function g(_){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}function b(_){return new Promise(function(w,O){_.onload=function(){w(_.result)},_.onerror=function(){O(_.error)}})}function E(_){var w=new FileReader,O=b(w);return w.readAsArrayBuffer(_),O}function k(_){var w=new FileReader,O=b(w);return w.readAsText(_),O}function T(_){for(var w=new Uint8Array(_),O=new Array(w.length),M=0;M<w.length;M++)O[M]=String.fromCharCode(w[M]);return O.join("")}function x(_){if(_.slice)return _.slice(0);var w=new Uint8Array(_.byteLength);return w.set(new Uint8Array(_)),w.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(_){this.bodyUsed=this.bodyUsed,this._bodyInit=_,_?typeof _=="string"?this._bodyText=_:c.blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:c.formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():c.arrayBuffer&&c.blob&&u(_)?(this._bodyArrayBuffer=x(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||d(_))?this._bodyArrayBuffer=x(_):this._bodyText=_=Object.prototype.toString.call(_):this._bodyText="",this.headers.get("content-type")||(typeof _=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var _=g(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var _=g(this);return _||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(E)}),this.text=function(){var _=g(this);if(_)return _;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(_){var w=_.toUpperCase();return j.indexOf(w)>-1?w:_}function I(_,w){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');w=w||{};var O=w.body;if(_ instanceof I){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,w.headers||(this.headers=new y(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,!O&&_._bodyInit!=null&&(O=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new y(w.headers)),this.method=D(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(w.cache==="no-store"||w.cache==="no-cache")){var M=/([?&])_=[^&]*/;if(M.test(this.url))this.url=this.url.replace(M,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function P(_){var w=new FormData;return _.trim().split("&").forEach(function(O){if(O){var M=O.split("="),$=M.shift().replace(/\+/g," "),N=M.join("=").replace(/\+/g," ");w.append(decodeURIComponent($),decodeURIComponent(N))}}),w}function Y(_){var w=new y,O=_.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(M){return M.indexOf(`
`)===0?M.substr(1,M.length):M}).forEach(function(M){var $=M.split(":"),N=$.shift().trim();if(N){var be=$.join(":").trim();w.append(N,be)}}),w}R.call(I.prototype);function C(_,w){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText=w.statusText===void 0?"":""+w.statusText,this.headers=new y(w.headers),this.url=w.url||"",this._initBody(_)}R.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},C.error=function(){var _=new C(null,{status:0,statusText:""});return _.type="error",_};var he=[301,302,303,307,308];C.redirect=function(_,w){if(he.indexOf(w)===-1)throw new RangeError("Invalid status code");return new C(null,{status:w,headers:{location:_}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(w,O){this.message=w,this.name=O;var M=Error(w);this.stack=M.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function re(_,w){return new Promise(function(O,M){var $=new I(_,w);if($.signal&&$.signal.aborted)return M(new o.DOMException("Aborted","AbortError"));var N=new XMLHttpRequest;function be(){N.abort()}N.onload=function(){var ge={status:N.status,statusText:N.statusText,headers:Y(N.getAllResponseHeaders()||"")};ge.url="responseURL"in N?N.responseURL:ge.headers.get("X-Request-URL");var De="response"in N?N.response:N.responseText;setTimeout(function(){O(new C(De,ge))},0)},N.onerror=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},N.ontimeout=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},N.onabort=function(){setTimeout(function(){M(new o.DOMException("Aborted","AbortError"))},0)};function lt(ge){try{return ge===""&&a.location.href?a.location.href:ge}catch{return ge}}N.open($.method,lt($.url),!0),$.credentials==="include"?N.withCredentials=!0:$.credentials==="omit"&&(N.withCredentials=!1),"responseType"in N&&(c.blob?N.responseType="blob":c.arrayBuffer&&$.headers.get("Content-Type")&&$.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(N.responseType="arraybuffer")),w&&typeof w.headers=="object"&&!(w.headers instanceof y)?Object.getOwnPropertyNames(w.headers).forEach(function(ge){N.setRequestHeader(ge,f(w.headers[ge]))}):$.headers.forEach(function(ge,De){N.setRequestHeader(De,ge)}),$.signal&&($.signal.addEventListener("abort",be),N.onreadystatechange=function(){N.readyState===4&&$.signal.removeEventListener("abort",be)}),N.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return re.polyfill=!0,a.fetch||(a.fetch=re,a.Headers=y,a.Request=I,a.Response=C),o.Headers=y,o.Request=I,o.Response=C,o.fetch=re,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(Kr,Kr.exports)),Kr.exports}var Pa;function Of(){return Pa||(Pa=1,function(t,e){var n=typeof fetch=="function"?fetch:void 0;if(typeof yr<"u"&&yr.fetch?n=yr.fetch:typeof window<"u"&&window.fetch&&(n=window.fetch),typeof Rf<"u"&&typeof window>"u"){var r=n||Cf();r.default&&(r=r.default),e.default=r,t.exports=e.default}}(Yr,Yr.exports)),Yr.exports}var sl=Of();const il=Co(sl),Ma=Ef({__proto__:null,default:il},[sl]);function ja(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ja(Object(n),!0).forEach(function(r){Af(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Af(t,e,n){return(e=Pf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pf(t){var e=Mf(t,"string");return Gt(e)=="symbol"?e:e+""}function Mf(t,e){if(Gt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gt(t){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(t)}var Rt=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Rt=global.fetch:typeof window<"u"&&window.fetch&&(Rt=window.fetch);var Ir;rl()&&(typeof global<"u"&&global.XMLHttpRequest?Ir=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Ir=window.XMLHttpRequest));var ys;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?ys=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ys=window.ActiveXObject));!Rt&&Ma&&!Ir&&!ys&&(Rt=il||Ma);typeof Rt!="function"&&(Rt=void 0);var Bi=function(e,n){if(n&&Gt(n)==="object"){var r="";for(var s in n)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(n[s]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},Na=function(e,n,r,s){var i=function(c){if(!c.ok)return r(c.statusText||"Error",{status:c.status});c.text().then(function(u){r(null,{status:c.status,data:u})}).catch(r)};if(s){var o=s(e,n);if(o instanceof Promise){o.then(i).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(i).catch(r):Rt(e,n).then(i).catch(r)},La=!1,jf=function(e,n,r,s){e.queryStringParams&&(n=Bi(n,e.queryStringParams));var i=Da({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(i["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,a=Da({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:i},La?{}:o),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Na(n,a,s,c)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return s(u);try{Object.keys(o).forEach(function(l){delete a[l]}),Na(n,a,s,c),La=!0}catch(l){s(l)}}},Df=function(e,n,r,s){r&&Gt(r)==="object"&&(r=Bi("",r).slice(1)),e.queryStringParams&&(n=Bi(n,e.queryStringParams));try{var i;Ir?i=new Ir:i=new ys("MSXML2.XMLHTTP.3.0"),i.open(r?"POST":"GET",n,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,r&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)i.setRequestHeader(a,o[a]);i.onreadystatechange=function(){i.readyState>3&&s(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(r)}catch(c){console&&console.log(c)}},Nf=function(e,n,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},Rt&&n.indexOf("file:")!==0)return jf(e,n,r,s);if(rl()||typeof ActiveXObject=="function")return Df(e,n,r,s);s(new Error("No fetch and no xhr implementation found!"))};function Mn(t){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(t)}function $a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$a(Object(n),!0).forEach(function(r){ol(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,al(r.key),r)}}function Ff(t,e,n){return e&&$f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ol(t,e,n){return(e=al(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function al(t){var e=Uf(t,"string");return Mn(e)=="symbol"?e:e+""}function Uf(t,e){if(Mn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bf=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,s){return ol({},r,s||"")},parseLoadPayload:function(n,r){},request:Nf,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},cl=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Lf(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return Ff(t,[{key:"init",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=hi(hi(hi({},Bf()),this.options||{}),s),this.allOptions=i,this.services&&this.options.reloadInterval){var o=setInterval(function(){return r.reload()},this.options.reloadInterval);Mn(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(n,r,s){this._readAny(n,n,r,r,s)}},{key:"read",value:function(n,r,s){this._readAny([n],n,[r],r,s)}},{key:"_readAny",value:function(n,r,s,i,o){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(n,s)),c=If(c),c.then(function(u){if(!u)return o(null,{});var l=a.services.interpolator.interpolate(u,{lng:n.join("+"),ns:s.join("+")});a.loadUrl(l,o,r,i)})}},{key:"loadUrl",value:function(n,r,s,i){var o=this,a=typeof s=="string"?[s]:s,c=typeof i=="string"?[i]:i,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,n,u,function(l,d){if(d&&(d.status>=500&&d.status<600||!d.status))return r("failed loading "+n+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return r("failed loading "+n+"; status code: "+d.status,!1);if(!d&&l&&l.message){var h=l.message.toLowerCase(),f=["failed","fetch","network","load"].find(function(g){return h.indexOf(g)>-1});if(f)return r("failed loading "+n+": "+l.message,!0)}if(l)return r(l,!1);var m,y;try{typeof d.data=="string"?m=o.options.parse(d.data,s,i):m=d.data}catch{y="failed parsing "+n+" to json"}if(y)return r(y,!1);r(null,m)})}},{key:"create",value:function(n,r,s,i,o){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var c=this.options.parsePayload(r,s,i),u=0,l=[],d=[];n.forEach(function(h){var f=a.options.addPath;typeof a.options.addPath=="function"&&(f=a.options.addPath(h,r));var m=a.services.interpolator.interpolate(f,{lng:h,ns:r});a.options.request(a.options,m,c,function(y,g){u+=1,l.push(y),d.push(g),u===n.length&&typeof o=="function"&&o(l,d)})})}}},{key:"reload",value:function(){var n=this,r=this.services,s=r.backendConnector,i=r.languageUtils,o=r.logger,a=s.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(d){var h=i.toResolveHierarchy(d);h.forEach(function(f){c.indexOf(f)<0&&c.push(f)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(l){return u(l)}),c.forEach(function(l){n.allOptions.ns.forEach(function(d){s.read(l,d,"read",null,null,function(h,f){h&&o.warn("loading namespace ".concat(d," for language ").concat(l," failed"),h),!h&&f&&o.log("loaded namespace ".concat(d," for language ").concat(l),f),s.loaded("".concat(l,"|").concat(d),h,f)})})})}}}])}();cl.type="backend";function Hf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rr(t){"@babel/helpers - typeof";return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(t)}function qf(t,e){if(Rr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wf(t){var e=qf(t,"string");return Rr(e)=="symbol"?e:e+""}function zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wf(r.key),r)}}function Vf(t,e,n){return e&&zf(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var ul=[],Gf=ul.forEach,Jf=ul.slice;function Yf(t){return Gf.call(Jf.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var Fa=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Kf=function(e,n,r){var s=r||{};s.path=s.path||"/";var i=encodeURIComponent(n),o="".concat(e,"=").concat(i);if(s.maxAge>0){var a=s.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(s.domain){if(!Fa.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!Fa.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var c=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(c){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},Ua={create:function(e,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=Kf(e,encodeURIComponent(n),i)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var i=r[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return i.substring(n.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},Xf={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=Ua.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&Ua.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},Qf={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),i=s.split("&"),o=0;o<i.length;o++){var a=i[o].indexOf("=");if(a>0){var c=i[o].substring(0,a);c===e.lookupQuerystring&&(n=i[o].substring(a+1))}}}return n}},nr=null,Ba=function(){if(nr!==null)return nr;try{nr=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{nr=!1}return nr},Zf={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&Ba()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&Ba()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},rr=null,Ha=function(){if(rr!==null)return rr;try{rr=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{rr=!1}return rr},ep={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&Ha()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&Ha()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},tp={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},np={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},rp={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},sp={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}},ll=!1;try{document.cookie,ll=!0}catch{}var dl=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ll||dl.splice(1,1);function ip(){return{order:dl,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var hl=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hf(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return Vf(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=Yf(r,this.options||{},ip()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Xf),this.addDetector(Qf),this.addDetector(Zf),this.addDetector(ep),this.addDetector(tp),this.addDetector(np),this.addDetector(rp),this.addDetector(sp)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var s=[];return n.forEach(function(i){if(r.detectors[i]){var o=r.detectors[i].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),s=s.map(function(i){return r.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(n,s.options)}))}}])}();hl.type="languageDetector";console.log("Initialisation du module i18n...");try{Ht.use(cl).use(hl).use(Ra).init({lng:"fr",fallbackLng:"en",ns:["common","translation"],defaultNS:"common",interpolation:{escapeValue:!1},react:{useSuspense:!1},partialBundledLanguages:!0,backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},detection:{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage","cookie"]}}).catch(t=>{console.error("Erreur lors de l'initialisation d'i18next:",t),Ht.init({lng:"fr",resources:{fr:{translation:{welcome:"Bienvenue sur JobNexAI",error:"Une erreur est survenue"}},en:{translation:{welcome:"Welcome to JobNexAI",error:"An error occurred"}}}})})}catch(t){console.error("Erreur critique lors de l'initialisation d'i18next:",t),Ht.use(Ra).init({lng:"fr",resources:{fr:{translation:{welcome:"Bienvenue sur JobNexAI",error:"Une erreur est survenue"}},en:{translation:{welcome:"Welcome to JobNexAI",error:"An error occurred"}}},interpolation:{escapeValue:!1}})}const op="modulepreload",ap=function(t){return"/"+t},qa={},J=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(l=>Promise.resolve(l).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=o(n.map(u=>{if(u=ap(u),u in qa)return;qa[u]=!0;const l=u.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":op,l||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),l)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var L=vf();const cp=()=>{const[t,e]=S.useState(null);return S.useEffect(()=>{function n(r){e({type:r.detail.type,message:r.detail.message}),setTimeout(()=>e(null),4e3)}return window.addEventListener("toast",n),()=>window.removeEventListener("toast",n)},[]),t?p.jsx("div",{className:`toast toast-${t.type}`,children:t.message}):null};function up({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const lp=S.forwardRef(up);function dp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const hp=S.forwardRef(dp);function fp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const Wa=S.forwardRef(fp);function pp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const mp=S.forwardRef(pp);function gp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const za=S.forwardRef(gp);function yp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const fi=S.forwardRef(yp);function _p({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Va=S.forwardRef(_p);function bp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const vp=S.forwardRef(bp);function wp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Sp=S.forwardRef(wp);function Ep({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const pi=S.forwardRef(Ep);function kp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const xp=S.forwardRef(kp);function Tp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ip=S.forwardRef(Tp);function Rp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 0 1-1.125-1.125v-3.75ZM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-8.25ZM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-2.25Z"}))}const Cp=S.forwardRef(Rp);function Op({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Ap=S.forwardRef(Op);function Pp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Mp=S.forwardRef(Pp);function jp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const mi=S.forwardRef(jp);function Dp({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const gi=S.forwardRef(Dp);function Np({title:t,titleId:e,...n},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const fl=S.forwardRef(Np);function pl(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pl(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lp(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pl(t))&&(r&&(r+=" "),r+=e);return r}const Oo="-",$p=t=>{const e=Up(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Oo);return a[0]===""&&a.length!==1&&a.shift(),ml(a,e)||Fp(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},ml=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ml(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Oo);return e.validators.find(({validator:o})=>o(i))?.classGroupId},Ga=/^\[(.+)\]$/,Fp=t=>{if(Ga.test(t)){const e=Ga.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Up=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Hp(Object.entries(t.classGroups),n).forEach(([i,o])=>{Hi(o,r,i,e)}),r},Hi=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ja(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Bp(s)){Hi(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Hi(o,Ja(e,i),n,r)})})},Ja=(t,e)=>{let n=t;return e.split(Oo).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Bp=t=>t.isThemeGetter,Hp=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,qp=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},gl="!",Wp=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,l=0,d;for(let g=0;g<a.length;g++){let b=a[g];if(u===0){if(b===s&&(r||a.slice(g,g+i)===e)){c.push(a.slice(l,g)),l=g+i;continue}if(b==="/"){d=g;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?a:a.substring(l),f=h.startsWith(gl),m=f?h.substring(1):h,y=d&&d>l?d-l:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},zp=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Vp=t=>({cache:qp(t.cacheSize),parseClassName:Wp(t),...$p(t)}),Gp=/\s+/,Jp=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Gp);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:l,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(u);let m=!!f,y=r(m?h.substring(0,f):h);if(!y){if(!m){a=u+(a.length>0?" "+a:a);continue}if(y=r(h),!y){a=u+(a.length>0?" "+a:a);continue}m=!1}const g=zp(l).join(":"),b=d?g+gl:g,E=b+y;if(i.includes(E))continue;i.push(E);const k=s(y,m);for(let T=0;T<k.length;++T){const x=k[T];i.push(b+x)}a=u+(a.length>0?" "+a:a)}return a};function Yp(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yl(e))&&(r&&(r+=" "),r+=n);return r}const yl=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yl(t[r]))&&(n&&(n+=" "),n+=e);return n};function Kp(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((l,d)=>d(l),t());return n=Vp(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const l=Jp(c,n);return s(c,l),l}return function(){return i(Yp.apply(null,arguments))}}const ce=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_l=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xp=/^\d+\/\d+$/,Qp=new Set(["px","full","screen"]),Zp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,em=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tt=t=>In(t)||Qp.has(t)||Xp.test(t),dt=t=>Wn(t,"length",dm),In=t=>!!t&&!Number.isNaN(Number(t)),yi=t=>Wn(t,"number",In),sr=t=>!!t&&Number.isInteger(Number(t)),sm=t=>t.endsWith("%")&&In(t.slice(0,-1)),U=t=>_l.test(t),ht=t=>Zp.test(t),im=new Set(["length","size","percentage"]),om=t=>Wn(t,im,bl),am=t=>Wn(t,"position",bl),cm=new Set(["image","url"]),um=t=>Wn(t,cm,fm),lm=t=>Wn(t,"",hm),ir=()=>!0,Wn=(t,e,n)=>{const r=_l.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},dm=t=>em.test(t)&&!tm.test(t),bl=()=>!1,hm=t=>nm.test(t),fm=t=>rm.test(t),pm=()=>{const t=ce("colors"),e=ce("spacing"),n=ce("blur"),r=ce("brightness"),s=ce("borderColor"),i=ce("borderRadius"),o=ce("borderSpacing"),a=ce("borderWidth"),c=ce("contrast"),u=ce("grayscale"),l=ce("hueRotate"),d=ce("invert"),h=ce("gap"),f=ce("gradientColorStops"),m=ce("gradientColorStopPositions"),y=ce("inset"),g=ce("margin"),b=ce("opacity"),E=ce("padding"),k=ce("saturate"),T=ce("scale"),x=ce("sepia"),R=ce("skew"),j=ce("space"),D=ce("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",U,e],C=()=>[U,e],he=()=>["",tt,dt],re=()=>["auto",In,U],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],w=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",U],N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],be=()=>[In,U];return{cacheSize:500,separator:":",theme:{colors:[ir],spacing:[tt,dt],blur:["none","",ht,U],brightness:be(),borderColor:[t],borderRadius:["none","","full",ht,U],borderSpacing:C(),borderWidth:he(),contrast:be(),grayscale:$(),hueRotate:be(),invert:$(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[sm,dt],inset:Y(),margin:Y(),opacity:be(),padding:C(),saturate:be(),scale:be(),sepia:$(),skew:be(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[ht]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),U]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sr,U]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",sr,U]}],"grid-cols":[{"grid-cols":[ir]}],"col-start-end":[{col:["auto",{span:["full",sr,U]},U]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[ir]}],"row-start-end":[{row:["auto",{span:[sr,U]},U]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,e]}],"min-w":[{"min-w":[U,e,"min","max","fit"]}],"max-w":[{"max-w":[U,e,"none","full","min","max","fit","prose",{screen:[ht]},ht]}],h:[{h:[U,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ht,dt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yi]}],"font-family":[{font:[ir]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",In,yi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tt,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...w(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tt,dt]}],"underline-offset":[{"underline-offset":["auto",tt,U]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),am]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",om]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},um]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...w(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:w()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...w()]}],"outline-offset":[{"outline-offset":[tt,U]}],"outline-w":[{outline:[tt,dt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[tt,dt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ht,lm]}],"shadow-color":[{shadow:[ir]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ht,U]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[l]}],invert:[{invert:[d]}],saturate:[{saturate:[k]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:be()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:be()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[sr,U]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tt,dt,yi]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mm=Kp(pm);function Ya(...t){return mm(Lp(t))}const gm={},Ka=t=>{let e;const n=new Set,r=(l,d)=>{const h=typeof l=="function"?l(e):l;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,f))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>u,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{(gm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,c);return c},ym=t=>t?Ka(t):Ka;var _i={exports:{}},bi={},vi={exports:{}},wi={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa;function _m(){if(Xa)return wi;Xa=1;var t=nl();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var f=h(),m=r({inst:{value:f,getSnapshot:h}}),y=m[0].inst,g=m[1];return i(function(){y.value=f,y.getSnapshot=h,c(y)&&g({inst:y})},[d,f,h]),s(function(){return c(y)&&g({inst:y}),d(function(){c(y)&&g({inst:y})})},[d]),o(f),f}function c(d){var h=d.getSnapshot;d=d.value;try{var f=h();return!n(d,f)}catch{return!0}}function u(d,h){return h()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return wi.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:l,wi}var Qa;function bm(){return Qa||(Qa=1,vi.exports=_m()),vi.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za;function vm(){if(Za)return bi;Za=1;var t=nl(),e=bm();function n(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,c=t.useDebugValue;return bi.useSyncExternalStoreWithSelector=function(u,l,d,h,f){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function b(R){if(!E){if(E=!0,k=R,R=h(R),f!==void 0&&y.hasValue){var j=y.value;if(f(j,R))return T=j}return T=R}if(j=T,r(k,R))return j;var D=h(R);return f!==void 0&&f(j,D)?(k=R,j):(k=R,T=D)}var E=!1,k,T,x=d===void 0?null:d;return[function(){return b(l())},x===null?void 0:function(){return b(x())}]},[l,d,h,f]);var g=s(u,m[0],m[1]);return o(function(){y.hasValue=!0,y.value=g},[g]),c(g),g},bi}var ec;function wm(){return ec||(ec=1,_i.exports=vm()),_i.exports}var Sm=wm();const Em=Co(Sm),vl={},{useDebugValue:km}=ne,{useSyncExternalStoreWithSelector:xm}=Em;let tc=!1;const Tm=t=>t;function Im(t,e=Tm,n){(vl?"production":void 0)!=="production"&&n&&!tc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),tc=!0);const r=xm(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return km(r),r}const nc=t=>{(vl?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?ym(t):t,n=(r,s)=>Im(e,r,s);return Object.assign(n,e),n},Rm=t=>t?nc(t):nc,Cm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>J(async()=>{const{default:r}=await Promise.resolve().then(()=>zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ao extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Om extends Ao{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Am extends Ao{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pm extends Ao{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qi||(qi={}));var Mm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class jm{constructor(e,{headers:n={},customFetch:r,region:s=qi.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Cm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Mm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(m=>{throw new Om(m)}),d=l.headers.get("x-relay-error");if(d&&d==="true")throw new Am(l);if(!l.ok)throw new Pm(l);let h=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield l.json():h==="application/octet-stream"?f=yield l.blob():h==="text/event-stream"?f=l:h==="multipart/form-data"?f=yield l.formData():f=yield l.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var ve={},nn={},rn={},sn={},on={},an={},Dm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=Dm();const Nm=jn.fetch,wl=jn.fetch.bind(jn),Sl=jn.Headers,Lm=jn.Request,$m=jn.Response,zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sl,Request:Lm,Response:$m,default:wl,fetch:Nm},Symbol.toStringTag,{value:"Module"})),Fm=wf(zn);var Xr={},rc;function El(){if(rc)return Xr;rc=1,Object.defineProperty(Xr,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Xr.default=t,Xr}var sc;function kl(){if(sc)return an;sc=1;var t=an&&an.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(an,"__esModule",{value:!0});const e=t(Fm),n=t(El());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var l,d,h;let f=null,m=null,y=null,g=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const x=await u.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=x:m=JSON.parse(x))}const k=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),T=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");k&&T&&T.length>1&&(y=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,g=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const k=await u.text();try{f=JSON.parse(k),Array.isArray(f)&&u.status===404&&(m=[],f=null,g=200,b="OK")}catch{u.status===404&&k===""?(g=204,b="No Content"):f={message:k}}if(f&&this.isMaybeSingle&&(!((h=f?.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,g=200,b="OK"),f&&this.shouldThrowOnError)throw new n.default(f)}return{error:f,data:m,count:y,status:g,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var l,d,h;return{error:{message:`${(l=u?.name)!==null&&l!==void 0?l:"FetchError"}: ${u?.message}`,details:`${(d=u?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u?.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return an.default=r,an}var ic;function xl(){if(ic)return on;ic=1;var t=on&&on.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(on,"__esModule",{value:!0});const e=t(kl());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",l=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${l?`${l},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var l;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`,u==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return on.default=n,on}var oc;function Po(){if(oc)return sn;oc=1;var t=sn&&sn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sn,"__esModule",{value:!0});const e=t(xl());class n extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${u}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return sn.default=n,sn}var ac;function Tl(){if(ac)return rn;ac=1;var t=rn&&rn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rn,"__esModule",{value:!0});const e=t(Po());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(l=>/\s/.test(l)&&!c?"":(l==='"'&&(c=!c),l)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(s)){const u=s.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(u.length>0){const l=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){const u="POST",l=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),c||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const d=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return rn.default=n,rn}var or={},ar={},cc;function Um(){return cc||(cc=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.version=void 0,ar.version="0.0.0-automated"),ar}var uc;function Bm(){if(uc)return or;uc=1,Object.defineProperty(or,"__esModule",{value:!0}),or.DEFAULT_HEADERS=void 0;const t=Um();return or.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},or}var lc;function Hm(){if(lc)return nn;lc=1;var t=nn&&nn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(nn,"__esModule",{value:!0});const e=t(Tl()),n=t(Po()),r=Bm();class s{constructor(o,{headers:a={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=c,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:c=!1,get:u=!1,count:l}={}){let d;const h=new URL(`${this.url}/rpc/${o}`);let f;c||u?(d=c?"HEAD":"GET",Object.entries(a).filter(([y,g])=>g!==void 0).map(([y,g])=>[y,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([y,g])=>{h.searchParams.append(y,g)})):(d="POST",f=a);const m=Object.assign({},this.headers);return l&&(m.Prefer=`count=${l}`),new n.default({method:d,url:h,headers:m,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return nn.default=s,nn}var dc;function qm(){if(dc)return ve;dc=1;var t=ve&&ve.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ve,"__esModule",{value:!0}),ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;const e=t(Hm());ve.PostgrestClient=e.default;const n=t(Tl());ve.PostgrestQueryBuilder=n.default;const r=t(Po());ve.PostgrestFilterBuilder=r.default;const s=t(xl());ve.PostgrestTransformBuilder=s.default;const i=t(kl());ve.PostgrestBuilder=i.default;const o=t(El());return ve.PostgrestError=o.default,ve.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},ve}var Wm=qm();const zm=Co(Wm),{PostgrestClient:Vm,PostgrestQueryBuilder:N1,PostgrestFilterBuilder:L1,PostgrestTransformBuilder:$1,PostgrestBuilder:F1,PostgrestError:U1}=zm,Gm="2.11.2",Jm={"X-Client-Info":`realtime-js/${Gm}`},Ym="1.0.0",Il=1e4,Km=1e3;var Rn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Rn||(Rn={}));var Ae;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ae||(Ae={}));var $e;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($e||($e={}));var Wi;(function(t){t.websocket="websocket"})(Wi||(Wi={}));var Bt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Bt||(Bt={}));class Xm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Rl{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ie||(ie={}));const hc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Qm(o,t,e,s),i),{})},Qm=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s?.type,o=n[t];return i&&!r.includes(i)?Cl(i,o):zi(o)},Cl=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ng(e,n)}switch(t){case ie.bool:return Zm(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return eg(e);case ie.json:case ie.jsonb:return tg(e);case ie.timestamp:return rg(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return zi(e);default:return zi(e)}},zi=t=>t,Zm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ng=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Cl(e,a))}return t},rg=t=>typeof t=="string"?t.replace(" ","T"):t,Ol=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Si{constructor(e,n,r={},s=Il){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fc||(fc={}));class _r{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_r.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=_r.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_r.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{o[u]||(c[u]=l)}),this.map(o,(u,l)=>{const d=i[u];if(d){const h=l.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),m=l.filter(g=>f.indexOf(g.presence_ref)<0),y=d.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(a[u]=m),y.length>0&&(c[u]=y)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){const d=e[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,l,c)}),this.map(o,(a,c)=>{let u=e[a];if(!u)return;const l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pc||(pc={}));var mc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(mc||(mc={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class Mo{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Si(this,$e.join,this.params,this.timeout),this.rejoinTimer=new Rl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on($e.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new _r(this),this.broadcastEndpointURL=Ol(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(l=>e?.(rt.CHANNEL_ERROR,l)),this._onClose(()=>e?.(rt.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:l})=>{var d;if(this.socket.setAuth(),l===void 0){e?.(rt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h?.length)!==null&&d!==void 0?d:0,m=[];for(let y=0;y<f;y++){const g=h[y],{filter:{event:b,schema:E,table:k,filter:T}}=g,x=l&&l[y];if(x&&x.event===b&&x.schema===E&&x.table===k&&x.filter===T)m.push(Object.assign(Object.assign({},g),{id:x.id}));else{this.unsubscribe(),e?.(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(rt.SUBSCRIBED);return}}).receive("error",l=>{e?.(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e?.(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ae.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($e.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Si(this,$e.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Si(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=$e;if(r&&[a,c,u,l].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var m,y,g;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(y=f.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var m,y,g,b,E,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const T=f.id,x=(m=f.filter)===null||m===void 0?void 0:m.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(x==="*"||x?.toLocaleLowerCase()===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const T=(E=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return T==="*"||T===((k=n?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:g,commit_timestamp:b,type:E,errors:k}=m;h=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:b,eventType:E,new:{},old:{},errors:k}),this._getPayloadRecords(m))}f.callback(h,r)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Mo.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($e.close,{},e)}_onError(e){this._on($e.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=hc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=hc(e.columns,e.old_record)),n}}const sg=()=>{},ig=typeof WebSocket<"u",og=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ag{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Jm,this.params={},this.timeout=Il,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sg,this.conn=null,this.sendBuffer=[],this.serializer=new Xm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>J(async()=>{const{default:c}=await Promise.resolve().then(()=>zn);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Wi.websocket}`,this.httpEndpoint=Ol(e),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Rl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ig){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new cg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),J(async()=>{const{default:e}=await import("./browser-ChiRMnuA.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ym}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rn.connecting:return Bt.Connecting;case Rn.open:return Bt.Open;case Rn.closing:return Bt.Closing;default:return Bt.Closed}}isConnected(){return this.connectionState()===Bt.Open}channel(e,n={config:{}}){const r=new Mo(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push($e.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Km,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger($e.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([og],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class cg{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Rn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class jo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function we(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ug extends jo{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Vi extends jo{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var lg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const Al=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>J(async()=>{const{default:r}=await Promise.resolve().then(()=>zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},dg=()=>lg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield J(()=>Promise.resolve().then(()=>zn),void 0)).Response:Response}),Gi=t=>{if(Array.isArray(t))return t.map(n=>Gi(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Gi(r)}),e};var Zt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const Ei=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hg=(t,e,n)=>Zt(void 0,void 0,void 0,function*(){const r=yield dg();t instanceof r&&!n?.noResolveJson?t.json().then(s=>{e(new ug(Ei(s),t.status||500))}).catch(s=>{e(new Vi(Ei(s),s))}):e(new Vi(Ei(t),t))}),fg=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Nr(t,e,n,r,s,i){return Zt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,fg(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>hg(c,a,r))})})}function _s(t,e,n,r){return Zt(this,void 0,void 0,function*(){return Nr(t,"GET",e,n,r)})}function yt(t,e,n,r,s){return Zt(this,void 0,void 0,function*(){return Nr(t,"POST",e,r,s,n)})}function pg(t,e,n,r,s){return Zt(this,void 0,void 0,function*(){return Nr(t,"PUT",e,r,s,n)})}function mg(t,e,n,r){return Zt(this,void 0,void 0,function*(){return Nr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Pl(t,e,n,r,s){return Zt(this,void 0,void 0,function*(){return Nr(t,"DELETE",e,r,s,n)})}var Re=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const gg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yg{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Al(s)}uploadOrUpdate(e,n,r,s){return Re(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s?.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:a},o?.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(we(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:gc.upsert},s),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(we(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Re(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new jo("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}update(e,n,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Re(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield yt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Re(this,void 0,void 0,function*(){try{const s=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}download(e,n){return Re(this,void 0,void 0,function*(){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield _s(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}})}info(e){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _s(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gi(r),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}exists(e){return Re(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield mg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(we(r)&&r instanceof Vi){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}list(e,n,r){return Re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gg),n),{prefix:e||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _g="2.7.1",bg={"X-Client-Info":`storage-js/${_g}`};var cn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class vg{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},bg),n),this.fetch=Al(r)}listBuckets(){return cn(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(we(e))return{data:null,error:e};throw e}})}getBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return cn(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return cn(this,void 0,void 0,function*(){try{return{data:yield pg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}emptyBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}deleteBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}}class wg extends vg{constructor(e,n={},r){super(e,n,r)}from(e){return new yg(this.url,this.headers,e,this.fetch)}}const Sg="2.49.4";let pr="";typeof Deno<"u"?pr="deno":typeof document<"u"?pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pr="react-native":pr="node";const Eg={"X-Client-Info":`supabase-js-${pr}/${Sg}`},kg={headers:Eg},xg={schema:"public"},Tg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ig={};var Rg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const Cg=t=>{let e;return t?e=t:typeof fetch>"u"?e=wl:e=fetch,(...n)=>e(...n)},Og=()=>typeof Headers>"u"?Sl:Headers,Ag=(t,e,n)=>{const r=Cg(n),s=Og();return(i,o)=>Rg(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Pg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};function Mg(t){return t.replace(/\/$/,"")}function jg(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:c,global:u}=e,l={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Pg(this,void 0,void 0,function*(){return""})};return t.accessToken?l.accessToken=t.accessToken:delete l.accessToken,l}const Ml="2.69.1",mn=30*1e3,Ji=3,ki=Ji*mn,Dg="http://localhost:9999",Ng="supabase.auth.token",Lg={"X-Client-Info":`gotrue-js/${Ml}`},Yi="X-Supabase-Api-Version",jl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$g=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fg=6e5;class Do extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ug extends Do{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Bg(t){return B(t)&&t.name==="AuthApiError"}class Dl extends Do{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class At extends Do{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class mt extends At{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hg(t){return B(t)&&t.name==="AuthSessionMissingError"}class xi extends At{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qr extends At{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zr extends At{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qg(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class yc extends At{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ki extends At{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ti(t){return B(t)&&t.name==="AuthRetryableFetchError"}class _c extends At{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class br extends At{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vc=` 	
\r=`.split(""),Wg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vc.length;e+=1)t[vc[e].charCodeAt(0)]=-2;for(let e=0;e<bc.length;e+=1)t[bc[e].charCodeAt(0)]=e;return t})();function Nl(t,e,n){const r=Wg[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Gg(o,r,n)};for(let o=0;o<t.length;o+=1)Nl(t.charCodeAt(o),s,i);return e.join("")}function zg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Vg(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}zg(r,e)}}function Gg(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Jg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Nl(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Yg(t){const e=[];return Vg(t,n=>e.push(n)),new Uint8Array(e)}function Kg(t){return Math.round(Date.now()/1e3)+t}function Xg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qe=()=>typeof window<"u"&&typeof document<"u",$t={tested:!1,writable:!1},vr=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($t.tested)return $t.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$t.tested=!0,$t.writable=!0}catch{$t.tested=!0,$t.writable=!1}return $t.writable};function Qg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ll=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>J(async()=>{const{default:r}=await Promise.resolve().then(()=>zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Zg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$l=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},es=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ts=async(t,e)=>{await t.removeItem(e)};class Fs{constructor(){this.promise=new Fs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Fs.promiseConstructor=Promise;function Ii(t){const e=t.split(".");if(e.length!==3)throw new br("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!$g.test(e[r]))throw new br("JWT not in base64url format");return{header:JSON.parse(wc(e[0])),payload:JSON.parse(wc(e[1])),signature:Jg(e[2]),raw:{header:e[0],payload:e[1]}}}async function ey(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ty(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ny(t){return("0"+t.toString(16)).substr(-2)}function ry(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,ny).join("")}async function sy(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await sy(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(t,e,n=!1){const r=ry();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await $l(t,`${e}-code-verifier`,s);const i=await iy(r);return[i,r===i?"plain":"s256"]}const oy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ay(t){const e=t.headers.get(Yi);if(!e||!e.match(oy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function uy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ly=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Ft=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dy=[502,503,504];async function Sc(t){var e;if(!Zg(t))throw new Ki(Ft(t),0);if(dy.includes(t.status))throw new Ki(Ft(t),t.status);let n;try{n=await t.json()}catch(i){throw new Dl(Ft(i),i)}let r;const s=ay(t);if(s&&s.getTime()>=jl["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _c(Ft(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _c(Ft(n),t.status,n.weak_password.reasons);throw new Ug(Ft(n),t.status||500,r)}const hy=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function W(t,e,n,r){var s;const i=Object.assign({},r?.headers);i[Yi]||(i[Yi]=jl["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await fy(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function fy(t,e,n,r,s,i){const o=hy(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Ki(Ft(c),0)}if(a.ok||await Sc(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await Sc(c)}}function gt(t){var e;let n=null;yy(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Kg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ec(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function St(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function py(t){return{data:t,error:null}}function my(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=ly(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function gy(t){return t}function yy(t){return t.access_token&&t.refresh_token&&t.expires_in}var _y=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class by{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ll(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:St})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=_y(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:my,redirectTo:n?.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:St})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},l=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:gy});if(l.error)throw l.error;const d=await l.json(),h=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:St})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:St})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:St})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const vy={getItem:t=>vr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vr()&&globalThis.localStorage.removeItem(t)}};function kc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function wy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ln={debug:!!(globalThis&&vr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sy extends Fl{}async function Ey(t,e,n){ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ln.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Sy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ln.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}wy();const ky={url:Dg,storageKey:Ng,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xc(t,e,n){return await n()}class Cr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cr.nextInstanceID,Cr.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ky),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new by({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ll(s.fetch),this.lock=s.lock||xc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qe()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Ey:this.lock=xc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vr()?this.storage=vy:(this.memoryStorage={},this.storage=kc(this.memoryStorage)):(this.memoryStorage={},this.storage=kc(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ml}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Qg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),qe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qg(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Dl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:gt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:l,password:d,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await un(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:l,password:d,data:(n=h?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:m},xform:gt})}else if("phone"in e){const{phone:l,password:d,options:h}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:d,data:(r=h?.data)!==null&&r!==void 0?r:{},channel:(s=h?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:gt})}else throw new Qr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ec})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ec})}else throw new Qr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await es(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:gt});if(await ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:gt}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new xi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let u=null,l=null;this.flowType==="pkce"&&([u,l]=await un(this.storage,this.storageKey));const{error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c?.data)!==null&&n!==void 0?n:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:l},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:l}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c?.data)!==null&&s!==void 0?s:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:l}}throw new Qr("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await un(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:py})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Qr("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ki:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,l)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,l))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:St}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:St})})}catch(n){if(B(n))return Hg(n)&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mt;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await un(this.storage,this.storageKey));const{data:u,error:l}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:St});if(l)throw l;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Ii(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new mt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!qe())throw new Zr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yc("No code detected.");const{data:E,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=e;if(!i||!a||!o||!u)throw new Zr("No session defined in URL");const l=Math.round(Date.now()/1e3),d=parseInt(a);let h=l+d;c&&(h=parseInt(c));const f=h-l;f*1e3<=mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;l-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,l):l-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,l);const{data:y,error:g}=await this._getUser(i);if(g)throw g;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await es(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Bg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Xg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await un(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,u,l;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",f,{headers:this.headers,jwt:(l=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0})});if(s)throw s;return qe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ty(async s=>(s>0&&await ey(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ti(i)&&Date.now()+o-r<mn})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),qe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await es(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ki;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ki}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ti(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return Ti(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $l(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ts(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mn}ms, refresh threshold is ${Ji} ticks`),s<=Ji&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await un(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c?.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=e?.factors||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ii(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const l=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Fg>Date.now()))return r;const{data:s,error:i}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new br("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new br("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=Ii(r);if(cy(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=uy(s.alg),l=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Yg(`${a}.${c}`)))throw new br("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}Cr.nextInstanceID=0;const xy=Cr;class Ty extends xy{constructor(e){super(e)}}var Iy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class Ry{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Mg(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:xg,realtime:Ig,auth:Object.assign(Object.assign({},Tg),{storageKey:c}),global:kg},l=jg(r??{},u);this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=l.auth)!==null&&o!==void 0?o:{},this.headers,l.global.fetch),this.fetch=Ag(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new Vm(`${a}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new jm(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wg(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Iy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},u,l){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ty({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ag(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cy=(t,e,n)=>new Ry(t,e,n);function Oy(t,e){return Cy(t,e)}const Ul="https://klwugophjvzctlautsqz.supabase.co",Bl="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtsd3Vnb3BoanZ6Y3RsYXV0c3F6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI5MjMwNzUsImV4cCI6MjA1ODQ5OTA3NX0.LWlKtDvRrlMxswfhJU5nd5OHTUulyN2xgd_bR-hkWiE";console.log("[SupabaseInit] Attempting to initialize Supabase client.");console.log("[SupabaseInit] VITE_SUPABASE_URL available:",!0);console.log("[SupabaseInit] VITE_SUPABASE_ANON_KEY available:",!0);Ul.trim()===""&&console.error("[SupabaseInit] VITE_SUPABASE_URL is missing or empty.");Bl.trim()===""&&console.error("[SupabaseInit] VITE_SUPABASE_ANON_KEY is missing or empty.");let Xi;const Ay={auth:{getSession:async()=>(console.warn("[SupabaseInit] Using mock Supabase client: getSession"),{data:{session:null},error:null}),signInWithPassword:async t=>(console.warn("[SupabaseInit] Using mock Supabase client: signInWithPassword",t),{data:{user:{id:"mock-user-id",email:t.email},session:{access_token:"mock-token"}},error:null}),signUp:async t=>(console.warn("[SupabaseInit] Using mock Supabase client: signUp",t),{data:{user:{id:"mock-user-id",email:t.email},session:{access_token:"mock-token"}},error:null}),signOut:async()=>(console.warn("[SupabaseInit] Using mock Supabase client: signOut"),{error:null}),onAuthStateChange:t=>(console.warn("[SupabaseInit] Using mock Supabase client: onAuthStateChange"),t("INITIAL_SESSION",null),{data:{subscription:{unsubscribe:()=>{console.warn("[SupabaseInit] Mock subscription unsubscribe.")}}}}),updateUser:async t=>(console.warn("[SupabaseInit] Using mock Supabase client: updateUser",t),{data:{user:{id:"mock-user-id",...t}},error:null}),sendPasswordResetEmail:async t=>(console.warn("[SupabaseInit] Using mock Supabase client: sendPasswordResetEmail",t),{error:null}),getUser:async()=>(console.warn("[SupabaseInit] Using mock Supabase client: getUser"),{data:{user:null},error:null})},from:t=>{console.warn(`[SupabaseInit] Using mock Supabase client: from(${t})`);const e={select:(...n)=>(console.warn("[SupabaseInit] Mock select",n),e),insert:(...n)=>(console.warn("[SupabaseInit] Mock insert",n),Promise.resolve({data:[],error:null})),update:(...n)=>(console.warn("[SupabaseInit] Mock update",n),Promise.resolve({data:[],error:null})),delete:(...n)=>(console.warn("[SupabaseInit] Mock delete",n),Promise.resolve({data:[],error:null})),eq:(...n)=>(console.warn("[SupabaseInit] Mock eq",n),e),single:()=>Promise.resolve({data:null,error:null})};return e},rpc:async(t,e)=>(console.warn(`[SupabaseInit] Using mock Supabase client: rpc(${t})`,e),t==="calculate_total_price"?Promise.resolve({data:100,error:null}):Promise.resolve({data:null,error:null})),functions:{invoke:async(t,e)=>(console.warn(`[SupabaseInit] Using mock Supabase client: functions.invoke(${t})`,e),t==="create-stripe-checkout"?{data:{sessionId:"mock_session_id_12345"},error:null}:t==="get_user_roles"?{data:{roles:["user"]},error:null}:{data:null,error:{message:"Mock function not implemented"}})},realtime:null};try{console.log("[SupabaseInit] Initializing Supabase client with provided URL and Key."),Xi=Oy(Ul,Bl),console.log("[SupabaseInit] Supabase client initialized successfully.")}catch(t){console.error("[SupabaseInit] Error initializing Supabase client:",t),console.warn("[SupabaseInit] Falling back to mock client due to initialization error."),Xi=Ay}const le=Xi;async function Py(){const{data:t,error:e}=await le.from("jobs").select("*");if(e)throw e;if(!t)return{jobTypes:[],locations:[],salary:{average:0,count:0}};const n={};for(const u of t)u.job_type&&(n[u.job_type]=(n[u.job_type]||0)+1);const r=t.length,s=Object.entries(n).map(([u,l])=>({category:u,count:l,percentage:r>0?l/r*100:0})),i={};for(const u of t)u.location&&(i[u.location]=(i[u.location]||0)+1);const o=Object.entries(i).map(([u,l])=>({category:u,count:l,percentage:r>0?l/r*100:0})),a=t.filter(u=>typeof u.salary_min=="number"&&typeof u.salary_max=="number"),c=a.length>0?a.reduce((u,l)=>u+(l.salary_min+l.salary_max)/2,0)/a.length:0;return{jobTypes:s,locations:o,salary:{average:c,count:a.length}}}async function B1(t={}){let e=le.from("jobs").select("*");t.search&&(e=e.textSearch("search_vector",t.search)),t.jobType&&(e=e.eq("job_type",t.jobType)),t.location&&(e=e.ilike("location",`%${t.location}%`)),t.salaryMin&&(e=e.gte("salary_min",t.salaryMin)),t.salaryMax&&(e=e.lte("salary_max",t.salaryMax)),t.remote&&(e=e.eq("remote_type",t.remote)),t.experienceLevel&&(e=e.eq("experience_level",t.experienceLevel)),t.sortBy==="salary"?e=e.order("salary_max",{ascending:!1}):e=e.order("posted_at",{ascending:!1});const{data:n,error:r}=await e;if(r)throw r;return n}async function H1(t){const{data:e,error:n}=await le.from("job_suggestions").select("job_id, match_score, job:jobs (*)").eq("user_id",t).order("match_score",{ascending:!1});if(n)throw n;return e?e.map(r=>({job:Array.isArray(r.job)?r.job[0]:r.job,matchScore:r.match_score,matchingSkills:[]})):[]}const Hl=Object.prototype.toString;function ql(t){switch(Hl.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ct(t,Error)}}function Vn(t,e){return Hl.call(t)===`[object ${e}]`}function No(t){return Vn(t,"ErrorEvent")}function Tc(t){return Vn(t,"DOMError")}function My(t){return Vn(t,"DOMException")}function Qe(t){return Vn(t,"String")}function Lo(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function $o(t){return t===null||Lo(t)||typeof t!="object"&&typeof t!="function"}function Dn(t){return Vn(t,"Object")}function Us(t){return typeof Event<"u"&&ct(t,Event)}function jy(t){return typeof Element<"u"&&ct(t,Element)}function Dy(t){return Vn(t,"RegExp")}function Bs(t){return!!(t&&t.then&&typeof t.then=="function")}function Ny(t){return Dn(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Wl(t){return typeof t=="number"&&t!==t}function ct(t,e){try{return t instanceof e}catch{return!1}}function zl(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function Cn(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function Ic(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{zl(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function Ly(t,e,n=!1){return Qe(t)?Dy(e)?e.test(t):Qe(e)?n?t===e:t.includes(e):!1:!1}function Gn(t,e=[],n=!1){return e.some(r=>Ly(t,r,n))}function $y(t,e,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!ct(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=Fy(Qi(t,e,s,o.originalException,r,i.exception.values,a,0),n))}function Qi(t,e,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(ct(r[s],Error)){Rc(o,a);const u=t(e,r[s]),l=c.length;Cc(u,s,l,a),c=Qi(t,e,n,r[s],s,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(ct(u,Error)){Rc(o,a);const d=t(e,u),h=c.length;Cc(d,`errors[${l}]`,h,a),c=Qi(t,e,n,u,s,[d,...c],d,h)}}),c}function Rc(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function Cc(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function Fy(t,e){return t.map(n=>(n.value&&(n.value=Cn(n.value,e)),n))}function ns(t){return t&&t.Math==Math?t:void 0}const V=typeof globalThis=="object"&&ns(globalThis)||typeof window=="object"&&ns(window)||typeof self=="object"&&ns(self)||typeof global=="object"&&ns(global)||function(){return this}()||{};function Fo(){return V}function Vl(t,e,n){const r=n||V,s=r.__SENTRY__=r.__SENTRY__||{};return s[t]||(s[t]=e())}const On=Fo(),Uy=80;function Ct(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||Uy;for(;n&&i++<r&&(u=By(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function By(t,e){const n=t,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";if(On.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&Qe(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)o=l[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function Hy(){try{return On.document.location.href}catch{return""}}function qy(t){return On.document&&On.document.querySelector?On.document.querySelector(t):null}function Gl(t){if(!On.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}const Jn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Wy="Sentry Logger ",Zi=["debug","info","warn","error","log","assert","trace"],bs={};function Jt(t){if(!("console"in V))return t();const e=V.console,n={},r=Object.keys(bs);r.forEach(s=>{const i=bs[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}function zy(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Jn?Zi.forEach(n=>{e[n]=(...r)=>{t&&Jt(()=>{V.console[n](`${Wy}[${n}]:`,...r)})}}):Zi.forEach(n=>{e[n]=()=>{}}),e}const v=zy(),Vy=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Gy(t){return t==="http"||t==="https"}function Yn(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Jy(t){const e=Vy.exec(t);if(!e){Jt(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,s="",i,o="",a]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return Jl({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Jl(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Yy(t){if(!Jn)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(o=>t[o]?!1:(v.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Gy(r)?e&&isNaN(parseInt(e,10))?(v.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(v.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(v.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Ky(t){const e=typeof t=="string"?Jy(t):Jl(t);if(!(!e||!Yy(e)))return e}class Je extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Se(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);typeof s=="function"&&Yl(s,r),t[e]=s}function Yt(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Jn&&v.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Yl(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Yt(t,"__sentry_original__",e)}catch{}}function Uo(t){return t.__sentry_original__}function Xy(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Kl(t){if(ql(t))return{message:t.message,name:t.name,stack:t.stack,...Ac(t)};if(Us(t)){const e={type:t.type,target:Oc(t.target),currentTarget:Oc(t.currentTarget),...Ac(t)};return typeof CustomEvent<"u"&&ct(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Oc(t){try{return jy(t)?Ct(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Ac(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function Qy(t,e=40){const n=Object.keys(Kl(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Cn(n[0],e);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>e))return r===n.length?s:Cn(s,e)}return""}function Ie(t){return eo(t,new Map)}function eo(t,e){if(Zy(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.keys(t))typeof t[s]<"u"&&(r[s]=eo(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(eo(s,e))}),r}return t}function Zy(t){if(!Dn(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const Xl=50,Pc=/\(error: (.*)\)/,Mc=/captureMessage|captureException/;function Ql(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const c=Pc.test(a)?a.replace(Pc,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of e){const l=u(c);if(l){s.push(l);break}}if(s.length>=Xl)break}}return t_(s)}}function e_(t){return Array.isArray(t)?Ql(...t):t}function t_(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),Mc.test(e[e.length-1].function||"")&&(e.pop(),Mc.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,Xl).map(n=>({...n,filename:n.filename||e[e.length-1].filename,function:n.function||"?"}))}const Ri="<anonymous>";function ut(t){try{return!t||typeof t!="function"?Ri:t.name||Ri}catch{return Ri}}const ms={},jc={};function en(t,e){ms[t]=ms[t]||[],ms[t].push(e)}function tn(t,e){jc[t]||(e(),jc[t]=!0)}function Ue(t,e){const n=t&&ms[t];if(n)for(const r of n)try{r(e)}catch(s){Jn&&v.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ut(r)}
Error:`,s)}}function n_(t){const e="console";en(e,t),tn(e,r_)}function r_(){"console"in V&&Zi.forEach(function(t){t in V.console&&Se(V.console,t,function(e){return bs[t]=e,function(...n){Ue("console",{args:n,level:t});const s=bs[t];s&&s.apply(V.console,n)}})})}function me(){const t=V,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Zl(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Et(t){const{message:e,event_id:n}=t;if(e)return e;const r=Zl(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function to(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}function Or(t,e){const n=Zl(t);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...e},e&&"data"in e){const i={...s&&s.data,...e.data};n.mechanism.data=i}}function Dc(t){if(t&&t.__sentry_captured__)return!0;try{Yt(t,"__sentry_captured__",!0)}catch{}return!1}function ed(t){return Array.isArray(t)?t:[t]}const gn=V,s_=1e3;let Nc,no,ro;function td(t){const e="dom";en(e,t),tn(e,i_)}function i_(){if(!gn.document)return;const t=Ue.bind(null,"dom"),e=Lc(t,!0);gn.document.addEventListener("click",e,!1),gn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=gn[n]&&gn[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Se(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[i]=u[i]||{refCount:0};if(!l.handler){const d=Lc(t);l.handler=d,s.call(this,i,d,a)}l.refCount++}catch{}return s.call(this,i,o,a)}}),Se(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[i];l&&(l.refCount--,l.refCount<=0&&(s.call(this,i,l.handler,a),l.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}function o_(t){if(t.type!==no)return!1;try{if(!t.target||t.target._sentryId!==ro)return!1}catch{}return!0}function a_(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function Lc(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=c_(n);if(a_(n.type,r))return;Yt(n,"_sentryCaptured",!0),r&&!r._sentryId&&Yt(r,"_sentryId",me());const s=n.type==="keypress"?"input":n.type;o_(n)||(t({event:n,name:s,global:e}),no=n.type,ro=r?r._sentryId:void 0),clearTimeout(Nc),Nc=gn.setTimeout(()=>{ro=void 0,no=void 0},s_)}}function c_(t){try{return t.target}catch{return null}}const so=Fo();function nd(){if(!("fetch"in so))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function io(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function u_(){if(typeof EdgeRuntime=="string")return!0;if(!nd())return!1;if(io(so.fetch))return!0;let t=!1;const e=so.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=io(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Jn&&v.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function Bo(t){const e="fetch";en(e,t),tn(e,l_)}function l_(){u_()&&Se(V,"fetch",function(t){return function(...e){const{method:n,url:r}=d_(e),s={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Ue("fetch",{...s}),t.apply(V,e).then(i=>{const o={...s,endTimestamp:Date.now(),response:i};return Ue("fetch",o),i},i=>{const o={...s,endTimestamp:Date.now(),error:i};throw Ue("fetch",o),i})}})}function oo(t,e){return!!t&&typeof t=="object"&&!!t[e]}function $c(t){return typeof t=="string"?t:t?oo(t,"url")?t.url:t.toString?t.toString():"":""}function d_(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:$c(n),method:oo(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:$c(e),method:oo(e,"method")?String(e.method).toUpperCase():"GET"}}let rs=null;function rd(t){const e="error";en(e,t),tn(e,h_)}function h_(){rs=V.onerror,V.onerror=function(t,e,n,r,s){return Ue("error",{column:r,error:s,line:n,msg:t,url:e}),rs&&!rs.__SENTRY_LOADER__?rs.apply(this,arguments):!1},V.onerror.__SENTRY_INSTRUMENTED__=!0}let ss=null;function sd(t){const e="unhandledrejection";en(e,t),tn(e,f_)}function f_(){ss=V.onunhandledrejection,V.onunhandledrejection=function(t){return Ue("unhandledrejection",t),ss&&!ss.__SENTRY_LOADER__?ss.apply(this,arguments):!0},V.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const is=Fo();function p_(){const t=is.chrome,e=t&&t.app&&t.app.runtime,n="history"in is&&!!is.history.pushState&&!!is.history.replaceState;return!e&&n}const cr=V;let os;function Hs(t){const e="history";en(e,t),tn(e,m_)}function m_(){if(!p_())return;const t=cr.onpopstate;cr.onpopstate=function(...n){const r=cr.location.href,s=os;if(os=r,Ue("history",{from:s,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=os,o=String(s);os=o,Ue("history",{from:i,to:o})}return n.apply(this,r)}}Se(cr.history,"pushState",e),Se(cr.history,"replaceState",e)}const g_=V,xt="__sentry_xhr_v3__";function Ho(t){const e="xhr";en(e,t),tn(e,y_)}function y_(){if(!g_.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;Se(t,"open",function(e){return function(...n){const r=Date.now(),s=Qe(n[0])?n[0].toUpperCase():void 0,i=__(n[1]);if(!s||!i)return e.apply(this,n);this[xt]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[xt];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Ue("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Se(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),Se(this,"setRequestHeader",function(a){return function(...c){const[u,l]=c,d=this[xt];return d&&Qe(u)&&Qe(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),e.apply(this,n)}}),Se(t,"send",function(e){return function(...n){const r=this[xt];if(!r)return e.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Ue("xhr",s),e.apply(this,n)}})}function __(t){if(Qe(t))return t;try{return t.toString()}catch{}}function b_(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function v_(){return"npm"}function w_(){return!b_()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Fc(){return typeof window<"u"&&(!w_()||S_())}function S_(){return V.process!==void 0&&V.process.type==="renderer"}function E_(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(s){if(t)return e.has(s)?!0:(e.add(s),!1);for(let i=0;i<e.length;i++)if(e[i]===s)return!0;return e.push(s),!1}function r(s){if(t)e.delete(s);else for(let i=0;i<e.length;i++)if(e[i]===s){e.splice(i,1);break}}return[n,r]}function Ve(t,e=100,n=1/0){try{return ao("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function id(t,e=3,n=100*1024){const r=Ve(t,e);return I_(r)>n?id(t,e-1,n):r}function ao(t,e,n=1/0,r=1/0,s=E_()){const[i,o]=s;if(e==null||["number","boolean","string"].includes(typeof e)&&!Wl(e))return e;const a=k_(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return ao("",f,c-1,r,s)}catch{}const l=Array.isArray(e)?[]:{};let d=0;const h=Kl(e);for(const f in h){if(!Object.prototype.hasOwnProperty.call(h,f))continue;if(d>=r){l[f]="[MaxProperties ~]";break}const m=h[f];l[f]=ao(f,m,c-1,r,s),d++}return o(e),l}function k_(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(zl(e))return"[VueViewModel]";if(Ny(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${ut(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=x_(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function x_(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function T_(t){return~-encodeURI(t).split(/%..|./).length}function I_(t){return T_(JSON.stringify(t))}var st;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(st||(st={}));function Nn(t){return new Pe(e=>{e(t)})}function qo(t){return new Pe((e,n)=>{n(t)})}class Pe{constructor(e){Pe.prototype.__init.call(this),Pe.prototype.__init2.call(this),Pe.prototype.__init3.call(this),Pe.prototype.__init4.call(this),this._state=st.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Pe((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Pe((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,e&&e()},o=>{i=!0,s=o,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=e=>{this._setResult(st.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(st.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===st.PENDING){if(Bs(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===st.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===st.RESOLVED&&n[1](this._value),this._state===st.REJECTED&&n[2](this._value),n[0]=!0)})}}}function R_(t){const e=[];function n(){return t===void 0||e.length<t}function r(o){return e.splice(e.indexOf(o),1)[0]}function s(o){if(!n())return qo(new Je("Not adding Promise because buffer limit was reached."));const a=o();return e.indexOf(a)===-1&&e.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new Pe((a,c)=>{let u=e.length;if(!u)return a(!0);const l=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(d=>{Nn(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:e,add:s,drain:i}}function zt(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const C_=["fatal","error","warning","log","info","debug"];function O_(t){return t==="warn"?"warning":C_.includes(t)?t:"log"}const od=1e3;function Lr(){return Date.now()/od}function A_(){const{performance:t}=V;if(!t||!t.now)return Lr;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/od}const $r=A_(),Me=(()=>{const{performance:t}=V;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=s<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):e,u=c<e;return i||u?s<=c?t.timeOrigin:o:r})(),co="baggage",ad="sentry-",P_=/^sentry-/,M_=8192;function j_(t){if(!Qe(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((r,s)=>{const i=Uc(s);for(const o of Object.keys(i))r[o]=i[o];return r},{});else{if(!t)return;e=Uc(t)}const n=Object.entries(e).reduce((r,[s,i])=>{if(s.match(P_)){const o=s.slice(ad.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function cd(t){if(!t)return;const e=Object.entries(t).reduce((n,[r,s])=>(s&&(n[`${ad}${r}`]=s),n),{});return D_(e)}function Uc(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(e[n]=r,e),{})}function D_(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${e},${i}`;return o.length>M_?(Jn&&v.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):o},"")}const N_=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function L_(t){if(!t)return;const e=t.match(N_);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function $_(t,e){const n=L_(t),r=j_(e),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||me(),parentSpanId:i||me().substring(16),spanId:me().substring(16),sampled:o,dsc:r||{}}:{traceId:s||me(),spanId:me().substring(16)}}function Wo(t=me(),e=me().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function Pt(t,e=[]){return[t,e]}function F_(t,e){const[n,r]=t;return[n,[...r,e]]}function Bc(t,e){const n=t[1];for(const r of n){const s=r[0].type;if(e(r,s))return!0}return!1}function uo(t,e){return(e||new TextEncoder).encode(t)}function U_(t,e){const[n,r]=t;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[uo(s,e),o]:s.push(typeof o=="string"?uo(o,e):o)}for(const o of r){const[a,c]=o;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Ve(c))}i(u)}}return typeof s=="string"?s:B_(s)}function B_(t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function H_(t,e){const n=typeof t.data=="string"?uo(t.data,e):t.data;return[Ie({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const q_={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Hc(t){return q_[t]}function zo(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function ud(t,e,n,r){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:Yn(r)},...s&&{trace:Ie({...s})}}}function W_(t,e,n){const r=[{type:"client_report"},{timestamp:Lr(),discarded_events:t}];return Pt(e?{dsn:e}:{},[r])}const z_=60*1e3;function V_(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?z_:r-e}function G_(t,e){return t[e]||t.all||0}function ld(t,e,n=Date.now()){return G_(t,e)>n}function dd(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),h=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+h;else for(const f of u.split(";"))f==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[f]=r+h):s[f]=r+h}else o?s.all=r+V_(o,r):e===429&&(s.all=r+60*1e3);return s}function J_(t,e){return t??e()}function Ci(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}const A=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,qs="production";function Vo(){return Vl("globalEventProcessors",()=>[])}function Y_(t){Vo().push(t)}function vs(t,e,n,r=0){return new Pe((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o({...e},n);A&&o.id&&a===null&&v.log(`Event processor "${o.id}" dropped event`),Bs(a)?a.then(c=>vs(t,c,n,r+1).then(s)).then(null,i):vs(t,a,n,r+1).then(s).then(null,i)}})}function hd(t){const e=$r(),n={sid:me(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>K_(n)};return t&&Kt(n,t),n}function Kt(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||$r(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:me()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function fd(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Kt(t,n)}function K_(t){return Ie({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const X_=0,pd=1;function Go(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=Ee(t);return Ie({data:r,op:s,parent_span_id:i,span_id:e,status:o,tags:a,trace_id:n,origin:c})}function Ws(t){const{traceId:e,spanId:n}=t.spanContext(),r=Jo(t);return Wo(e,n,r)}function zs(t){return typeof t=="number"?qc(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?qc(t.getTime()):$r()}function qc(t){return t>9999999999?t/1e3:t}function Ee(t){return Q_(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function Q_(t){return typeof t.getSpanJSON=="function"}function Jo(t){const{traceFlags:e}=t.spanContext();return!!(e&pd)}function md(t,e,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||me(),timestamp:e.timestamp||Lr()},u=n.integrations||t.integrations.map(g=>g.name);Z_(c,t),nb(c,u),e.type===void 0&&eb(c,t.stackParser);const l=sb(r,n.captureContext);n.mechanism&&Or(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],h=yb().getScopeData();if(i){const g=i.getScopeData();Gc(h,g)}if(l){const g=l.getScopeData();Gc(h,g)}const f=[...n.attachments||[],...h.attachments];f.length&&(n.attachments=f),bd(c,h);const m=[...d,...Vo(),...h.eventProcessors];return vs(m,c,n).then(g=>(g&&tb(g),typeof o=="number"&&o>0?rb(g,o,a):g))}function Z_(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:qs),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=Cn(t.message,i));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=Cn(o.value,i));const a=t.request;a&&a.url&&(a.url=Cn(a.url,i))}const Wc=new WeakMap;function eb(t,e){const n=V._sentryDebugIds;if(!n)return;let r;const s=Wc.get(e);s?r=s:(r=new Map,Wc.set(e,r));const i=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=e(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){const d=c[l];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function tb(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function nb(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function rb(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:Ve(s.data,e,n)}}))},...t.user&&{user:Ve(t.user,e,n)},...t.contexts&&{contexts:Ve(t.contexts,e,n)},...t.extra&&{extra:Ve(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Ve(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>{const i=Ee(s).data;return i&&(s.data=Ve(i,e,n)),s})),r}function sb(t,e){if(!e)return t;const n=t?t.clone():new at;return n.update(e),n}function ib(t){if(t)return ob(t)?{captureContext:t}:cb(t)?{captureContext:t}:t}function ob(t){return t instanceof at||typeof t=="function"}const ab=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function cb(t){return Object.keys(t).some(e=>ab.includes(e))}function Vs(t,e){return Oe().captureException(t,ib(e))}function yn(t,e){const n=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return Oe().captureMessage(t,n,r)}function gd(t,e){return Oe().captureEvent(t,e)}function Ot(t,e){Oe().addBreadcrumb(t,e)}function ub(t,e){Oe().setContext(t,e)}function lb(...t){const e=Oe();if(t.length===2){const[n,r]=t;return n?e.withScope(()=>(e.getStackTop().scope=n,r(n))):e.withScope(r)}return e.withScope(t[0])}function Z(){return Oe().getClient()}function je(){return Oe().getScope()}function zc(t){const e=Z(),n=Mt(),r=je(),{release:s,environment:i=qs}=e&&e.getOptions()||{},{userAgent:o}=V.navigator||{},a=hd({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession();return c&&c.status==="ok"&&Kt(c,{status:"exited"}),yd(),n.setSession(a),r.setSession(a),a}function yd(){const t=Mt(),e=je(),n=e.getSession()||t.getSession();n&&fd(n),_d(),t.setSession(),e.setSession()}function _d(){const t=Mt(),e=je(),n=Z(),r=e.getSession()||t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function Vc(t=!1){if(t){yd();return}_d()}function ws(t){return t.transaction}function Gs(t,e,n){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=Ie({environment:r.environment||qs,release:r.release,user_segment:i,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function Ln(t){const e=Z();if(!e)return{};const n=Gs(Ee(t).trace_id||"",e,je()),r=ws(t);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=Ee(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(Jo(r)),e.emit&&e.emit("createDsc",n),n}function bd(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;db(t,e),r&&pb(t,r),mb(t,n),hb(t,s),fb(t,i)}function Gc(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:h,transactionName:f,span:m}=e;ur(t,"extra",n),ur(t,"tags",r),ur(t,"user",s),ur(t,"contexts",i),ur(t,"sdkProcessingMetadata",a),o&&(t.level=o),f&&(t.transactionName=f),m&&(t.span=m),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...h}}function ur(t,e,n){if(n&&Object.keys(n).length){t[e]={...t[e]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[e][r]=n[r])}}function db(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e,c=Ie(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const u=Ie(r);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const l=Ie(s);l&&Object.keys(l).length&&(t.user={...l,...t.user});const d=Ie(i);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts}),o&&(t.level=o),a&&(t.transaction=a)}function hb(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function fb(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function pb(t,e){t.contexts={trace:Go(e),...t.contexts};const n=ws(e);if(n){t.sdkProcessingMetadata={dynamicSamplingContext:Ln(e),...t.sdkProcessingMetadata};const r=Ee(n).description;r&&(t.tags={transaction:r,...t.tags})}}function mb(t,e){t.fingerprint=t.fingerprint?ed(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const gb=100;let Oi;class at{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Jc()}static clone(e){return e?e.clone():new at}clone(){const e=new at;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Kt(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof at){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Dn(n)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Jc(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:gb;if(r<=0)return this;const s={timestamp:Lr(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:h,_span:f}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:h,span:f}}applyToEvent(e,n={},r=[]){bd(e,this.getScopeData());const s=[...r,...Vo(),...this._eventProcessors];return vs(s,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:me();if(!this._client)return v.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:me();if(!this._client)return v.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:me();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(v.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function yb(){return Oi||(Oi=new at),Oi}function Jc(){return{traceId:me(),spanId:me().substring(16)}}const lo="7.120.3",vd=parseFloat(lo),_b=100;class wd{constructor(e,n,r,s=vd){this._version=s;let i;n?i=n:(i=new at,i.setClient(e));let o;r?o=r:(o=new at,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(s){throw this.popScope(),s}return Bs(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:me(),s=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureMessage(e,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:me(),i=new Error(e);return this.getScope().captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s}),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:me();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=_b}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:Lr(),...e},u=i?Jt(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=Yc(this);try{e(this)}finally{Yc(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return A&&v.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return A&&!r&&(this.getClient()?v.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):v.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&fd(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=qs}=r&&r.getOptions()||{},{userAgent:o}=V.navigator||{},a=hd({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&Kt(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const s=Fr().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);A&&v.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Fr(){return V.__SENTRY__=V.__SENTRY__||{extensions:{},hub:void 0},V}function Yc(t){const e=Fr(),n=ho(e);return Sd(e,t),n}function Oe(){const t=Fr();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return bb(t)}function Mt(){return Oe().getIsolationScope()}function bb(t=Fr()){return(!vb(t)||ho(t).isOlderThan(vd))&&Sd(t,new wd),ho(t)}function vb(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function ho(t){return Vl("hub",()=>new wd,t)}function Sd(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function Xt(t){return Oe().getScope().getTransaction()}let Kc=!1;function wb(){Kc||(Kc=!0,rd(fo),sd(fo))}function fo(){const t=Xt();if(t){const e="internal_error";A&&v.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}fo.tag="sentry_tracingErrorCallback";var Xc;(function(t){const e="ok";t.Ok=e;const n="deadline_exceeded";t.DeadlineExceeded=n;const r="unauthenticated";t.Unauthenticated=r;const s="permission_denied";t.PermissionDenied=s;const i="not_found";t.NotFound=i;const o="resource_exhausted";t.ResourceExhausted=o;const a="invalid_argument";t.InvalidArgument=a;const c="unimplemented";t.Unimplemented=c;const u="unavailable";t.Unavailable=u;const l="internal_error";t.InternalError=l;const d="unknown_error";t.UnknownError=d;const h="cancelled";t.Cancelled=h;const f="already_exists";t.AlreadyExists=f;const m="failed_precondition";t.FailedPrecondition=m;const y="aborted";t.Aborted=y;const g="out_of_range";t.OutOfRange=g;const b="data_loss";t.DataLoss=b})(Xc||(Xc={}));function Sb(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Yo(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=Sb(e);n!=="unknown_error"&&t.setStatus(n)}function Kn(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=Z(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Ed(t){if(!Kn())return;const e=xb(t),n=Oe(),r=t.scope?t.scope.getSpan():Eb();if(t.onlyIfParent&&!r)return;const o=(t.scope||je()).clone();return kb(n,{parentSpan:r,spanContext:e,forceTransaction:t.forceTransaction,scope:o})}function Eb(){return je().getSpan()}function kb(t,{parentSpan:e,spanContext:n,forceTransaction:r,scope:s}){if(!Kn())return;const i=Mt();let o;if(e&&!r)o=e.startChild(n);else if(e){const a=Ln(e),{traceId:c,spanId:u}=e.spanContext(),l=Jo(e);o=t.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...i.getPropagationContext(),...s.getPropagationContext()};o=t.startTransaction({traceId:a,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return s.setSpan(o),Tb(o,s,i),o}function xb(t){if(t.startTime){const e={...t};return e.startTimestamp=zs(t.startTime),delete e.startTime,e}return t}const kd="_sentryScope",xd="_sentryIsolationScope";function Tb(t,e,n){t&&(Yt(t,xd,n),Yt(t,kd,e))}function Ib(t){return{scope:t[kd],isolationScope:t[xd]}}const Vt="sentry.source",vn="sentry.sample_rate",as="sentry.op",wn="sentry.origin",Rb="profile_id";class Td{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Js{constructor(e={}){this._traceId=e.traceId||me(),this._spanId=e.spanId||me().substring(16),this._startTime=e.startTimestamp||$r(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[wn]:e.origin||"manual",[as]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[as]}set op(e){this.setAttribute(as,e)}get origin(){return this._attributes[wn]}set origin(e){this.setAttribute(wn,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?pd:X_}}startChild(e){const n=new Js({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=ws(this);if(n.transaction=r,A&&r){const s=e&&e.op||"< unknown op >",i=Ee(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;v.log(a),this._logMessage=a}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return Yo(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=ws(this);if(A&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&v.log(r.replace("Starting","Finishing"))}this._endTime=zs(e)}toTraceparent(){return Ws(this)}toContext(){return Ie({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return Go(this)}getSpanJSON(){return Ie({data:this._getData(),description:this._name,op:this._attributes[as],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[wn],_metrics_summary:void 0,profile_id:this._attributes[Rb],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,r=Object.keys(e).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?{...e,...n}:r?e:n}}class Id extends Js{constructor(e,n){super(e),this._contexts={},this._hub=n||Oe(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Vt]&&{source:this._attributes[Vt]},...this._attributes[vn]&&{sampleRate:this._attributes[vn]}}}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(Vt,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Td(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,r=""){this._measurements[e]={value:n,unit:r}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const n=zs(e),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const e=super.toContext();return Ie({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Ln(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(A&&v.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){A&&v.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&Ee(l).timestamp):[];if(this._trimEnd&&r.length>0){const l=r.map(d=>Ee(d).timestamp).filter(Boolean);this._endTime=l.reduce((d,h)=>d>h?d:h)}const{scope:s,isolationScope:i}=Ib(this),{metadata:o}=this,{source:a}=o,c={contexts:{...this._contexts,trace:Go(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:s,capturedSpanIsolationScope:i,...Ie({dynamicSamplingContext:Ln(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(A&&v.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),A&&v.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const gs={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Cb="finishReason",dn=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Ob extends Td{constructor(e,n,r,s){super(s),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=r}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const n=e.end;e.end=(...r)=>(this._popActivity(e.spanContext().spanId),n.apply(e,r)),Ee(e).timestamp===void 0&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class Ab extends Id{constructor(e,n,r=gs.idleTimeout,s=gs.finalTimeout,i=gs.heartbeatInterval,o=!1,a=!1){super(e,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=dn[4],this._autoFinishAllowed=!a,o&&(A&&v.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=dn[3],this.end())},this._finalTimeout)}end(e){const n=zs(e);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(Cb,this._finishReason),this.spanRecorder){A&&v.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;Ee(r).timestamp||(r.setStatus("cancelled"),r.end(n),A&&v.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:s,timestamp:i}=Ee(r),o=s&&s<n,a=(this._finalTimeout+this._idleTimeout)/1e3,c=i&&s&&i-s<a;if(A){const u=JSON.stringify(r,void 0,2);o?c||v.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):v.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return o&&c}),A&&v.log("[Tracing] flushing IdleTransaction")}else A&&v.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new Ob(n,r,this.spanContext().spanId,e),A&&v.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=dn[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(A&&v.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=dn[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),A&&v.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,A&&v.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(A&&v.log(`[Tracing] popActivity ${e}`),delete this.activities[e],A&&v.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=$r();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=dn[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(A&&v.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=dn[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){A&&v.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Rd(t,e,n){if(!Kn(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(vn,Number(t.sampled)),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setAttribute(vn,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate<"u"?(r=e.tracesSampleRate,t.setAttribute(vn,Number(r))):(r=1,t.setAttribute(vn,r)),Cd(r)?r?(t.sampled=Math.random()<r,t.sampled?(A&&v.log(`[Tracing] starting ${t.op} transaction - ${Ee(t).description}`),t):(A&&v.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(A&&v.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(A&&v.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Cd(t){return Wl(t)||!(typeof t=="number"||typeof t=="boolean")?(A&&v.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(A&&v.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function Pb(){const e=this.getScope().getSpan();return e?{"sentry-trace":Ws(e)}:{}}function Mb(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=t.instrumenter||"sentry";s!==i&&(A&&v.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),t.sampled=!1);let o=new Id(t,this);return o=Rd(o,r,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function Qc(t,e,n,r,s,i,o,a=!1){const c=t.getClient(),u=c&&c.getOptions()||{};let l=new Ab(e,t,n,r,o,s,a);return l=Rd(l,u,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...i}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function jb(){const t=Fr();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=Mb),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=Pb),wb())}function Db(t,e,n){const r=Xt();r&&r.setMeasurement(t,e,n)}function Nb(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Lb(t,e,n,r){const s=zo(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:Yn(e)}},o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Pt(i,[o])}function $b(t,e,n,r){const s=zo(n),i=t.type&&t.type!=="replay_event"?t.type:"event";Nb(t,n&&n.sdk);const o=ud(t,s,r,e);return delete t.sdkProcessingMetadata,Pt(o,[[{type:i},t]])}const Fb="7";function Ub(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Bb(t){return`${Ub(t)}${t.projectId}/envelope/`}function Hb(t,e){return Xy({sentry_key:t.publicKey,sentry_version:Fb,...e&&{sentry_client:`${e.name}/${e.version}`}})}function qb(t,e={}){const n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${Bb(t)}?${Hb(t,r)}`}const Zc=[];function Wb(t){const e={};return t.forEach(n=>{const{name:r}=n,s=e[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.keys(e).map(n=>e[n])}function zb(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...e,...n]:typeof n=="function"?r=ed(n(e)):r=e;const s=Wb(r),i=Gb(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function Vb(t,e){const n={};return e.forEach(r=>{r&&Od(t,r,n)}),n}function eu(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function Od(t,e,n){if(n[e.name]){A&&v.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,Zc.indexOf(e.name)===-1&&(e.setupOnce(Y_,Oe),Zc.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),t.on&&typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>r(s,i,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=Object.assign((i,o)=>r(i,o,t),{id:e.name});t.addEventProcessor(s)}A&&v.log(`Integration installed: ${e.name}`)}function Gb(t,e){for(let n=0;n<t.length;n++)if(e(t[n])===!0)return n;return-1}function jt(t,e){return Object.assign(function(...r){return e(...r)},{id:t})}function Jb(t){let e="";for(const n of t){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([i,o])=>`${i}:${o}`).join(",")}`:"";e+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return e}function Yb(t,e,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&e&&(s.dsn=Yn(e));const i=Kb(t);return Pt(s,[i])}function Kb(t){const e=Jb(t);return[{type:"statsd",length:e.length},e]}const tu="Not capturing exception because it's already been captured.";class Xb{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Ky(e.dsn):A&&v.warn("No DSN provided, client will not send events."),this._dsn){const n=qb(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}}captureException(e,n,r){if(Dc(e)){A&&v.log(tu);return}let s=n&&n.event_id;return this._process(this.eventFromException(e,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(e,n,r,s){let i=r&&r.event_id;const o=Lo(e)?e:String(e),a=$o(e)?this.eventFromMessage(o,n,r):this.eventFromException(e,r);return this._process(a.then(c=>this._captureEvent(c,r,s)).then(c=>{i=c})),i}captureEvent(e,n,r){if(n&&n.originalException&&Dc(n.originalException)){A&&v.log(tu);return}let s=n&&n.event_id;const o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,n,o||r).then(a=>{s=a})),s}captureSession(e){typeof e.release!="string"?A&&v.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Kt(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(s=>r&&s))):Nn(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return A&&v.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const n=this._integrations[e.name];Od(this,e,this._integrations),n||eu(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=$b(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=F_(r,H_(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const n=Lb(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${e}:${n}`;A&&v.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}captureAggregateMetrics(e){A&&v.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const n=Yb(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=Vb(this,e),eu(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&r)&&(Kt(e,{...r&&{status:"crashed"},errors:e.errors||Number(s||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Pe(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,e&&r>=e&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r,s=Mt()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",e,n),md(i,e,n,r,this,s).then(a=>{if(a===null)return a;const c={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:l,spanId:d,parentSpanId:h,dsc:f}=c;a.contexts={trace:{trace_id:l,span_id:d,parent_span_id:h},...a.contexts};const m=f||Gs(l,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:m,...a.sdkProcessingMetadata}}return a})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(s=>s.event_id,s=>{if(A){const i=s;i.logLevel==="log"?v.log(i.message):v.warn(i)}})}_processEvent(e,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=Pd(e),a=Ad(e),c=e.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),qo(new Je(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const l=c==="replay_event"?"replay":c,h=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,h).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",l,e),new Je("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return f;const y=Zb(s,f,n);return Qb(y,u)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",l,e),o){const b=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",b)}throw new Je(`${u} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!o&&m&&this._updateSessionFromEvent(m,f),o){const g=f.sdkProcessingMetadata&&f.sdkProcessingMetadata.spanCountBeforeProcessing||0,b=f.spans?f.spans.length:0,E=g-b;E>0&&this.recordDroppedEvent("before_send","span",E)}const y=f.transaction_info;if(o&&y&&f.transaction!==e.transaction){const g="custom";f.transaction_info={...y,source:g}}return this.sendEvent(f,n),f}).then(null,f=>{throw f instanceof Je?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new Je(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,n=>{A&&v.error("Error while sending event:",n)});A&&v.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:e[n]}})}}function Qb(t,e){const n=`${e} must return \`null\` or a valid event.`;if(Bs(t))return t.then(r=>{if(!Dn(r)&&r!==null)throw new Je(n);return r},r=>{throw new Je(`${e} rejected with ${r}`)});if(!Dn(t)&&t!==null)throw new Je(n);return t}function Zb(t,e,n){const{beforeSend:r,beforeSendTransaction:s}=t;if(Ad(e)&&r)return r(e,n);if(Pd(e)&&s){if(e.spans){const i=e.spans.length;e.sdkProcessingMetadata={...e.sdkProcessingMetadata,spanCountBeforeProcessing:i}}return s(e,n)}return e}function Ad(t){return t.type===void 0}function Pd(t){return t.type==="transaction"}function ev(t){const e=Z();!e||!e.addEventProcessor||e.addEventProcessor(t)}function tv(t,e){e.debug===!0&&(A?v.enable():Jt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),je().update(e.initialScope);const r=new t(e);nv(r),rv(r)}function nv(t){const n=Oe().getStackTop();n.client=t,n.scope.setClient(t)}function rv(t){t.init?t.init():t.setupIntegrations&&t.setupIntegrations()}const sv=30;function Md(t,e,n=R_(t.bufferSize||sv)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(Bc(o,(d,h)=>{const f=Hc(h);if(ld(r,f)){const m=nu(d,h);t.recordDroppedEvent("ratelimit_backoff",f,m)}else a.push(d)}),a.length===0)return Nn();const c=Pt(o[0],a),u=d=>{Bc(c,(h,f)=>{const m=nu(h,f);t.recordDroppedEvent(d,Hc(f),m)})},l=()=>e({body:U_(c,t.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&A&&v.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=dd(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof Je)return A&&v.error("Skipped sending event because buffer is full."),u("queue_overflow"),Nn();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function nu(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}function iv(t,e){const n={sent_at:new Date().toISOString()};e&&(n.dsn=Yn(e));const r=t.map(ov);return Pt(n,r)}function ov(t){return[{type:"span"},t]}function av(t,e){const n=e&&lv(e)?e.getClient():e,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return uv(t,r)||cv(t,s)}function cv(t,e){return e?ru(t)===ru(e):!1}function uv(t,e){return e?t.includes(e.host):!1}function ru(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function lv(t){return t.getClient!==void 0}function jd(t,e,n=[e],r="npm"){const s=t._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${e}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:lo})),version:lo}),t._metadata=s}const dv=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],hv=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Dd="InboundFilters",fv=(t={})=>({name:Dd,setupOnce(){},processEvent(e,n,r){const s=r.getOptions(),i=pv(t,s);return mv(e,i)?null:e}}),Nd=fv;jt(Dd,Nd);function pv(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:dv],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:hv],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function mv(t,e){return e.ignoreInternal&&wv(t)?(A&&v.warn(`Event dropped due to being internal Sentry Error.
Event: ${Et(t)}`),!0):gv(t,e.ignoreErrors)?(A&&v.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Et(t)}`),!0):yv(t,e.ignoreTransactions)?(A&&v.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Et(t)}`),!0):_v(t,e.denyUrls)?(A&&v.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Et(t)}.
Url: ${Ss(t)}`),!0):bv(t,e.allowUrls)?!1:(A&&v.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Et(t)}.
Url: ${Ss(t)}`),!0)}function gv(t,e){return t.type||!e||!e.length?!1:vv(t).some(n=>Gn(n,e))}function yv(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?Gn(n,e):!1}function _v(t,e){if(!e||!e.length)return!1;const n=Ss(t);return n?Gn(n,e):!1}function bv(t,e){if(!e||!e.length)return!0;const n=Ss(t);return n?Gn(n,e):!0}function vv(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch{}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),A&&e.length===0&&v.error(`Could not extract message for event ${Et(t)}`),e}function wv(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function Sv(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ss(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Sv(e):null}catch{return A&&v.error(`Cannot extract url for event ${Et(t)}`),null}}let su;const Ld="FunctionToString",iu=new WeakMap,Ev=()=>({name:Ld,setupOnce(){su=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=Uo(this),n=iu.has(Z())&&e!==void 0?e:this;return su.apply(n,t)}}catch{}},setup(t){iu.set(t,!0)}}),$d=Ev;jt(Ld,$d);const ae=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,F=V;function kv(){F.document?F.document.addEventListener("visibilitychange",()=>{const t=Xt();if(F.document.hidden&&t){const e="cancelled",{op:n,status:r}=Ee(t);ae&&v.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}}):ae&&v.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Ur=(t,e,n)=>{let r,s;return i=>{e.value>=0&&(i||n)&&(s=e.value-(r||0),(s||r===void 0)&&(r=e.value,e.delta=s,t(e)))}},xv=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Tv=()=>{const t=F.performance.timing,e=F.performance.navigation.type,n={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(const r in t)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(t[r]-t.navigationStart,0));return n},Ys=()=>F.__WEB_VITALS_POLYFILL__?F.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Tv()):F.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Ko=()=>{const t=Ys();return t&&t.activationStart||0},Br=(t,e)=>{const n=Ys();let r="navigate";return n&&(F.document&&F.document.prerendering||Ko()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:xv(),navigationType:r}},Xn=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(s=>{e(s.getEntries())});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},Hr=(t,e)=>{const n=r=>{(r.type==="pagehide"||F.document.visibilityState==="hidden")&&(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};F.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},Iv=(t,e={})=>{const n=Br("CLS",0);let r,s=0,i=[];const o=c=>{c.forEach(u=>{if(!u.hadRecentInput){const l=i[0],d=i[i.length-1];s&&i.length!==0&&u.startTime-d.startTime<1e3&&u.startTime-l.startTime<5e3?(s+=u.value,i.push(u)):(s=u.value,i=[u]),s>n.value&&(n.value=s,n.entries=i,r&&r())}})},a=Xn("layout-shift",o);if(a){r=Ur(t,n,e.reportAllChanges);const c=()=>{o(a.takeRecords()),r(!0)};return Hr(c),c}};let Es=-1;const Rv=()=>{F.document&&F.document.visibilityState&&(Es=F.document.visibilityState==="hidden"&&!F.document.prerendering?0:1/0)},Cv=()=>{Hr(({timeStamp:t})=>{Es=t},!0)},Xo=()=>(Es<0&&(Rv(),Cv()),{get firstHiddenTime(){return Es}}),Ov=t=>{const e=Xo(),n=Br("FID");let r;const s=a=>{a.startTime<e.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=Xn("first-input",i);r=Ur(t,n),o&&Hr(()=>{i(o.takeRecords()),o.disconnect()},!0)};let Fd=0,Ai=1/0,cs=0;const Av=t=>{t.forEach(e=>{e.interactionId&&(Ai=Math.min(Ai,e.interactionId),cs=Math.max(cs,e.interactionId),Fd=cs?(cs-Ai)/7+1:0)})};let po;const Pv=()=>po?Fd:performance.interactionCount||0,Mv=()=>{"interactionCount"in performance||po||(po=Xn("event",Av,{type:"event",buffered:!0,durationThreshold:0}))},Ud=()=>Pv(),ou=10,it=[],Pi={},au=t=>{const e=it[it.length-1],n=Pi[t.interactionId];if(n||it.length<ou||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{const r={id:t.interactionId,latency:t.duration,entries:[t]};Pi[r.id]=r,it.push(r)}it.sort((r,s)=>s.latency-r.latency),it.splice(ou).forEach(r=>{delete Pi[r.id]})}},jv=()=>{const t=Math.min(it.length-1,Math.floor(Ud()/50));return it[t]},Dv=(t,e)=>{e=e||{},Mv();const n=Br("INP");let r;const s=o=>{o.forEach(c=>{c.interactionId&&au(c),c.entryType==="first-input"&&!it.some(l=>l.entries.some(d=>c.duration===d.duration&&c.startTime===d.startTime))&&au(c)});const a=jv();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=Xn("event",s,{durationThreshold:e.durationThreshold||40});r=Ur(t,n,e.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Hr(()=>{s(i.takeRecords()),n.value<0&&Ud()>0&&(n.value=0,n.entries=[]),r(!0)}))},cu={},Nv=t=>{const e=Xo(),n=Br("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-Ko(),0);c<e.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=Xn("largest-contentful-paint",s);if(i){r=Ur(t,n);const o=()=>{cu[n.id]||(s(i.takeRecords()),i.disconnect(),cu[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{F.document&&addEventListener(a,o,{once:!0,capture:!0})}),Hr(o,!0),o}},mo=t=>{F.document&&(F.document.prerendering?addEventListener("prerenderingchange",()=>mo(t),!0):F.document.readyState!=="complete"?addEventListener("load",()=>mo(t),!0):setTimeout(t,0))},Lv=(t,e)=>{e=e||{};const n=Br("TTFB"),r=Ur(t,n,e.reportAllChanges);mo(()=>{const s=Ys();if(s){if(n.value=Math.max(s.responseStart-Ko(),0),n.value<0||n.value>performance.now())return;n.entries=[s],r(!0)}})},wr={},ks={};let Bd,Hd,qd,Wd,zd;function $v(t,e=!1){return qr("cls",t,Hv,Bd,e)}function Vd(t,e=!1){return qr("lcp",t,Wv,qd,e)}function Fv(t){return qr("ttfb",t,zv,Wd)}function Uv(t){return qr("fid",t,qv,Hd)}function Bv(t){return qr("inp",t,Vv,zd)}function $n(t,e){return Gd(t,e),ks[t]||(Gv(t),ks[t]=!0),Jd(t,e)}function Qn(t,e){const n=wr[t];if(!(!n||!n.length))for(const r of n)try{r(e)}catch(s){ae&&v.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ut(r)}
Error:`,s)}}function Hv(){return Iv(t=>{Qn("cls",{metric:t}),Bd=t},{reportAllChanges:!0})}function qv(){return Ov(t=>{Qn("fid",{metric:t}),Hd=t})}function Wv(){return Nv(t=>{Qn("lcp",{metric:t}),qd=t})}function zv(){return Lv(t=>{Qn("ttfb",{metric:t}),Wd=t})}function Vv(){return Dv(t=>{Qn("inp",{metric:t}),zd=t})}function qr(t,e,n,r,s=!1){Gd(t,e);let i;return ks[t]||(i=n(),ks[t]=!0),r&&e({metric:r}),Jd(t,e,s?i:void 0)}function Gv(t){const e={};t==="event"&&(e.durationThreshold=0),Xn(t,n=>{Qn(t,{entries:n})},e)}function Gd(t,e){wr[t]=wr[t]||[],wr[t].push(e)}function Jd(t,e,n){return()=>{n&&n();const r=wr[t];if(!r)return;const s=r.indexOf(e);s!==-1&&r.splice(s,1)}}function Mi(t){return typeof t=="number"&&isFinite(t)}function Fn(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}const Jv=2147483647;function _e(t){return t/1e3}function Qo(){return F&&F.addEventListener&&F.performance}let uu=0,pe={},We,Sr;function Yv(){const t=Qo();if(t&&Me){t.mark&&F.performance.mark("sentry-tracing-init");const e=tw(),n=Zv(),r=ew(),s=nw();return()=>{e(),n(),r(),s()}}return()=>{}}function Kv(){$n("longtask",({entries:t})=>{for(const e of t){const n=Xt();if(!n)return;const r=_e(Me+e.startTime),s=_e(e.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function Xv(){$n("event",({entries:t})=>{for(const e of t){const n=Xt();if(!n)return;if(e.name==="click"){const r=_e(Me+e.startTime),s=_e(e.duration),i={description:Ct(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=Gl(e.target);o&&(i.attributes={"ui.component_name":o}),n.startChild(i)}}})}function Qv(t,e){if(Qo()&&Me){const r=rw(t,e);return()=>{r()}}return()=>{}}function Zv(){return $v(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(ae&&v.log("[Measurements] Adding CLS"),pe.cls={value:t.value,unit:""},Sr=e)},!0)}function ew(){return Vd(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(ae&&v.log("[Measurements] Adding LCP"),pe.lcp={value:t.value,unit:"millisecond"},We=e)},!0)}function tw(){return Uv(({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=_e(Me),r=_e(e.startTime);ae&&v.log("[Measurements] Adding FID"),pe.fid={value:t.value,unit:"millisecond"},pe["mark.fid"]={value:n+r,unit:"second"}})}function nw(){return Fv(({metric:t})=>{t.entries[t.entries.length-1]&&(ae&&v.log("[Measurements] Adding TTFB"),pe.ttfb={value:t.value,unit:"millisecond"})})}const lu={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function rw(t,e){return Bv(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(k=>k.duration===n.value&&lu[k.name]!==void 0),s=Z();if(!r||!s)return;const i=lu[r.name],o=s.getOptions(),a=_e(Me+r.startTime),c=_e(n.value),u=r.interactionId!==void 0?t[r.interactionId]:void 0;if(u===void 0)return;const{routeName:l,parentContext:d,activeTransaction:h,user:f,replayId:m}=u,y=f!==void 0?f.email||f.id||f.ip_address:void 0,g=h!==void 0?h.getProfileId():void 0,b=new Js({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${i}`,name:Ct(r.target),attributes:{release:o.release,environment:o.environment,transaction:l,...y!==void 0&&y!==""?{user:y}:{},...g!==void 0?{profile_id:g}:{},...m!==void 0?{replay_id:m}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),E=hw(d,o,e);if(E&&Math.random()<E){const k=b?iv([b],s.getDsn()):void 0,T=s&&s.getTransport();T&&k&&T.send(k).then(null,x=>{ae&&v.error("Error while sending interaction:",x)});return}})}function sw(t){const e=Qo();if(!e||!F.performance.getEntries||!Me)return;ae&&v.log("[Tracing] Adding & adjusting spans using Performance API");const n=_e(Me),r=e.getEntries(),{op:s,start_timestamp:i}=Ee(t);if(r.slice(uu).forEach(o=>{const a=_e(o.startTime),c=_e(o.duration);if(!(t.op==="navigation"&&i&&n+a<i))switch(o.entryType){case"navigation":{ow(t,o,n);break}case"mark":case"paint":case"measure":{iw(t,o,a,c,n);const u=Xo(),l=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&l&&(ae&&v.log("[Measurements] Adding FP"),pe.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&(ae&&v.log("[Measurements] Adding FCP"),pe.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{cw(t,o,o.name,a,c,n);break}}}),uu=Math.max(r.length-1,0),uw(t),s==="pageload"){dw(pe),["fcp","fp","lcp"].forEach(a=>{if(!pe[a]||!i||n>=i)return;const c=pe[a].value,u=n+_e(c),l=Math.abs((u-i)*1e3),d=l-c;ae&&v.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),pe[a].value=l});const o=pe["mark.fid"];o&&pe.fid&&(Fn(t,{description:"first input delay",endTimestamp:o.value+_e(pe.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete pe["mark.fid"]),"fcp"in pe||delete pe.cls,Object.keys(pe).forEach(a=>{Db(a,pe[a].value,pe[a].unit)}),lw(t)}We=void 0,Sr=void 0,pe={}}function iw(t,e,n,r,s){const i=s+n,o=i+r;return Fn(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function ow(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{us(t,e,r,n)}),us(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),us(t,e,"fetch",n,"cache","domainLookupStart"),us(t,e,"domainLookup",n,"DNS"),aw(t,e,n)}function us(t,e,n,r,s,i){const o=i?e[i]:e[`${n}End`],a=e[`${n}Start`];!a||!o||Fn(t,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+_e(a),endTimestamp:r+_e(o)})}function aw(t,e,n){e.responseEnd&&(Fn(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+_e(e.requestStart),endTimestamp:n+_e(e.responseEnd)}),Fn(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+_e(e.responseStart),endTimestamp:n+_e(e.responseEnd)}))}function cw(t,e,n,r,s,i){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const o=zt(n),a={};ji(a,e,"transferSize","http.response_transfer_size"),ji(a,e,"encodedBodySize","http.response_content_length"),ji(a,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(a["resource.render_blocking_status"]=e.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(F.location.origin);const c=i+r,u=c+s;Fn(t,{description:n.replace(F.location.origin,""),endTimestamp:u,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function uw(t){const e=F.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Mi(n.rtt)&&(pe["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Mi(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Mi(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function lw(t){We&&(ae&&v.log("[Measurements] Adding LCP Data"),We.element&&t.setTag("lcp.element",Ct(We.element)),We.id&&t.setTag("lcp.id",We.id),We.url&&t.setTag("lcp.url",We.url.trim().slice(0,200)),t.setTag("lcp.size",We.size)),Sr&&Sr.sources&&(ae&&v.log("[Measurements] Adding CLS Data"),Sr.sources.forEach((e,n)=>t.setTag(`cls.source.${n+1}`,Ct(e.node))))}function ji(t,e,n,r){const s=e[n];s!=null&&s<Jv&&(t[r]=s)}function dw(t){const e=Ys();if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(ae&&v.log("[Measurements] Adding TTFB Request Time"),t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function hw(t,e,n){if(!Kn(e))return!1;let r;return t!==void 0&&typeof e.tracesSampler=="function"?r=e.tracesSampler({transactionContext:t,name:t.name,parentSampled:t.parentSampled,attributes:{...t.data,...t.attributes},location:F.location}):t!==void 0&&t.sampled!==void 0?r=t.sampled:typeof e.tracesSampleRate<"u"?r=e.tracesSampleRate:r=1,Cd(r)?r===!0?n:r===!1?0:r*n:(ae&&v.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function fw(t,e,n,r,s="auto.http.browser"){if(!Kn()||!t.fetchData)return;const i=e(t.fetchData.url);if(t.endTimestamp&&i){const f=t.fetchData.__span;if(!f)return;const m=r[f];m&&(gw(m,t),delete r[f]);return}const o=je(),a=Z(),{method:c,url:u}=t.fetchData,l=mw(u),d=l?zt(l).host:void 0,h=i?Ed({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":d,[wn]:s},op:"http.client"}):void 0;if(h&&(t.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(t.fetchData.url)&&a){const f=t.args[0];t.args[1]=t.args[1]||{};const m=t.args[1];m.headers=pw(f,a,o,m,h)}return h}function pw(t,e,n,r,s){const i=s||n.getSpan(),o=Mt(),{traceId:a,spanId:c,sampled:u,dsc:l}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?Ws(i):Wo(a,c,u),h=cd(l||(i?Ln(i):Gs(a,e,n))),f=r.headers||(typeof Request<"u"&&ct(t,Request)?t.headers:void 0);if(f)if(typeof Headers<"u"&&ct(f,Headers)){const m=new Headers(f);return m.append("sentry-trace",d),h&&m.append(co,h),m}else if(Array.isArray(f)){const m=[...f,["sentry-trace",d]];return h&&m.push([co,h]),m}else{const m="baggage"in f?f.baggage:void 0,y=[];return Array.isArray(m)?y.push(...m):m&&y.push(m),h&&y.push(h),{...f,"sentry-trace":d,baggage:y.length>0?y.join(","):void 0}}else return{"sentry-trace":d,baggage:h}}function mw(t){try{return new URL(t).href}catch{return}}function gw(t,e){if(e.response){Yo(t,e.response.status);const n=e.response&&e.response.headers&&e.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&t.setAttribute("http.response_content_length",r)}}else e.error&&t.setStatus("internal_error");t.end()}const go=["localhost",/^\/(?!\/)/],yo={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:go,tracePropagationTargets:go};function yw(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:yo.traceFetch,traceXHR:yo.traceXHR,...t},a=typeof i=="function"?i:l=>!0,c=l=>ww(l,r||s),u={};e&&Bo(l=>{const d=fw(l,a,c,u);if(d){const h=Yd(l.fetchData.url),f=h?zt(h).host:void 0;d.setAttributes({"http.url":h,"server.address":f})}o&&d&&du(d)}),n&&Ho(l=>{const d=Sw(l,a,c,u);o&&d&&du(d)})}function _w(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function du(t){const{url:e}=Ee(t).data||{};if(!e||typeof e!="string")return;const n=$n("resource",({entries:r})=>{r.forEach(s=>{_w(s)&&s.name.endsWith(e)&&(vw(s).forEach(o=>t.setAttribute(...o)),setTimeout(n))})})}function bw(t){let e="unknown",n="unknown",r="";for(const s of t){if(s==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(s))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=s}return r===t&&(e=r),{name:e,version:n}}function He(t=0){return((Me||performance.timeOrigin)+t)/1e3}function vw(t){const{name:e,version:n}=bw(t.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",e]),Me?[...r,["http.request.redirect_start",He(t.redirectStart)],["http.request.fetch_start",He(t.fetchStart)],["http.request.domain_lookup_start",He(t.domainLookupStart)],["http.request.domain_lookup_end",He(t.domainLookupEnd)],["http.request.connect_start",He(t.connectStart)],["http.request.secure_connection_start",He(t.secureConnectionStart)],["http.request.connection_end",He(t.connectEnd)],["http.request.request_start",He(t.requestStart)],["http.request.response_start",He(t.responseStart)],["http.request.response_end",He(t.responseEnd)]]:r}function ww(t,e){return Gn(t,e||go)}function Sw(t,e,n,r){const s=t.xhr,i=s&&s[xt];if(!Kn()||!s||s.__sentry_own_request__||!i)return;const o=e(i.url);if(t.endTimestamp&&o){const f=s.__sentry_xhr_span_id__;if(!f)return;const m=r[f];m&&i.status_code!==void 0&&(Yo(m,i.status_code),m.end(),delete r[f]);return}const a=je(),c=Mt(),u=Yd(i.url),l=u?zt(u).host:void 0,d=o?Ed({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":l,[wn]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const h=Z();if(s.setRequestHeader&&n(i.url)&&h){const{traceId:f,spanId:m,sampled:y,dsc:g}={...c.getPropagationContext(),...a.getPropagationContext()},b=d?Ws(d):Wo(f,m,y),E=cd(g||(d?Ln(d):Gs(f,h,a)));Ew(s,b,E)}return d}function Ew(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(co,n)}catch{}}function Yd(t){try{return new URL(t,F.location.origin).href}catch{return}}function kw(t,e=!0,n=!0){if(!F||!F.location){ae&&v.warn("Could not initialize routing instrumentation due to invalid location");return}let r=F.location.href,s;e&&(s=t({name:F.location.pathname,startTimestamp:Me?Me/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Hs(({to:i,from:o})=>{if(o===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}o!==i&&(r=void 0,s&&(ae&&v.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.end()),s=t({name:F.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const xw="BrowserTracing",Tw={...gs,markBackgroundTransactions:!0,routingInstrumentation:kw,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...yo},hu=10;class Iw{constructor(e){this.name=xw,this._hasSetTracePropagationTargets=!1,jb(),ae&&(this._hasSetTracePropagationTargets=!!(e&&(e.tracePropagationTargets||e.tracingOrigins))),this.options={...Tw,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Yv(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Qv(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&Kv(),this.options._experiments.enableInteractions&&Xv(),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,n){this._getCurrentHub=n;const s=n().getClient(),i=s&&s.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:h,enableHTTPTimings:f,_experiments:m}=this.options,y=i&&i.tracePropagationTargets,g=y||this.options.tracePropagationTargets;ae&&this._hasSetTracePropagationTargets&&y&&v.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(b=>{const E=this._createRouteTransaction(b);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(E,b,n),E},c,a),u&&kv(),m.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),yw({traceFetch:l,traceXHR:d,tracePropagationTargets:g,shouldCreateSpanForRequest:h,enableHTTPTimings:f})}_createRouteTransaction(e){if(!this._getCurrentHub){ae&&v.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=this.options,a=e.op==="pageload";let c;if(a){const f=a?fu("sentry-trace"):"",m=a?fu("baggage"):void 0,{traceId:y,dsc:g,parentSpanId:b,sampled:E}=$_(f,m);c={traceId:y,parentSpanId:b,parentSampled:E,...e,metadata:{...e.metadata,dynamicSamplingContext:g},trimEnd:!0}}else c={trimEnd:!0,...e};const u=typeof r=="function"?r(c):c,l=u===void 0?{...c,sampled:!1}:u;l.metadata=l.name!==c.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,l.sampled===!1&&ae&&v.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),ae&&v.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:d}=F,h=Qc(n,l,s,i,!0,{location:d},o,a);return a&&F.document&&(F.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(F.document.readyState)&&h.sendAutoFinishSignal()}),["interactive","complete"].includes(F.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback(f=>{this._collectWebVitals(),sw(f)}),h}_registerInteractionListener(){let e;const n=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="ui.action.click",a=Xt();if(a&&a.op&&["navigation","pageload"].includes(a.op)){ae&&v.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub){ae&&v.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRoute.name){ae&&v.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=F,l={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[Vt]:this._latestRoute.context?Rw(this._latestRoute.context):"url"}};e=Qc(c,l,r,s,!0,{location:u},i)};["click"].forEach(r=>{F.document&&addEventListener(r,n,{once:!1,capture:!0})})}_registerInpInteractionListener(){const e=({entries:n})=>{const r=Z(),s=r!==void 0&&r.getIntegrationByName!==void 0?r.getIntegrationByName("Replay"):void 0,i=s!==void 0?s.getReplayId():void 0,o=Xt(),a=je(),c=a!==void 0?a.getUser():void 0;n.forEach(u=>{if(Cw(u)){const l=u.interactionId;if(l===void 0)return;const d=this._interactionIdToRouteNameMapping[l],h=u.duration,f=u.startTime,m=Object.keys(this._interactionIdToRouteNameMapping),y=m.length>0?m.reduce((g,b)=>this._interactionIdToRouteNameMapping[g].duration<this._interactionIdToRouteNameMapping[b].duration?g:b):void 0;if(u.entryType==="first-input"&&m.map(b=>this._interactionIdToRouteNameMapping[b]).some(b=>b.duration===h&&b.startTime===f)||!l)return;if(d)d.duration=Math.max(d.duration,h);else if(m.length<hu||y===void 0||h>this._interactionIdToRouteNameMapping[y].duration){const g=this._latestRoute.name,b=this._latestRoute.context;g&&b&&(y&&Object.keys(this._interactionIdToRouteNameMapping).length>=hu&&delete this._interactionIdToRouteNameMapping[y],this._interactionIdToRouteNameMapping[l]={routeName:g,duration:h,parentContext:b,user:c,activeTransaction:o,replayId:i,startTime:f})}}})};$n("event",e),$n("first-input",e)}}function fu(t){const e=qy(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function Rw(t){const e=t.attributes&&t.attributes[Vt],n=t.data&&t.data[Vt],r=t.metadata&&t.metadata.source;return e||n||r}function Cw(t){return"duration"in t}const ee=V;let _o=0;function Kd(){return _o>0}function Ow(){_o++,setTimeout(()=>{_o--})}function Un(t,e={},n){if(typeof t!="function")return t;try{const s=t.__sentry_wrapped__;if(s)return typeof s=="function"?s:t;if(Uo(t))return t}catch{return t}const r=function(){const s=Array.prototype.slice.call(arguments);try{const i=s.map(o=>Un(o,e));return t.apply(this,i)}catch(i){throw Ow(),lb(o=>{o.addEventProcessor(a=>(e.mechanism&&(to(a,void 0),Or(a,e.mechanism)),a.extra={...a.extra,arguments:s},a)),Vs(i)}),i}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch{}Yl(r,t),Yt(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}const ot=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Xd(t,e){const n=Zo(t,e),r={type:e&&e.name,value:jw(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Aw(t,e,n,r){const s=Z(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:Us(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:Lw(e,{isUnhandledRejection:r})}]},extra:{__serialized__:id(e,i)}};if(n){const a=Zo(t,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function Di(t,e){return{exception:{values:[Xd(t,e)]}}}function Zo(t,e){const n=e.stacktrace||e.stack||"",r=Mw(e);try{return t(n,r)}catch{}return[]}const Pw=/Minified React error #\d+;/i;function Mw(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Pw.test(t.message))return 1}return 0}function jw(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Dw(t,e,n,r){const s=n&&n.syntheticException||void 0,i=ea(t,e,s,r);return Or(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Nn(i)}function Nw(t,e,n="info",r,s){const i=r&&r.syntheticException||void 0,o=bo(t,e,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Nn(o)}function ea(t,e,n,r,s){let i;if(No(e)&&e.error)return Di(t,e.error);if(Tc(e)||My(e)){const o=e;if("stack"in e)i=Di(t,e);else{const a=o.name||(Tc(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=bo(t,c,n,r),to(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return ql(e)?Di(t,e):Dn(e)||Us(e)?(i=Aw(t,e,n,s),Or(i,{synthetic:!0}),i):(i=bo(t,e,n,r),to(i,`${e}`),Or(i,{synthetic:!0}),i)}function bo(t,e,n,r){const s={};if(r&&n){const i=Zo(t,n);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]})}if(Lo(e)){const{__sentry_template_string__:i,__sentry_template_values__:o}=e;return s.logentry={message:i,params:o},s}return s.message=e,s}function Lw(t,{isUnhandledRejection:e}){const n=Qy(t),r=e?"promise rejection":"exception";return No(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:Us(t)?`Event \`${$w(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function $w(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function Fw(t,{metadata:e,tunnel:n,dsn:r}){const s={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:Yn(r)}},i=Uw(t);return Pt(s,[i])}function Uw(t){return[{type:"user_report"},t]}class Bw extends Xb{constructor(e){const n=ee.SENTRY_SDK_SOURCE||v_();jd(e,"browser",["browser"],n),super(e),e.sendClientReports&&ee.document&&ee.document.addEventListener("visibilitychange",()=>{ee.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return Dw(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return Nw(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){ot&&v.warn("SDK not enabled, will not capture user feedback.");return}const n=Fw(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){ot&&v.log("No outcomes to send");return}if(!this._dsn){ot&&v.log("No dsn provided, will not send outcomes");return}ot&&v.log("Sending outcomes:",e);const n=W_(e,this._options.tunnel&&Yn(this._dsn));this._sendEnvelope(n)}}let mr;function Hw(){if(mr)return mr;if(io(ee.fetch))return mr=ee.fetch.bind(ee);const t=ee.document;let e=ee.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){ot&&v.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return mr=e.bind(ee)}function qw(){mr=void 0}function Ww(t,e=Hw()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{return e(t.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return qw(),n-=o,r--,qo(c)}}return Md(t,s)}const zw=4;function Vw(t){function e(n){return new Pe((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===zw&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",t.url);for(const o in t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&i.setRequestHeader(o,t.headers[o]);i.send(n.body)})}return Md(t,e)}const Ks="?",Gw=30,Jw=40,Yw=50;function ta(t,e,n,r){const s={filename:t,function:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Kw=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Xw=/\((\S*)(?::(\d+))(?::(\d+))\)/,Qw=t=>{const e=Kw.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const i=Xw.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}const[r,s]=Qd(e[1]||Ks,e[2]);return ta(s,r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Zw=[Gw,Qw],e0=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,t0=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,n0=t=>{const e=e0.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=t0.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],s=e[1]||Ks;return[s,r]=Qd(s,r),ta(r,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},r0=[Yw,n0],s0=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i0=t=>{const e=s0.exec(t);return e?ta(e[2],e[1]||Ks,+e[3],e[4]?+e[4]:void 0):void 0},o0=[Jw,i0],a0=[Zw,r0,o0],c0=Ql(...a0),Qd=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Ks,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},ls=1024,Zd="Breadcrumbs",u0=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Zd,setupOnce(){},setup(n){e.console&&n_(h0(n)),e.dom&&td(d0(n,e.dom)),e.xhr&&Ho(f0(n)),e.fetch&&Bo(p0(n)),e.history&&Hs(m0(n)),e.sentry&&n.on&&n.on("beforeSendEvent",l0(n))}}},eh=u0;jt(Zd,eh);function l0(t){return function(n){Z()===t&&Ot({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Et(n)},{event:n})}}function d0(t,e){return function(r){if(Z()!==t)return;let s,i,o=typeof e=="object"?e.serializeAttribute:void 0,a=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;a&&a>ls&&(ot&&v.warn(`\`dom.maxStringLength\` cannot exceed ${ls}, but a value of ${a} was configured. Sentry will use ${ls} instead.`),a=ls),typeof o=="string"&&(o=[o]);try{const u=r.event,l=g0(u)?u.target:u;s=Ct(l,{keyAttrs:o,maxStringLength:a}),i=Gl(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),Ot(c,{event:r.event,name:r.name,global:r.global})}}function h0(t){return function(n){if(Z()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:O_(n.level),message:Ic(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ic(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ot(r,{input:n.args,level:n.level})}}function f0(t){return function(n){if(Z()!==t)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[xt];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};Ot({category:"xhr",data:l,type:"http"},d)}}function p0(t){return function(n){if(Z()!==t)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};Ot({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s};Ot({category:"fetch",data:o,type:"http"},a)}}}function m0(t){return function(n){if(Z()!==t)return;let r=n.from,s=n.to;const i=zt(ee.location.href);let o=r?zt(r):void 0;const a=zt(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),Ot({category:"navigation",data:{from:r,to:s}})}}function g0(t){return!!t&&!!t.target}const th="Dedupe",y0=()=>{let t;return{name:th,setupOnce(){},processEvent(e){if(e.type)return e;try{if(_0(e,t))return ot&&v.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},nh=y0;jt(th,nh);function _0(t,e){return e?!!(b0(t,e)||v0(t,e)):!1}function b0(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!sh(t,e)||!rh(t,e))}function v0(t,e){const n=pu(e),r=pu(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!sh(t,e)||!rh(t,e))}function rh(t,e){let n=mu(t),r=mu(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function sh(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function pu(t){return t.exception&&t.exception.values&&t.exception.values[0]}function mu(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const ih="GlobalHandlers",w0=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:ih,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(S0(n),gu("onerror")),e.onunhandledrejection&&(E0(n),gu("onunhandledrejection"))}}},oh=w0;jt(ih,oh);function S0(t){rd(e=>{const{stackParser:n,attachStacktrace:r}=ch();if(Z()!==t||Kd())return;const{msg:s,url:i,line:o,column:a,error:c}=e,u=c===void 0&&Qe(s)?T0(s,i,o,a):ah(ea(n,c||s,void 0,r,!1),i,o,a);u.level="error",gd(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function E0(t){sd(e=>{const{stackParser:n,attachStacktrace:r}=ch();if(Z()!==t||Kd())return;const s=k0(e),i=$o(s)?x0(s):ea(n,s,void 0,r,!0);i.level="error",gd(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function k0(t){if($o(t))return t;const e=t;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return t}function x0(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function T0(t,e,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=No(t)?t.message:t,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),ah({exception:{values:[{type:o,value:i}]}},e,n,r)}function ah(t,e,n,r){const s=t.exception=t.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=Qe(e)&&e.length>0?e:Hy();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),t}function gu(t){ot&&v.log(`Global Handler attached: ${t}`)}function ch(){const t=Z();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const uh="HttpContext",I0=()=>({name:uh,setupOnce(){},preprocessEvent(t){if(!ee.navigator&&!ee.location&&!ee.document)return;const e=t.request&&t.request.url||ee.location&&ee.location.href,{referrer:n}=ee.document||{},{userAgent:r}=ee.navigator||{},s={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:s};t.request=i}}),lh=I0;jt(uh,lh);const R0="cause",C0=5,dh="LinkedErrors",O0=(t={})=>{const e=t.limit||C0,n=t.key||R0;return{name:dh,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();$y(Xd,o.stackParser,o.maxValueLength,n,e,r,s)}}},hh=O0;jt(dh,hh);const A0=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],fh="TryCatch",P0=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:fh,setupOnce(){e.setTimeout&&Se(ee,"setTimeout",yu),e.setInterval&&Se(ee,"setInterval",yu),e.requestAnimationFrame&&Se(ee,"requestAnimationFrame",M0),e.XMLHttpRequest&&"XMLHttpRequest"in ee&&Se(XMLHttpRequest.prototype,"send",j0);const n=e.eventTarget;n&&(Array.isArray(n)?n:A0).forEach(D0)}}},ph=P0;jt(fh,ph);function yu(t){return function(...e){const n=e[0];return e[0]=Un(n,{mechanism:{data:{function:ut(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function M0(t){return function(e){return t.apply(this,[Un(e,{mechanism:{data:{function:"requestAnimationFrame",handler:ut(t)},handled:!1,type:"instrument"}})])}}function j0(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Se(n,s,function(i){const o={mechanism:{data:{function:s,handler:ut(i)},handled:!1,type:"instrument"}},a=Uo(i);return a&&(o.mechanism.data.handler=ut(a)),Un(i,o)})}),t.apply(this,e)}}function D0(t){const e=ee,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Se(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Un(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ut(i),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Un(i,{mechanism:{data:{function:"addEventListener",handler:ut(i),target:t},handled:!1,type:"instrument"}}),o])}}),Se(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,o)}catch{}return r.call(this,s,a,o)}}))}const N0=[Nd(),$d(),ph(),eh(),oh(),hh(),nh(),lh()];function L0(t){return[...N0]}function $0(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=L0()),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),ee.SENTRY_RELEASE&&ee.SENTRY_RELEASE.id&&(t.release=ee.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e={...t,stackParser:e_(t.stackParser||c0),integrations:zb(t),transport:t.transport||(nd()?Ww:Vw)};tv(Bw,e),t.autoSessionTracking&&F0()}function F0(){if(typeof ee.document>"u"){ot&&v.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}zc({ignoreDuration:!0}),Vc(),Hs(({from:t,to:e})=>{t!==void 0&&t!==e&&(zc({ignoreDuration:!0}),Vc())})}const oe=V,na="sentryReplaySession",U0="replay_event",ra="Unable to send Replay",B0=3e5,H0=9e5,q0=5e3,W0=5500,z0=6e4,V0=5e3,G0=3,_u=15e4,ds=5e3,J0=3e3,Y0=300,sa=2e7,K0=4999,X0=15e3,bu=36e5;function Q0(t,e){return t??e()}function xs(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}var ye;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(ye||(ye={}));function Z0(t){return t.nodeType===t.ELEMENT_NODE}function Er(t){const e=xs([t,"optionalAccess",n=>n.host]);return xs([e,"optionalAccess",n=>n.shadowRoot])===t}function kr(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function eS(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t}function tS(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}function Ts(t){try{const e=t.rules||t.cssRules;return e?eS(Array.from(e,mh).join("")):null}catch{return null}}function mh(t){let e;if(rS(t))try{e=Ts(t.styleSheet)||tS(t)}catch{}else if(sS(t)&&t.selectorText.includes(":"))return nS(t.cssText);return e||t.cssText}function nS(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function rS(t){return"styleSheet"in t}function sS(t){return"selectorText"in t}class gh{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const n=xs([this,"access",r=>r.getMeta,"call",r=>r(e),"optionalAccess",r=>r.id]);return Q0(n,()=>-1)}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const r=n.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,n)}replace(e,n){const r=this.getNode(e);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function iS(){return new gh}function Xs({maskInputOptions:t,tagName:e,type:n}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||n&&t[n]||n==="password"||e==="INPUT"&&!n&&t.text)}function Ar({isMasked:t,element:e,value:n,maskInputFn:r}){let s=n||"";return t?(r&&(s=r(s,e)),"*".repeat(s.length)):s}function Bn(t){return t.toLowerCase()}function vo(t){return t.toUpperCase()}const vu="__rrweb_original__";function oS(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let s=0;s<t.height;s+=n){const i=e.getImageData,o=vu in i?i[vu]:i;if(new Uint32Array(o.call(e,r,s,Math.min(n,t.width-r),Math.min(n,t.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function ia(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Bn(e):null}function Is(t,e,n){return e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}let aS=1;const cS=new RegExp("[^a-z0-9-_:]"),Pr=-2;function oa(){return aS++}function uS(t){if(t instanceof HTMLFormElement)return"form";const e=Bn(t.tagName);return cS.test(e)?"div":e}function lS(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let hn,wu;const dS=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,hS=/^(?:[a-z+]+:)?\/\//i,fS=/^www\..*/i,pS=/^(data:)([^,]*),(.*)/i;function Rs(t,e){return(t||"").replace(dS,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(hS.test(c)||fS.test(c))return`url(${u}${c}${u})`;if(pS.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${lS(e)+c}${u})`;const l=e.split("/"),d=c.split("/");l.pop();for(const h of d)h!=="."&&(h===".."?l.pop():l.push(h));return`url(${u}${l.join("/")}${u})`})}const mS=/^[^ \t\n\r\u000c]+/,gS=/^[, \t\n\r\u000c]+/;function yS(t,e){if(e.trim()==="")return e;let n=0;function r(i){let o;const a=i.exec(e.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(gS),!(n>=e.length);){let i=r(mS);if(i.slice(-1)===",")i=Sn(t,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Sn(t,i);let a=!1;for(;;){const c=e.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}function Sn(t,e){if(!e||e.trim()==="")return e;const n=t.createElement("a");return n.href=e,n.href}function _S(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function aa(){const t=document.createElement("a");return t.href="",t.href}function yh(t,e,n,r,s,i){return r&&(n==="src"||n==="href"&&!(e==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(e==="table"||e==="td"||e==="th")?Sn(t,r):n==="srcset"?yS(t,r):n==="style"?Rs(r,aa()):e==="object"&&n==="data"?Sn(t,r):typeof i=="function"?i(n,r,s):r)}function _h(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}function bS(t,e,n,r){try{if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let s=t.classList.length;s--;){const i=t.classList[s];if(e.test(i))return!0}if(n)return t.matches(n)}catch{}return!1}function vS(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}function qt(t,e,n=1/0,r=0){return!t||t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:qt(t.parentNode,e,n,r+1)}function En(t,e){return n=>{const r=n;if(r===null)return!1;try{if(t){if(typeof t=="string"){if(r.matches(`.${t}`))return!0}else if(vS(r,t))return!0}return!!(e&&r.matches(e))}catch{return!1}}}function Hn(t,e,n,r,s,i){try{const o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=qt(o,En(r,s)),c<0)return!0;a=qt(o,En(e,n),c>=0?c:1/0)}else{if(a=qt(o,En(e,n)),a<0)return!1;c=qt(o,En(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function wS(t,e,n){const r=t.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=setTimeout(()=>{s||(e(),s=!0)},n);t.addEventListener("load",()=>{clearTimeout(a),s=!0,e()});return}const o="about:blank";if(r.location.href!==o||t.src===o||t.src==="")return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function SS(t,e,n){let r=!1,s;try{s=t.sheet}catch{return}if(s)return;const i=setTimeout(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{clearTimeout(i),r=!0,e()})}function ES(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:m={},maskTextFn:y,maskInputFn:g,dataURLOptions:b={},inlineImages:E,recordCanvas:k,keepIframeSrcFn:T,newlyAddedElement:x=!1}=e,R=kS(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:ye.Document,childNodes:[],compatMode:t.compatMode}:{type:ye.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:ye.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:R};case t.ELEMENT_NODE:return TS(t,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:m,maskInputFn:g,dataURLOptions:b,inlineImages:E,recordCanvas:k,keepIframeSrcFn:T,newlyAddedElement:x,rootId:R,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:h});case t.TEXT_NODE:return xS(t,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:y,maskInputOptions:m,maskInputFn:g,rootId:R});case t.CDATA_SECTION_NODE:return{type:ye.CDATA,textContent:"",rootId:R};case t.COMMENT_NODE:return{type:ye.Comment,textContent:t.textContent||"",rootId:R};default:return!1}}function kS(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}function xS(t,e){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=e,d=t.parentNode&&t.parentNode.tagName;let h=t.textContent;const f=d==="STYLE"?!0:void 0,m=d==="SCRIPT"?!0:void 0,y=d==="TEXTAREA"?!0:void 0;if(f&&h){try{t.nextSibling||t.previousSibling||xs([t,"access",b=>b.parentNode,"access",b=>b.sheet,"optionalAccess",b=>b.cssRules])&&(h=Ts(t.parentNode.sheet))}catch(b){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${b}`,t)}h=Rs(h,aa())}m&&(h="SCRIPT_PLACEHOLDER");const g=Hn(t,r,i,s,o,n);if(!f&&!m&&!y&&h&&g&&(h=a?a(h,t.parentElement):h.replace(/[\S]/g,"*")),y&&h&&(c.textarea||g)&&(h=u?u(h,t.parentNode):h.replace(/[\S]/g,"*")),d==="OPTION"&&h){const b=Xs({type:null,tagName:d,maskInputOptions:c});h=Ar({isMasked:Hn(t,r,i,s,o,b),element:t,value:h,maskInputFn:u})}return{type:ye.Text,textContent:h||"",isStyle:f,rootId:l}}function TS(t,e){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:y,maskTextClass:g,unmaskTextClass:b,maskTextSelector:E,unmaskTextSelector:k}=e,T=bS(t,r,s,i),x=uS(t);let R={};const j=t.attributes.length;for(let I=0;I<j;I++){const P=t.attributes[I];P.name&&!_h(x,P.name,P.value)&&(R[P.name]=yh(n,x,Bn(P.name),P.value,t,c))}if(x==="link"&&o){const I=Array.from(n.styleSheets).find(Y=>Y.href===t.href);let P=null;I&&(P=Ts(I)),P&&(delete R.rel,delete R.href,R._cssText=Rs(P,I.href))}if(x==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const I=Ts(t.sheet);I&&(R._cssText=Rs(I,aa()))}if(x==="input"||x==="textarea"||x==="select"||x==="option"){const I=t,P=ia(I),Y=Is(I,vo(x),P),C=I.checked;if(P!=="submit"&&P!=="button"&&Y){const he=Hn(I,g,E,b,k,Xs({type:P,tagName:vo(x),maskInputOptions:a}));R.value=Ar({isMasked:he,element:I,value:Y,maskInputFn:u})}C&&(R.checked=C)}if(x==="option"&&(t.selected&&!a.select?R.selected=!0:delete R.selected),x==="canvas"&&h){if(t.__context==="2d")oS(t)||(R.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){const I=t.toDataURL(l.type,l.quality),P=document.createElement("canvas");P.width=t.width,P.height=t.height;const Y=P.toDataURL(l.type,l.quality);I!==Y&&(R.rr_dataURL=I)}}if(x==="img"&&d){hn||(hn=n.createElement("canvas"),wu=hn.getContext("2d"));const I=t,P=I.crossOrigin;I.crossOrigin="anonymous";const Y=()=>{I.removeEventListener("load",Y);try{hn.width=I.naturalWidth,hn.height=I.naturalHeight,wu.drawImage(I,0,0),R.rr_dataURL=hn.toDataURL(l.type,l.quality)}catch(C){console.warn(`Cannot inline img src=${I.currentSrc}! Error: ${C}`)}P?R.crossOrigin=P:I.removeAttribute("crossorigin")};I.complete&&I.naturalWidth!==0?Y():I.addEventListener("load",Y)}if((x==="audio"||x==="video")&&(R.rr_mediaState=t.paused?"paused":"played",R.rr_mediaCurrentTime=t.currentTime),m||(t.scrollLeft&&(R.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(R.rr_scrollTop=t.scrollTop)),T){const{width:I,height:P}=t.getBoundingClientRect();R={class:R.class,rr_width:`${I}px`,rr_height:`${P}px`}}x==="iframe"&&!f(R.src)&&(t.contentDocument||(R.rr_src=R.src),delete R.src);let D;try{customElements.get(x)&&(D=!0)}catch{}return{type:ye.Element,tagName:x,attributes:R,childNodes:[],isSVG:_S(t)||void 0,needBlock:T,rootId:y,isCustom:D}}function se(t){return t==null?"":t.toLowerCase()}function IS(t,e){if(e.comment&&t.type===ye.Comment)return!0;if(t.type===ye.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(se(t.attributes.name).match(/^msapplication-tile(image|color)$/)||se(t.attributes.name)==="application-name"||se(t.attributes.rel)==="icon"||se(t.attributes.rel)==="apple-touch-icon"||se(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&se(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(se(t.attributes.property).match(/^(og|twitter|fb):/)||se(t.attributes.name).match(/^(og|twitter):/)||se(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(se(t.attributes.name)==="robots"||se(t.attributes.name)==="googlebot"||se(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(se(t.attributes.name)==="author"||se(t.attributes.name)==="generator"||se(t.attributes.name)==="framework"||se(t.attributes.name)==="publisher"||se(t.attributes.name)==="progid"||se(t.attributes.property).match(/^article:/)||se(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(se(t.attributes.name)==="google-site-verification"||se(t.attributes.name)==="yandex-verification"||se(t.attributes.name)==="csrf-token"||se(t.attributes.name)==="p:domain_verify"||se(t.attributes.name)==="verify-v1"||se(t.attributes.name)==="verification"||se(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function kn(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:f=!0,maskInputOptions:m={},maskAttributeFn:y,maskTextFn:g,maskInputFn:b,slimDOMOptions:E,dataURLOptions:k={},inlineImages:T=!1,recordCanvas:x=!1,onSerialize:R,onIframeLoad:j,iframeLoadTimeout:D=5e3,onStylesheetLoad:I,stylesheetLoadTimeout:P=5e3,keepIframeSrcFn:Y=()=>!1,newlyAddedElement:C=!1}=e;let{preserveWhiteSpace:he=!0}=e;const re=ES(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:y,maskTextFn:g,maskInputFn:b,dataURLOptions:k,inlineImages:T,recordCanvas:x,keepIframeSrcFn:Y,newlyAddedElement:C});if(!re)return console.warn(t,"not serialized"),null;let _;r.hasNode(t)?_=r.getId(t):IS(re,E)||!he&&re.type===ye.Text&&!re.isStyle&&!re.textContent.replace(/^\s+|\s+$/gm,"").length?_=Pr:_=oa();const w=Object.assign(re,{id:_});if(r.add(t,w),_===Pr)return null;R&&R(t);let O=!h;if(w.type===ye.Element){O=O&&!w.needBlock,delete w.needBlock;const M=t.shadowRoot;M&&kr(M)&&(w.isShadowHost=!0)}if((w.type===ye.Document||w.type===ye.Element)&&O){E.headWhitespace&&w.type===ye.Element&&w.tagName==="head"&&(he=!1);const M={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:h,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:y,maskTextFn:g,maskInputFn:b,slimDOMOptions:E,dataURLOptions:k,inlineImages:T,recordCanvas:x,preserveWhiteSpace:he,onSerialize:R,onIframeLoad:j,iframeLoadTimeout:D,onStylesheetLoad:I,stylesheetLoadTimeout:P,keepIframeSrcFn:Y};for(const $ of Array.from(t.childNodes)){const N=kn($,M);N&&w.childNodes.push(N)}if(Z0(t)&&t.shadowRoot)for(const $ of Array.from(t.shadowRoot.childNodes)){const N=kn($,M);N&&(kr(t.shadowRoot)&&(N.isShadow=!0),w.childNodes.push(N))}}return t.parentNode&&Er(t.parentNode)&&kr(t.parentNode)&&(w.isShadow=!0),w.type===ye.Element&&w.tagName==="iframe"&&wS(t,()=>{const M=t.contentDocument;if(M&&j){const $=kn(M,{doc:M,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:y,maskTextFn:g,maskInputFn:b,slimDOMOptions:E,dataURLOptions:k,inlineImages:T,recordCanvas:x,preserveWhiteSpace:he,onSerialize:R,onIframeLoad:j,iframeLoadTimeout:D,onStylesheetLoad:I,stylesheetLoadTimeout:P,keepIframeSrcFn:Y});$&&j(t,$)}},D),w.type===ye.Element&&w.tagName==="link"&&w.attributes.rel==="stylesheet"&&SS(t,()=>{if(I){const M=kn(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:y,maskTextFn:g,maskInputFn:b,slimDOMOptions:E,dataURLOptions:k,inlineImages:T,recordCanvas:x,preserveWhiteSpace:he,onSerialize:R,onIframeLoad:j,iframeLoadTimeout:D,onStylesheetLoad:I,stylesheetLoadTimeout:P,keepIframeSrcFn:Y});M&&I(t,M)}},P),w}function RS(t,e){const{mirror:n=new gh,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:f=!1,maskAllInputs:m=!1,maskAttributeFn:y,maskTextFn:g,maskInputFn:b,slimDOM:E=!1,dataURLOptions:k,preserveWhiteSpace:T,onSerialize:x,onIframeLoad:R,iframeLoadTimeout:j,onStylesheetLoad:D,stylesheetLoadTimeout:I,keepIframeSrcFn:P=()=>!1}=e||{};return kn(t,{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:y,maskTextFn:g,maskInputFn:b,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:k,inlineImages:h,recordCanvas:f,preserveWhiteSpace:T,onSerialize:x,onIframeLoad:R,iframeLoadTimeout:j,onStylesheetLoad:D,stylesheetLoadTimeout:I,keepIframeSrcFn:P,newlyAddedElement:!1})}function _t(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}function Te(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const _n=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Su={map:{},getId(){return console.error(_n),-1},getNode(){return console.error(_n),null},removeNodeFromMap(){console.error(_n)},has(){return console.error(_n),!1},reset(){console.error(_n)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Su=new Proxy(Su,{get(t,e,n){return e==="map"&&console.error(_n),Reflect.get(t,e,n)}}));function Mr(t,e,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=e-(o-s),c=this;a<=0||a>e?(r&&(DS(r),r=null),s=o,t.apply(c,i)):!r&&n.trailing!==!1&&(r=Qs(()=>{s=n.leading===!1?0:Date.now(),r=null,t.apply(c,i)},a))}}function bh(t,e,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,r?n:{set(o){Qs(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>bh(t,e,i||{},!0)}function ca(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=s,()=>{t[e]=r}}catch{return()=>{}}}let Cs=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Cs=()=>new Date().getTime());function vh(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:_t([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||_t([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||_t([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:_t([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||_t([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||_t([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function wh(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Sh(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Eh(t){return t?t.nodeType===t.ELEMENT_NODE?t:t.parentElement:null}function Fe(t,e,n,r,s){if(!t)return!1;const i=Eh(t);if(!i)return!1;const o=En(e,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=qt(i,o);let c=-1;return a<0?!1:(r&&(c=qt(i,En(null,r))),a>-1&&c<0?!0:a<c)}function CS(t,e){return e.getId(t)!==-1}function Ni(t,e){return e.getId(t)===Pr}function kh(t,e){if(Er(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?kh(t.parentNode,e):!0:!0}function wo(t){return!!t.changedTouches}function OS(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let n=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function xh(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function Th(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function So(t){return!!_t([t,"optionalAccess",e=>e.shadowRoot])}class AS{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return J_(this.styleIDMap.get(e),()=>-1)}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ih(t){let e=null;return _t([t,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function PS(t){let e=t,n;for(;n=Ih(e);)e=n;return e}function MS(t){const e=t.ownerDocument;if(!e)return!1;const n=PS(t);return e.contains(n)}function Rh(t){const e=t.ownerDocument;return e?e.contains(t)||MS(t):!1}const Eu={};function ua(t){const e=Eu[t];if(e)return e;const n=window.document;let r=window[t];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[t]&&(r=i[t]),n.head.removeChild(s)}catch{}return Eu[t]=r.bind(window)}function jS(...t){return ua("requestAnimationFrame")(...t)}function Qs(...t){return ua("setTimeout")(...t)}function DS(...t){return ua("clearTimeout")(...t)}var H=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(H||{}),q=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(q||{}),ke=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(ke||{}),nt=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(nt||{});function NS(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}function ku(t){return"__ln"in t}class LS{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=NS([n,"optionalAccess",s=>s.next])||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&ku(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&ku(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const xu=(t,e)=>`${t}@${e}`;class $S{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,r=new LS,s=c=>{let u=c,l=Pr;for(;l===Pr;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!Rh(c))return;const u=Er(c.parentNode)?this.mirror.getId(Ih(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=kn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:h=>{xh(h,this.mirror)&&this.iframeManager.addIframe(h),Th(h,this.mirror)&&this.stylesheetManager.trackLinkElement(h),So(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(h,f)=>{this.iframeManager.attachIframe(h,f),this.shadowDomManager.observeAttachShadow(h)},onStylesheetLoad:(h,f)=>{this.stylesheetManager.attachLinkElement(h,f)}});d&&(e.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Tu(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!Iu(this.droppedSet,c)&&!Tu(this.removes,c,this.mirror)||Iu(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const f=l.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=f.parentNode.host;if(this.mirror.getId(m)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:e};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!Ni(e.target,this.mirror))switch(e.type){case"characterData":{const n=e.target.textContent;!Fe(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==e.oldValue&&this.texts.push({value:Hn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Eh(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,s=e.target.getAttribute(r);if(r==="value"){const o=ia(n),a=n.tagName;s=Is(n,a,o);const c=Xs({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=Hn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Ar({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Fe(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===e.oldValue)return;let i=this.attributeMap.get(e.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),r==="type"&&n.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!_h(n.tagName,r)&&(i.attributes[r]=yh(this.doc,Bn(n.tagName),Bn(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");e.oldValue&&o.setAttribute("style",e.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(Fe(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(n=>this.genAdds(n,e.target)),e.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Er(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Fe(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ni(n,this.mirror)||!CS(n,this.mirror)||(this.addedSet.has(n)?(Eo(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(e.target)&&r===-1||kh(e.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[xu(r,s)]?Eo(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Er(e.target)&&kr(e.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(Ni(e,this.mirror))return;this.movedSet.add(e);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[xu(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Fe(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(r=>this.genAdds(r)),So(e)&&e.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Eo(t,e){t.delete(e),e.childNodes.forEach(n=>Eo(t,n))}function Tu(t,e,n){return t.length===0?!1:Ch(t,e,n)}function Ch(t,e,n){const{parentNode:r}=e;if(!r)return!1;const s=n.getId(r);return t.some(i=>i.id===s)?!0:Ch(t,r,n)}function Iu(t,e){return t.size===0?!1:Oh(t,e)}function Oh(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:Oh(t,n):!1}let xr;function FS(t){xr=t}function US(){xr=void 0}const z=t=>xr?(...n)=>{try{return t(...n)}catch(r){if(xr&&xr(r)===!0)return()=>{};throw r}}:t;function Ge(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}const xn=[];function Wr(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function Ah(t,e){const n=new $S;xn.push(n),n.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const s=Ge([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r(z(o=>{t.onMutation&&t.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return i.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function BS({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const s=typeof e.mousemove=="number"?e.mousemove:50,i=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let o=[],a;const c=Mr(z(d=>{const h=Date.now()-a;t(o.map(f=>(f.timeOffset-=h,f)),d),o=[],a=null}),i),u=z(Mr(z(d=>{const h=Wr(d),{clientX:f,clientY:m}=wo(d)?d.changedTouches[0]:d;a||(a=Cs()),o.push({x:f,y:m,id:r.getId(h),timeOffset:Cs()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?q.Drag:d instanceof MouseEvent?q.MouseMove:q.TouchMove)}),s,{trailing:!1})),l=[Te("mousemove",u,n),Te("touchmove",u,n),Te("drag",u,n)];return z(()=>{l.forEach(d=>d())})}function HS({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>h=>{const f=Wr(h);if(Fe(f,r,s,i,!0))return;let m=null,y=d;if("pointerType"in h){switch(h.pointerType){case"mouse":m=nt.Mouse;break;case"touch":m=nt.Touch;break;case"pen":m=nt.Pen;break}m===nt.Touch?ke[d]===ke.MouseDown?y="TouchStart":ke[d]===ke.MouseUp&&(y="TouchEnd"):nt.Pen}else wo(h)&&(m=nt.Touch);m!==null?(u=m,(y.startsWith("Touch")&&m===nt.Touch||y.startsWith("Mouse")&&m===nt.Mouse)&&(m=null)):ke[d]===ke.Click&&(m=u,u=null);const g=wo(h)?h.changedTouches[0]:h;if(!g)return;const b=n.getId(f),{clientX:E,clientY:k}=g;z(t)({type:ke[y],id:b,x:E,y:k,...m!==null&&{pointerType:m}})};return Object.keys(ke).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let h=Bn(d);const f=l(d);if(window.PointerEvent)switch(ke[d]){case ke.MouseDown:case ke.MouseUp:h=h.replace("mouse","pointer");break;case ke.TouchStart:case ke.TouchEnd:return}c.push(Te(h,f,e))}),z(()=>{c.forEach(d=>d())})}function Ph({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=z(Mr(z(c=>{const u=Wr(c);if(!u||Fe(u,r,s,i,!0))return;const l=n.getId(u);if(u===e&&e.defaultView){const d=vh(e.defaultView);t({id:l,x:d.left,y:d.top})}else t({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return Te("scroll",a,e)}function qS({viewportResizeCb:t},{win:e}){let n=-1,r=-1;const s=z(Mr(z(()=>{const i=wh(),o=Sh();(n!==i||r!==o)&&(t({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return Te("resize",s,e)}const WS=["INPUT","TEXTAREA","SELECT"],Ru=new WeakMap;function zS({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:y}){function g(j){let D=Wr(j);const I=j.isTrusted,P=D&&vo(D.tagName);if(P==="OPTION"&&(D=D.parentElement),!D||!P||WS.indexOf(P)<0||Fe(D,r,s,i,!0))return;const Y=D;if(Y.classList.contains(o)||a&&Y.matches(a))return;const C=ia(D);let he=Is(Y,P,C),re=!1;const _=Xs({maskInputOptions:c,tagName:P,type:C}),w=Hn(D,h,m,f,y,_);(C==="radio"||C==="checkbox")&&(re=D.checked),he=Ar({isMasked:w,element:D,value:he,maskInputFn:u}),b(D,d?{text:he,isChecked:re,userTriggered:I}:{text:he,isChecked:re});const O=D.name;C==="radio"&&O&&re&&e.querySelectorAll(`input[type="radio"][name="${O}"]`).forEach(M=>{if(M!==D){const $=Ar({isMasked:w,element:M,value:Is(M,P,C),maskInputFn:u});b(M,d?{text:$,isChecked:!re,userTriggered:!1}:{text:$,isChecked:!re})}})}function b(j,D){const I=Ru.get(j);if(!I||I.text!==D.text||I.isChecked!==D.isChecked){Ru.set(j,D);const P=n.getId(j);z(t)({...D,id:P})}}const k=(l.input==="last"?["change"]:["input","change"]).map(j=>Te(j,z(g),e)),T=e.defaultView;if(!T)return()=>{k.forEach(j=>j())};const x=T.Object.getOwnPropertyDescriptor(T.HTMLInputElement.prototype,"value"),R=[[T.HTMLInputElement.prototype,"value"],[T.HTMLInputElement.prototype,"checked"],[T.HTMLSelectElement.prototype,"value"],[T.HTMLTextAreaElement.prototype,"value"],[T.HTMLSelectElement.prototype,"selectedIndex"],[T.HTMLOptionElement.prototype,"selected"]];return x&&x.set&&k.push(...R.map(j=>bh(j[0],j[1],{set(){z(g)({target:this,isTrusted:!1})}},!1,T))),z(()=>{k.forEach(j=>j())})}function Os(t){const e=[];function n(r,s){if(hs("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||hs("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||hs("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||hs("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(t,e)}function bt(t,e,n){let r,s;return t?(t.ownerNode?r=e.getId(t.ownerNode):s=n.getId(t),{styleId:s,id:r}):{}}function VS({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:z((l,d,h)=>{const[f,m]=h,{id:y,styleId:g}=bt(d,e,n.styleMirror);return(y&&y!==-1||g&&g!==-1)&&t({id:y,styleId:g,adds:[{rule:f,index:m}]}),l.apply(d,h)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:z((l,d,h)=>{const[f]=h,{id:m,styleId:y}=bt(d,e,n.styleMirror);return(m&&m!==-1||y&&y!==-1)&&t({id:m,styleId:y,removes:[{index:f}]}),l.apply(d,h)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:z((l,d,h)=>{const[f]=h,{id:m,styleId:y}=bt(d,e,n.styleMirror);return(m&&m!==-1||y&&y!==-1)&&t({id:m,styleId:y,replace:f}),l.apply(d,h)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:z((l,d,h)=>{const[f]=h,{id:m,styleId:y}=bt(d,e,n.styleMirror);return(m&&m!==-1||y&&y!==-1)&&t({id:m,styleId:y,replaceSync:f}),l.apply(d,h)})}));const c={};fs("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(fs("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),fs("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),fs("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:z((h,f,m)=>{const[y,g]=m,{id:b,styleId:E}=bt(f.parentStyleSheet,e,n.styleMirror);return(b&&b!==-1||E&&E!==-1)&&t({id:b,styleId:E,adds:[{rule:y,index:[...Os(f),g||0]}]}),h.apply(f,m)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:z((h,f,m)=>{const[y]=m,{id:g,styleId:b}=bt(f.parentStyleSheet,e,n.styleMirror);return(g&&g!==-1||b&&b!==-1)&&t({id:g,styleId:b,removes:[{index:[...Os(f),y]}]}),h.apply(f,m)})})}),z(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function Mh({mirror:t,stylesheetManager:e},n){let r=null;n.nodeName==="#document"?r=t.getId(n):r=t.getId(n.host);const s=n.nodeName==="#document"?Ge([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):Ge([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),i=Ge([s,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(Ge([s,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Ge([i,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=Ge([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,o)]);if(r!==null&&r!==-1)try{e.adoptStyleSheets(o,r)}catch{}return a}}),z(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function GS({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:z((a,c,u)=>{const[l,d,h]=u;if(n.has(l))return i.apply(c,[l,d,h]);const{id:f,styleId:m}=bt(Ge([c,"access",y=>y.parentRule,"optionalAccess",y=>y.parentStyleSheet]),e,r.styleMirror);return(f&&f!==-1||m&&m!==-1)&&t({id:f,styleId:m,set:{property:l,value:d,priority:h},index:Os(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:z((a,c,u)=>{const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:h}=bt(Ge([c,"access",f=>f.parentRule,"optionalAccess",f=>f.parentStyleSheet]),e,r.styleMirror);return(d&&d!==-1||h&&h!==-1)&&t({id:d,styleId:h,remove:{property:l},index:Os(c.parentRule)}),a.apply(c,u)})}),z(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function JS({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=z(u=>Mr(z(l=>{const d=Wr(l);if(!d||Fe(d,e,n,r,!0))return;const{currentTime:h,volume:f,muted:m,playbackRate:y}=d;t({type:u,id:s.getId(d),currentTime:h,volume:f,muted:m,playbackRate:y})}),i.media||500)),c=[Te("play",a(0),o),Te("pause",a(1),o),Te("seeked",a(2),o),Te("volumechange",a(3),o),Te("ratechange",a(4),o)];return z(()=>{c.forEach(u=>u())})}function YS({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=ca(e.fonts,"add",function(a){return function(c){return Qs(z(()=>{const u=s.get(c);u&&(t(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),z(()=>{r.forEach(a=>a())})}function KS(t){const{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=t;let a=!0;const c=z(()=>{const u=e.getSelection();if(!u||a&&Ge([u,"optionalAccess",h=>h.isCollapsed]))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let h=0;h<d;h++){const f=u.getRangeAt(h),{startContainer:m,startOffset:y,endContainer:g,endOffset:b}=f;Fe(m,r,s,i,!0)||Fe(g,r,s,i,!0)||l.push({start:n.getId(m),startOffset:y,end:n.getId(g),endOffset:b})}o({ranges:l})});return c(),Te("selectionchange",c)}function XS({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:ca(n.customElements,"define",function(s){return function(i,o,a){try{e({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function QS(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};const r=Ah(t,t.doc),s=BS(t),i=HS(t),o=Ph(t),a=qS(t,{win:n}),c=zS(t),u=JS(t),l=VS(t,{win:n}),d=Mh(t,t.doc),h=GS(t,{win:n}),f=t.collectFonts?YS(t):()=>{},m=KS(t),y=XS(t),g=[];for(const b of t.plugins)g.push(b.observer(b.callback,n,b.options));return z(()=>{xn.forEach(b=>b.reset()),r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),h(),f(),m(),y(),g.forEach(b=>b())})}function hs(t){return typeof window[t]<"u"}function fs(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class ko{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,n,r,s){const i=r||this.getIdToRemoteIdMap(e),o=s||this.getRemoteIdToIdMap(e);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(e,n){const r=this.getIdToRemoteIdMap(e),s=this.getRemoteIdToIdMap(e);return n.map(i=>this.getId(e,i,r,s))}getRemoteId(e,n,r){const s=r||this.getRemoteIdToIdMap(e);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(e,n){const r=this.getRemoteIdToIdMap(e);return n.map(s=>this.getRemoteId(e,s,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}}function Cu(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}class ZS{constructor(){this.crossOriginIframeMirror=new ko(oa),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class eE{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ko(oa),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ko(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Cu([this,"access",r=>r.loadListener,"optionalCall",r=>r(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!e.source)return;const s=this.crossOriginIframeMap.get(e.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(e,n){switch(n.type){case H.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:H.IncrementalSnapshot,data:{source:q.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case H.Meta:case H.Load:case H.DomContentLoaded:return!1;case H.Plugin:return n;case H.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case H.IncrementalSnapshot:switch(n.data.source){case q.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,e);const s=this.crossOriginIframeRootIdMap.get(e);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,e,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,e,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case q.Drag:case q.TouchMove:case q.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case q.ViewportResize:return!1;case q.MediaInteraction:case q.MouseInteraction:case q.Scroll:case q.CanvasMutation:case q.Input:return this.replaceIds(n.data,e,["id"]),n;case q.StyleSheetRule:case q.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case q.Font:return n;case q.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,e,["start","end"])}),n;case q.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),Cu([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,e,["styleId"])})]),n}}return!1}replace(e,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=e.getIds(r,n[i]):n[i]=e.getId(r,n[i]));return n}replaceIds(e,n,r){return this.replace(this.crossOriginIframeMirror,e,n,r)}replaceStyleIds(e,n,r){return this.replace(this.crossOriginIframeStyleMirror,e,n,r)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(e,n){e.type!==ye.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class tE{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class nE{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!kr(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const r=Ah({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Ph({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Qs(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Mh({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,n){const r=this;this.restoreHandlers.push(ca(e.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&Rh(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Ou{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class rE{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new AS,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of e){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:mh(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class sE{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){jS(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,n){const r=this.nodeMap.get(e);return r&&Array.from(r).some(s=>s!==n)}add(e,n){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let fe,As;const Le=iS();function Tt(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:y,maskInputOptions:g,slimDOMOptions:b,maskAttributeFn:E,maskInputFn:k,maskTextFn:T,maxCanvasSize:x=null,packFn:R,sampling:j={},dataURLOptions:D={},mousemoveWait:I,recordCanvas:P=!1,recordCrossOriginIframes:Y=!1,recordAfter:C=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:he=!1,collectFonts:re=!1,inlineImages:_=!1,plugins:w,keepIframeSrcFn:O=()=>!1,ignoreCSSAttributes:M=new Set([]),errorHandler:$,onMutation:N,getCanvasManager:be}=t;FS($);const lt=Y?window.parent===window:!0;let ge=!1;if(!lt)try{window.parent.document&&(ge=!1)}catch{ge=!0}if(lt&&!e)throw new Error("emit function is required");I!==void 0&&j.mousemove===void 0&&(j.mousemove=I),Le.reset();const De=y===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:g!==void 0?g:{},tr=b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:b==="all",headMetaDescKeywords:b==="all"}:b||{};OS();let ci,ui=0;const xa=K=>{for(const Ne of w||[])Ne.eventProcessor&&(K=Ne.eventProcessor(K));return R&&!ge&&(K=R(K)),K};fe=(K,Ne)=>{const G=K;if(G.timestamp=Cs(),Ci([xn,"access",de=>de[0],"optionalAccess",de=>de.isFrozen,"call",de=>de()])&&G.type!==H.FullSnapshot&&!(G.type===H.IncrementalSnapshot&&G.data.source===q.Mutation)&&xn.forEach(de=>de.unfreeze()),lt)Ci([e,"optionalCall",de=>de(xa(G),Ne)]);else if(ge){const de={type:"rrweb",event:xa(G),origin:window.location.origin,isCheckout:Ne};window.parent.postMessage(de,"*")}if(G.type===H.FullSnapshot)ci=G,ui=0;else if(G.type===H.IncrementalSnapshot){if(G.data.source===q.Mutation&&G.data.isAttachIframe)return;ui++;const de=r&&ui>=r,X=n&&ci&&G.timestamp-ci.timestamp>n;(de||X)&&di(!0)}};const Vr=K=>{fe({type:H.IncrementalSnapshot,data:{source:q.Mutation,...K}})},Ta=K=>fe({type:H.IncrementalSnapshot,data:{source:q.Scroll,...K}}),gf=K=>fe({type:H.IncrementalSnapshot,data:{source:q.CanvasMutation,...K}}),yf=K=>fe({type:H.IncrementalSnapshot,data:{source:q.AdoptedStyleSheet,...K}}),Dt=new rE({mutationCb:Vr,adoptedStyleSheetCb:yf}),Nt=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new ZS:new eE({mirror:Le,mutationCb:Vr,stylesheetManager:Dt,recordCrossOriginIframes:Y,wrappedEmit:fe});for(const K of w||[])K.getMirror&&K.getMirror({nodeMirror:Le,crossOriginIframeMirror:Nt.crossOriginIframeMirror,crossOriginIframeStyleMirror:Nt.crossOriginIframeStyleMirror});const li=new sE,Ia=oE(be,{mirror:Le,win:window,mutationCb:K=>fe({type:H.IncrementalSnapshot,data:{source:q.CanvasMutation,...K}}),recordCanvas:P,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:x,sampling:j.canvas,dataURLOptions:D,errorHandler:$}),Gr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new tE:new nE({mutationCb:Vr,scrollCb:Ta,bypassOptions:{onMutation:N,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:De,dataURLOptions:D,maskAttributeFn:E,maskTextFn:T,maskInputFn:k,recordCanvas:P,inlineImages:_,sampling:j,slimDOMOptions:tr,iframeManager:Nt,stylesheetManager:Dt,canvasManager:Ia,keepIframeSrcFn:O,processedNodeManager:li},mirror:Le}),di=(K=!1)=>{fe({type:H.Meta,data:{href:window.location.href,width:Sh(),height:wh()}},K),Dt.reset(),Gr.init(),xn.forEach(G=>G.lock());const Ne=RS(document,{mirror:Le,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:De,maskAttributeFn:E,maskInputFn:k,maskTextFn:T,slimDOM:tr,dataURLOptions:D,recordCanvas:P,inlineImages:_,onSerialize:G=>{xh(G,Le)&&Nt.addIframe(G),Th(G,Le)&&Dt.trackLinkElement(G),So(G)&&Gr.addShadowRoot(G.shadowRoot,document)},onIframeLoad:(G,de)=>{Nt.attachIframe(G,de),Gr.observeAttachShadow(G)},onStylesheetLoad:(G,de)=>{Dt.attachLinkElement(G,de)},keepIframeSrcFn:O});if(!Ne)return console.warn("Failed to snapshot the document");fe({type:H.FullSnapshot,data:{node:Ne,initialOffset:vh(window)}}),xn.forEach(G=>G.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Dt.adoptStyleSheets(document.adoptedStyleSheets,Le.getId(document))};As=di;try{const K=[],Ne=de=>z(QS)({onMutation:N,mutationCb:Vr,mousemoveCb:(X,Lt)=>fe({type:H.IncrementalSnapshot,data:{source:Lt,positions:X}}),mouseInteractionCb:X=>fe({type:H.IncrementalSnapshot,data:{source:q.MouseInteraction,...X}}),scrollCb:Ta,viewportResizeCb:X=>fe({type:H.IncrementalSnapshot,data:{source:q.ViewportResize,...X}}),inputCb:X=>fe({type:H.IncrementalSnapshot,data:{source:q.Input,...X}}),mediaInteractionCb:X=>fe({type:H.IncrementalSnapshot,data:{source:q.MediaInteraction,...X}}),styleSheetRuleCb:X=>fe({type:H.IncrementalSnapshot,data:{source:q.StyleSheetRule,...X}}),styleDeclarationCb:X=>fe({type:H.IncrementalSnapshot,data:{source:q.StyleDeclaration,...X}}),canvasMutationCb:gf,fontCb:X=>fe({type:H.IncrementalSnapshot,data:{source:q.Font,...X}}),selectionCb:X=>{fe({type:H.IncrementalSnapshot,data:{source:q.Selection,...X}})},customElementCb:X=>{fe({type:H.IncrementalSnapshot,data:{source:q.CustomElement,...X}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,maskInputOptions:De,inlineStylesheet:m,sampling:j,recordCanvas:P,inlineImages:_,userTriggeredOnInput:he,collectFonts:re,doc:de,maskAttributeFn:E,maskInputFn:k,maskTextFn:T,keepIframeSrcFn:O,blockSelector:i,unblockSelector:o,slimDOMOptions:tr,dataURLOptions:D,mirror:Le,iframeManager:Nt,stylesheetManager:Dt,shadowDomManager:Gr,processedNodeManager:li,canvasManager:Ia,ignoreCSSAttributes:M,plugins:Ci([w,"optionalAccess",X=>X.filter,"call",X=>X(Lt=>Lt.observer),"optionalAccess",X=>X.map,"call",X=>X(Lt=>({observer:Lt.observer,options:Lt.options,callback:_f=>fe({type:H.Plugin,data:{plugin:Lt.name,payload:_f}})}))])||[]},{});Nt.addLoadListener(de=>{try{K.push(Ne(de.contentDocument))}catch(X){console.warn(X)}});const G=()=>{di(),K.push(Ne(document))};return document.readyState==="interactive"||document.readyState==="complete"?G():(K.push(Te("DOMContentLoaded",()=>{fe({type:H.DomContentLoaded,data:{}}),C==="DOMContentLoaded"&&G()})),K.push(Te("load",()=>{fe({type:H.Load,data:{}}),C==="load"&&G()},window))),()=>{K.forEach(de=>de()),li.destroy(),As=void 0,US()}}catch(K){console.warn(K)}}function iE(t){if(!As)throw new Error("please take full snapshot after start recording");As(t)}Tt.mirror=Le;Tt.takeFullSnapshot=iE;function oE(t,e){try{return t?t(e):new Ou}catch{return console.warn("Unable to initialize CanvasManager"),new Ou}}const aE=3,cE=5;function la(t){return t>9999999999?t:t*1e3}function Li(t){return t>9999999999?t/1e3:t}function zr(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:H.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ve(e,10,1e3)}}),e.category==="console")))}const uE="button,a";function jh(t){return t.closest(uE)||t}function Dh(t){const e=Nh(t);return!e||!(e instanceof Element)?e:jh(e)}function Nh(t){return lE(t)?t.target:t}function lE(t){return typeof t=="object"&&!!t&&"target"in t}let vt;function dE(t){return vt||(vt=[],hE()),vt.push(t),()=>{const e=vt?vt.indexOf(t):-1;e>-1&&vt.splice(e,1)}}function hE(){Se(oe,"open",function(t){return function(...e){if(vt)try{vt.forEach(n=>n())}catch{}return t.apply(oe,e)}})}function fE(t,e,n){t.handleClick(e,n)}class pE{constructor(e,n,r=zr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const e=dE(()=>{this._lastMutation=Au()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(gE(n,this._ignoreSelector)||!yE(e))return;const r={timestamp:Li(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Li(e)}registerScroll(e=Date.now()){this._lastScroll=Li(e)}registerClick(e){const n=jh(e);this._handleMultiClick(n)}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=Au();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&e.push(r)});for(const r of e){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,s=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=e;if(i){const c=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:oe.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:oe.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const mE=["A","BUTTON","INPUT"];function gE(t,e){return!!(!mE.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function yE(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function Au(){return Date.now()/1e3}function _E(t,e){try{if(!bE(e))return;const{source:n}=e.data;if(n===q.Mutation&&t.registerMutation(e.timestamp),n===q.Scroll&&t.registerScroll(e.timestamp),vE(e)){const{type:r,id:s}=e.data,i=Tt.mirror.getNode(s);i instanceof HTMLElement&&r===ke.Click&&t.registerClick(i)}}catch{}}function bE(t){return t.type===aE}function vE(t){return t.data.source===q.MouseInteraction}function Xe(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var Ps;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(Ps||(Ps={}));const wE=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function SE(t){const e={};for(const n in t)if(wE.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),e[r]=t[n]}return e}const EE=t=>e=>{if(!t.isEnabled())return;const n=kE(e);if(!n)return;const r=e.name==="click",s=r?e.event:void 0;r&&t.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&fE(t.clickDetector,n,Dh(e.event)),zr(t,n)};function Lh(t,e){const n=Tt.mirror.getId(t),r=n&&Tt.mirror.getNode(n),s=r&&Tt.mirror.getMeta(r),i=s&&TE(s)?s:null;return{message:e,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Ps.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:SE(i.attributes)}}:{}}}function kE(t){const{target:e,message:n}=xE(t);return Xe({category:`ui.${t.name}`,...Lh(e,n)})}function xE(t){const e=t.name==="click";let n,r=null;try{r=e?Dh(t.event):Nh(t.event),n=Ct(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function TE(t){return t.type===Ps.Element}function IE(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=RE(e);n&&zr(t,n)}function RE(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=t;if(!o||CE(o)||!i)return null;const a=e||r||s,c=i.length===1;if(!a&&c)return null;const u=Ct(o,{maxStringLength:200})||"<unknown>",l=Lh(o,u);return Xe({category:"ui.keyDown",message:u,data:{...l.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function CE(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const Pu={resource:jE,paint:PE,navigation:ME};function OE(t){return t.map(AE).filter(Boolean)}function AE(t){return Pu[t.entryType]?Pu[t.entryType](t):null}function qn(t){return((Me||oe.performance.timeOrigin)+t)/1e3}function PE(t){const{duration:e,entryType:n,name:r,startTime:s}=t,i=qn(s);return{type:n,name:r,start:i,end:i+e,data:void 0}}function ME(t){const{entryType:e,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:h,startTime:f,transferSize:m,type:y}=t;return s===0?null:{type:`${e}.${y}`,start:qn(f),end:qn(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:h}}}function jE(t){const{entryType:e,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:qn(i),end:qn(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function DE(t){const e=t.entries,n=e[e.length-1],r=n?n.element:void 0,s=t.value,i=qn(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?Tt.mirror.getId(r):void 0}}}function NE(t){function e(s){t.performanceEntries.includes(s)||t.performanceEntries.push(s)}function n({entries:s}){s.forEach(e)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push($n(s,n))}),r.push(Vd(({metric:s})=>{t.replayPerformanceEntries.push(DE(s))})),()=>{r.forEach(s=>s())}}const te=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,LE='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function $E(){const t=new Blob([LE]);return URL.createObjectURL(t)}function xe(t,e){te&&(v.info(t),e&&$h(t))}function An(t,e){te&&(v.info(t),e&&setTimeout(()=>{$h(t)},0))}function $h(t){Ot({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class da extends Error{constructor(){super(`Event buffer exceeded maximum size of ${sa}.`)}}class Fh{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>sa)throw new da;this.events.push(e)}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?la(e):null}}class FE{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){xe("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===e&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){te&&v.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class UE{constructor(e){this._worker=new FE(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=la(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>sa?Promise.reject(new da):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{te&&v.warn('[Replay] Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class BE{constructor(e){this._fallback=new Fh,this._compression=new UE(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{xe("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:n}=this._fallback,r=[];for(const s of e)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){te&&v.warn("[Replay] Failed to add events when switching buffers.",s)}}}function HE({useCompression:t,workerUrl:e}){if(t&&window.Worker){const n=qE(e);if(n)return n}return xe("[Replay] Using simple buffer"),new Fh}function qE(t){try{const e=t||WE();if(!e)return;xe(`[Replay] Using compression worker${t?` from ${t}`:""}`);const n=new Worker(e);return new BE(n)}catch{xe("[Replay] Failed to create compression worker")}}function WE(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?$E():""}function ha(){try{return"sessionStorage"in oe&&!!oe.sessionStorage}catch{return!1}}function zE(t){VE(),t.session=void 0}function VE(){if(ha())try{oe.sessionStorage.removeItem(na)}catch{}}function Uh(t){return t===void 0?!1:Math.random()<t}function Bh(t){const e=Date.now(),n=t.id||me(),r=t.started||e,s=t.lastActivity||e,i=t.segmentId||0,o=t.sampled,a=t.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function fa(t){if(ha())try{oe.sessionStorage.setItem(na,JSON.stringify(t))}catch{}}function GE(t,e){return Uh(t)?"session":e?"buffer":!1}function Mu({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const s=GE(t,e),i=Bh({sampled:s,previousSessionId:r});return n&&fa(i),i}function JE(t){if(!ha())return null;try{const e=oe.sessionStorage.getItem(na);if(!e)return null;const n=JSON.parse(e);return An("[Replay] Loading existing session",t),Bh(n)}catch{return null}}function xo(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function Hh(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return xo(t.started,e,r)||xo(t.lastActivity,n,r)}function qh(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!(!Hh(t,{sessionIdleExpire:e,maxReplayDuration:n})||t.sampled==="buffer"&&t.segmentId===0)}function $i({traceInternals:t,sessionIdleExpire:e,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&JE(t);return i?qh(i,{sessionIdleExpire:e,maxReplayDuration:n})?(An("[Replay] Session in sessionStorage is expired, creating new one..."),Mu(s,{previousSessionId:i.id})):i:(An("[Replay] Creating new session",t),Mu(s,{previousSessionId:r}))}function YE(t){return t.type===H.Custom}function pa(t,e,n){return zh(t,e)?(Wh(t,e,n),!0):!1}function KE(t,e,n){return zh(t,e)?Wh(t,e,n):Promise.resolve(null)}async function Wh(t,e,n){if(!t.eventBuffer)return null;try{n&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=t.getOptions(),s=XE(e,r.beforeAddRecordingEvent);return s?await t.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof da?"addEventSizeExceeded":"addEvent";te&&v.error(r),await t.stop({reason:s});const i=Z();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function zh(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=la(e.timestamp);return n+t.timeouts.sessionIdlePause<Date.now()?!1:n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(xe(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1):!0}function XE(t,e){try{if(typeof e=="function"&&YE(t))return e(t)}catch(n){return te&&v.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return t}function ma(t){return!t.type}function To(t){return t.type==="transaction"}function QE(t){return t.type==="replay_event"}function ju(t){return t.type==="feedback"}function Vh(t){const e=tk();return(n,r)=>{if(!t.isEnabled()||!ma(n)&&!To(n))return;const s=r&&r.statusCode;if(!(e&&(!s||s<200||s>=300))){if(To(n)){ZE(t,n);return}ek(t,n)}}}function ZE(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}function ek(t,e){const n=t.getContext();if(e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();typeof r=="function"&&!r(e)||setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function tk(){const t=Z();if(!t)return!1;const e=t.getTransport();return e&&e.send.__sentry__baseTransport__||!1}function nk(t){return e=>{!t.isEnabled()||!ma(e)||rk(t,e)}}function rk(t,e){const n=e.exception&&e.exception.values&&e.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Xe({category:"replay.hydrate-error"});zr(t,r)}}function sk(t,e){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:!!(e.originalException&&e.originalException.__rrweb__)}function ik(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:H.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function ok(t,e){return t.recordingMode!=="buffer"||e.message===ra||!e.exception||e.type?!1:Uh(t.getOptions().errorSampleRate)}function ak(t,e=!1){const n=e?Vh(t):void 0;return Object.assign((r,s)=>t.isEnabled()?QE(r)?(delete r.breadcrumbs,r):!ma(r)&&!To(r)&&!ju(r)||!t.checkAndHandleExpiredSession()?r:ju(r)?(t.flush(),r.contexts.feedback.replay_id=t.getSessionId(),ik(t,r),r):sk(r,s)&&!t.getOptions()._experiments.captureExceptions?(te&&v.log("[Replay] Ignoring error from rrweb internals",r),null):((ok(t,r)||t.recordingMode==="session")&&(r.tags={...r.tags,replayId:t.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function Zs(t,e){return e.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=t.throttledAddEvent({type:H.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function ck(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function uk(t){return e=>{if(!t.isEnabled())return;const n=ck(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(Zs(t,[n]),!1)))}}function lk(t,e){return te&&t.getOptions()._experiments.traceInternals?!1:av(e,Z())}function ei(t,e){t.isEnabled()&&e!==null&&(lk(t,e.name)||t.addUpdate(()=>(Zs(t,[e]),!0)))}function dk(t){const{startTimestamp:e,endTimestamp:n,fetchData:r,response:s}=t;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function hk(t){return e=>{if(!t.isEnabled())return;const n=dk(e);ei(t,n)}}function fk(t){const{startTimestamp:e,endTimestamp:n,xhr:r}=t,s=r[xt];if(!e||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:e/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function pk(t){return e=>{if(!t.isEnabled())return;const n=fk(e);ei(t,n)}}function ti(t,e){if(t)try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=Kh(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function Gh(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Jh(t){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[Kh(t)];if(!t)return[void 0]}catch{return te&&v.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return te&&v.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ms(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function Yh(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=e;return{type:t,start:n/1e3,end:r/1e3,name:s,data:Ie({method:i,statusCode:o,request:a,response:c})}}function jr(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function It(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:s,warnings:i}=mk(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function Io(t,e){return Object.keys(t).reduce((n,r)=>{const s=r.toLowerCase();return e.includes(s)&&t[r]&&(n[s]=t[r]),n},{})}function Kh(t){return new URLSearchParams(t).toString()}function mk(t){if(!t||typeof t!="string")return{body:t};const e=t.length>_u,n=gk(t);if(e){const r=t.slice(0,_u);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch{}return{body:t}}function gk(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}function js(t,e){const n=yk(t);return Gn(n,e)}function yk(t,e=oe.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(oe.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;return!t.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function _k(t,e,n){try{const r=await vk(t,e,n),s=Yh("resource.fetch",r);ei(n.replay,s)}catch(r){te&&v.error("[Replay] Failed to capture fetch breadcrumb",r)}}function bk(t,e,n){const{input:r,response:s}=e,i=r?Xh(r):void 0,o=ti(i,n.textEncoder),a=s?Gh(s.headers.get("content-length")):void 0;o!==void 0&&(t.data.request_body_size=o),a!==void 0&&(t.data.response_body_size=a)}async function vk(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=e,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=t.data,d=js(o,n.networkDetailAllowUrls)&&!js(o,n.networkDetailDenyUrls),h=d?wk(n,e.input,u):jr(u),f=await Sk(d,n,e.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:h,response:f}}function wk({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const s=n?xk(n,e):{};if(!t)return It(s,r,void 0);const i=Xh(n),[o,a]=Jh(i),c=It(s,r,o);return a?Ms(c,a):c}async function Sk(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:r},s,i){if(!t&&i!==void 0)return jr(i);const o=s?Qh(s.headers,r):{};if(!s||!e&&i!==void 0)return It(o,i,void 0);const[a,c]=await kk(s),u=Ek(a,{networkCaptureBodies:e,textEncoder:n,responseBodySize:i,captureDetails:t,headers:o});return c?Ms(u,c):u}function Ek(t,{networkCaptureBodies:e,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=t&&t.length&&r===void 0?ti(t,n):r;return s?e?It(i,o,t):It(i,o,void 0):jr(o)}catch(o){return te&&v.warn("[Replay] Failed to serialize response body",o),It(i,r,void 0)}}async function kk(t){const e=Tk(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await Ik(e)]}catch(n){return te&&v.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function Xh(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function Qh(t,e){const n={};return e.forEach(r=>{t.get(r)&&(n[r]=t.get(r))}),n}function xk(t,e){return t.length===1&&typeof t[0]!="string"?Du(t[0],e):t.length===2?Du(t[1],e):{}}function Du(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?Qh(n,e):Array.isArray(n)?{}:Io(n,e):{}}function Tk(t){try{return t.clone()}catch(e){te&&v.warn("[Replay] Failed to clone response body",e)}}function Ik(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);Rk(t).then(s=>e(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function Rk(t){return await t.text()}async function Ck(t,e,n){try{const r=Ak(t,e,n),s=Yh("resource.xhr",r);ei(n.replay,s)}catch(r){te&&v.error("[Replay] Failed to capture xhr breadcrumb",r)}}function Ok(t,e,n){const{xhr:r,input:s}=e;if(!r)return;const i=ti(s,n.textEncoder),o=r.getResponseHeader("content-length")?Gh(r.getResponseHeader("content-length")):Dk(r.response,r.responseType,n.textEncoder);i!==void 0&&(t.data.request_body_size=i),o!==void 0&&(t.data.response_body_size=o)}function Ak(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=e,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:h}=t.data;if(!c)return null;if(!a||!js(c,n.networkDetailAllowUrls)||js(c,n.networkDetailDenyUrls)){const R=jr(d),j=jr(h);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:R,response:j}}const f=a[xt],m=f?Io(f.request_headers,n.networkRequestHeaders):{},y=Io(Pk(a),n.networkResponseHeaders),[g,b]=n.networkCaptureBodies?Jh(o):[void 0],[E,k]=n.networkCaptureBodies?Mk(a):[void 0],T=It(m,d,g),x=It(y,h,E);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:b?Ms(T,b):T,response:k?Ms(x,k):x}}function Pk(t){const e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function Mk(t){const e=[];try{return[t.responseText]}catch(n){e.push(n)}try{return jk(t.response,t.responseType)}catch(n){e.push(n)}return te&&v.warn("[Replay] Failed to get xhr response body",...e),[void 0]}function jk(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch{return te&&v.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return te&&v.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Dk(t,e,n){try{const r=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return ti(r,n)}catch{return}}function Nk(t){const e=Z();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=t.getOptions(),c={replay:t,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};e&&e.on?e.on("beforeAddBreadcrumb",(u,l)=>Lk(c,u,l)):(Bo(hk(t)),Ho(pk(t)))}catch{}}function Lk(t,e,n){if(e.data)try{$k(e)&&Uk(n)&&(Ok(e,n,t),Ck(e,n,t)),Fk(e)&&Bk(n)&&(bk(e,n,t),_k(e,n,t))}catch{te&&v.warn("Error when enriching network breadcrumb")}}function $k(t){return t.category==="xhr"}function Fk(t){return t.category==="fetch"}function Uk(t){return t&&t.xhr}function Bk(t){return t&&t.response}let Nu=null;function Hk(t){return!!t.category}const qk=t=>e=>{if(!t.isEnabled())return;const n=Wk(e);n&&zr(t,n)};function Wk(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();return Nu===e||!e||(Nu=e,!Hk(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))?null:e.category==="console"?zk(e):Xe(e)}function zk(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||e.length===0)return Xe(t);let n=!1;const r=e.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>ds?(n=!0,`${s.slice(0,ds)}`):s;if(typeof s=="object")try{const i=Ve(s,7);return JSON.stringify(i).length>ds?(n=!0,`${JSON.stringify(i,null,2).slice(0,ds)}`):i}catch{}return s});return Xe({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Vk(t){const e=je(),n=Z();e.addScopeListener(qk(t)),td(EE(t)),Hs(uk(t)),Nk(t);const r=ak(t,!Lu(n));n&&n.addEventProcessor?n.addEventProcessor(r):ev(r),Lu(n)&&(n.on("beforeSendEvent",nk(t)),n.on("afterSendEvent",Vh(t)),n.on("createDsc",s=>{const i=t.getSessionId();i&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{t.lastTransaction=s}),n.on("finishTransaction",s=>{t.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=t.getSessionId();i&&i.includeReplay&&t.isEnabled()&&o&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o)}))}function Lu(t){return!!(t&&t.on)}async function Gk(t){try{return Promise.all(Zs(t,[Jk(oe.performance.memory)]))}catch{return[]}}function Jk(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Yk(t,e,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,e):0;function a(){return c(),r=t(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function l(){return s&&clearTimeout(s),s=setTimeout(a,e),o&&i===void 0&&(i=setTimeout(a,o)),r}return l.cancel=c,l.flush=u,l}function Kk(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession()){te&&v.warn("[Replay] Received replay event after session expired.");return}const s=r||!e;e=!0,t.clickDetector&&_E(t.clickDetector,n),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&s&&t.setInitialState(),!pa(t,n,s))return!0;if(!s)return!1;if(Qk(t,s),t.session&&t.session.previousSessionId)return!0;if(t.recordingMode==="buffer"&&t.session&&t.eventBuffer){const i=t.eventBuffer.getEarliestTimestamp();i&&(xe(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,t.getOptions()._experiments.traceInternals),t.session.started=i,t.getOptions().stickySession&&fa(t.session))}return t.recordingMode==="session"&&t.flush(),!0})}}function Xk(t){const e=t.getOptions();return{type:H.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function Qk(t,e){!e||!t.session||t.session.segmentId!==0||pa(t,Xk(t),!1)}function Zk(t,e,n,r){return Pt(ud(t,zo(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function ex({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+t.length),n.set(i),n.set(t,i.length)}return n}async function tx({client:t,scope:e,replayId:n,event:r}){const s=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,i={event_id:n,integrations:s};t.emit&&t.emit("preprocessEvent",r,i);const o=await md(t.getOptions(),r,i,e,t,Mt());if(!o)return null;o.platform=o.platform||"javascript";const a=t.getSdkMetadata&&t.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function nx({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=ex({recordingData:t,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=Z(),h=je(),f=d&&d.getTransport(),m=d&&d.getDsn();if(!d||!f||!m||!i.sampled)return;const y={type:U0,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:e,segment_id:n,replay_type:i.sampled},g=await tx({scope:h,client:d,replayId:e,event:y});if(!g){d.recordDroppedEvent("event_processor","replay",y),xe("An event processor returned `null`, will not send event.");return}delete g.sdkProcessingMetadata;const b=Zk(g,o,m,d.getOptions().tunnel);let E;try{E=await f.send(b)}catch(T){const x=new Error(ra);try{x.cause=T}catch{}throw x}if(!E)return E;if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new Zh(E.statusCode);const k=dd({},E);if(ld(k,"replay"))throw new ef(k);return E}class Zh extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class ef extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function tf(t,e={count:0,interval:V0}){const{recordingData:n,options:r}=t;if(n.length)try{return await nx(t),!0}catch(s){if(s instanceof Zh||s instanceof ef)throw s;if(ub("Replays",{_retryCount:e.count}),te&&r._experiments&&r._experiments.captureExceptions&&Vs(s),e.count>=G0){const i=new Error(`${ra} - max retries exceeded`);try{i.cause=s}catch{}throw i}return e.interval*=++e.count,new Promise((i,o)=>{setTimeout(async()=>{try{await tf(t,e),i(!0)}catch(a){o(a)}},e.interval)})}}const nf="__THROTTLED",rx="__SKIPPED";function sx(t,e,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=e){const l=o;return o=!0,l?rx:nf}o=!1;const u=r.get(c)||0;return r.set(c,u+1),t(...a)}}class wt{constructor({options:e,recordingOptions:n}){wt.prototype.__init.call(this),wt.prototype.__init2.call(this),wt.prototype.__init3.call(this),wt.prototype.__init4.call(this),wt.prototype.__init5.call(this),wt.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:B0,sessionIdleExpire:H0},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=Yk(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=sx((o,a)=>KE(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(J0,r),timeout:r,scrollTimeout:Y0,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new pE(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(e),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",An(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");An("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=$i({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");An("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=$i({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Tt({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:z0},emit:Kk(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{xe(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,zE(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),xe("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),xe("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();xe("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!e||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const n=e();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&xo(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${oe.location.pathname}${oe.location.hash}${oe.location.search}`,n=`${oe.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const r=this._throttledAddEvent(e,n);if(r===nf){const s=Xe({category:"replay.throttled"});this.addUpdate(()=>!pa(this,{type:cE,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const e=this.lastTransaction||je().getTransaction(),r=(e&&Ee(e).data||{})[Vt];if(!(!e||!r||!["route","custom"].includes(r)))return Ee(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=HE({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){te&&v.error("[Replay]",e),te&&this._options._experiments&&this._options._experiments.captureExceptions&&Vs(e)}_initializeSessionForSampling(e){const n=this._options.errorSampleRate>0,r=$i({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const e=this.session;return qh(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{oe.document.addEventListener("visibilitychange",this._handleVisibilityChange),oe.addEventListener("blur",this._handleWindowBlur),oe.addEventListener("focus",this._handleWindowFocus),oe.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Vk(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=NE(this)}_removeListeners(){try{oe.document.removeEventListener("visibilitychange",this._handleVisibilityChange),oe.removeEventListener("blur",this._handleWindowBlur),oe.removeEventListener("focus",this._handleWindowFocus),oe.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{oe.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Xe({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Xe({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{IE(this,e)}}_doChangeToBackgroundTasks(e){!this.session||Hh(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){xe("[Replay] Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:H.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){const e=OE(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Zs(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||e.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){te&&v.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Gk(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await tf({replayId:e,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=Z();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){te&&v.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){xe(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&xe("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){te&&v.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&fa(this.session)}__init6(){this._onMutationHandler=e=>{const n=e.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=Xe({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function lr(t,e,n,r){const s=typeof r=="string"?r.split(","):[],i=[...t,...s,...e];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),Jt(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function ix({mask:t,unmask:e,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l=['base[href="/"]'],d=lr(t,[".sentry-mask","[data-sentry-mask]"],a,c),h=lr(e,[".sentry-unmask","[data-sentry-unmask]"]),f={maskTextSelector:d,unmaskTextSelector:h,blockSelector:lr(n,[".sentry-block","[data-sentry-block]",...l],i,o),unblockSelector:lr(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:lr(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(f.blockClass=i),a instanceof RegExp&&(f.maskTextClass=a),f}function ox({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?i:n.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const $u='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',ax=["content-length","content-type","accept"];let Fu=!1;class ni{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=q0,flushMaxDelay:n=W0,minReplayDuration:r=K0,maxReplayDuration:s=bu,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:h=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:m=750,mutationLimit:y=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:b=[],networkDetailAllowUrls:E=[],networkDetailDenyUrls:k=[],networkCaptureBodies:T=!0,networkRequestHeaders:x=[],networkResponseHeaders:R=[],mask:j=[],maskAttributes:D=["title","placeholder"],unmask:I=[],block:P=[],unblock:Y=[],ignore:C=[],maskFn:he,beforeAddRecordingEvent:re,beforeErrorSampling:_,blockClass:w,blockSelector:O,maskInputOptions:M,maskTextClass:$,maskTextSelector:N,ignoreClass:be}={}){this.name=ni.id;const lt=ix({mask:j,unmask:I,block:P,unblock:Y,ignore:C,blockClass:w,blockSelector:O,maskTextClass:$,maskTextSelector:N,ignoreClass:be});if(this._recordingOptions={maskAllInputs:h,maskAllText:d,maskInputOptions:{...M||{},password:!0},maskTextFn:he,maskInputFn:he,maskAttributeFn:(ge,De,tr)=>ox({maskAttributes:D,maskAllText:d,privacyOptions:lt,key:ge,value:De,el:tr}),...lt,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:ge=>{try{ge.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(r,X0),maxReplayDuration:Math.min(s,bu),stickySession:i,sessionSampleRate:u,errorSampleRate:l,useCompression:o,workerUrl:a,blockAllMedia:f,maskAllInputs:h,maskAllText:d,mutationBreadcrumbLimit:m,mutationLimit:y,slowClickTimeout:g,slowClickIgnoreSelectors:b,networkDetailAllowUrls:E,networkDetailDenyUrls:k,networkCaptureBodies:T,networkRequestHeaders:Uu(x),networkResponseHeaders:Uu(R),beforeAddRecordingEvent:re,beforeErrorSampling:_,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${$u}`:$u),this._isInitialized&&Fc())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Fu}set _isInitialized(e){Fu=e}setupOnce(){Fc()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(e)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=cx(this._initialOptions);this._replay=new wt({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const n=Z().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}ni.__initStatic();function cx(t){const e=Z(),n=e&&e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Ie(t)};return n?(t.sessionSampleRate==null&&t.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&Jt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(Jt(()=>{console.warn("SDK client is not available.")}),r)}function Uu(t){return[...ax,...t.map(e=>e.toLowerCase())]}function ux(t){const e={...t};jd(e,"react"),$0(e)}var kt,Tr,rf,Ds,sf=-1,Zn=function(t){addEventListener("pageshow",function(e){e.persisted&&(sf=e.timeStamp,t(e))},!0)},ga=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},ri=function(){var t=ga();return t&&t.activationStart||0},Ze=function(t,e){var n=ga(),r="navigate";return sf>=0?r="back-forward-cache":n&&(document.prerendering||ri()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},si=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(s){Promise.resolve().then(function(){e(s.getEntries())})});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},et=function(t,e,n,r){var s,i;return function(o){e.value>=0&&(o||r)&&((i=e.value-(s||0))||s===void 0)&&(s=e.value,e.delta=i,e.rating=function(a,c){return a>c[1]?"poor":a>c[0]?"needs-improvement":"good"}(e.value,n),t(e))}},ya=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},_a=function(t){var e=function(n){n.type!=="pagehide"&&document.visibilityState!=="hidden"||t(n)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},ba=function(t){var e=!1;return function(n){e||(t(n),e=!0)}},Tn=-1,Bu=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Ns=function(t){document.visibilityState==="hidden"&&Tn>-1&&(Tn=t.type==="visibilitychange"?t.timeStamp:0,lx())},Hu=function(){addEventListener("visibilitychange",Ns,!0),addEventListener("prerenderingchange",Ns,!0)},lx=function(){removeEventListener("visibilitychange",Ns,!0),removeEventListener("prerenderingchange",Ns,!0)},va=function(){return Tn<0&&(Tn=Bu(),Hu(),Zn(function(){setTimeout(function(){Tn=Bu(),Hu()},0)})),{get firstHiddenTime(){return Tn}}},ii=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},qu=[1800,3e3],oi=function(t,e){e=e||{},ii(function(){var n,r=va(),s=Ze("FCP"),i=si("paint",function(o){o.forEach(function(a){a.name==="first-contentful-paint"&&(i.disconnect(),a.startTime<r.firstHiddenTime&&(s.value=Math.max(a.startTime-ri(),0),s.entries.push(a),n(!0)))})});i&&(n=et(t,s,qu,e.reportAllChanges),Zn(function(o){s=Ze("FCP"),n=et(t,s,qu,e.reportAllChanges),ya(function(){s.value=performance.now()-o.timeStamp,n(!0)})}))})},Wu=[.1,.25],wa=function(t,e){e=e||{},oi(ba(function(){var n,r=Ze("CLS",0),s=0,i=[],o=function(c){c.forEach(function(u){if(!u.hadRecentInput){var l=i[0],d=i[i.length-1];s&&u.startTime-d.startTime<1e3&&u.startTime-l.startTime<5e3?(s+=u.value,i.push(u)):(s=u.value,i=[u])}}),s>r.value&&(r.value=s,r.entries=i,n())},a=si("layout-shift",o);a&&(n=et(t,r,Wu,e.reportAllChanges),_a(function(){o(a.takeRecords()),n(!0)}),Zn(function(){s=0,r=Ze("CLS",0),n=et(t,r,Wu,e.reportAllChanges),ya(function(){return n()})}),setTimeout(n,0))}))},gr={passive:!0,capture:!0},dx=new Date,zu=function(t,e){kt||(kt=e,Tr=t,rf=new Date,af(removeEventListener),of())},of=function(){if(Tr>=0&&Tr<rf-dx){var t={entryType:"first-input",name:kt.type,target:kt.target,cancelable:kt.cancelable,startTime:kt.timeStamp,processingStart:kt.timeStamp+Tr};Ds.forEach(function(e){e(t)}),Ds=[]}},hx=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;t.type=="pointerdown"?function(n,r){var s=function(){zu(n,r),o()},i=function(){o()},o=function(){removeEventListener("pointerup",s,gr),removeEventListener("pointercancel",i,gr)};addEventListener("pointerup",s,gr),addEventListener("pointercancel",i,gr)}(e,t):zu(e,t)}},af=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,hx,gr)})},Vu=[100,300],Sa=function(t,e){e=e||{},ii(function(){var n,r=va(),s=Ze("FID"),i=function(c){c.startTime<r.firstHiddenTime&&(s.value=c.processingStart-c.startTime,s.entries.push(c),n(!0))},o=function(c){c.forEach(i)},a=si("first-input",o);n=et(t,s,Vu,e.reportAllChanges),a&&_a(ba(function(){o(a.takeRecords()),a.disconnect()})),a&&Zn(function(){var c;s=Ze("FID"),n=et(t,s,Vu,e.reportAllChanges),Ds=[],Tr=-1,kt=null,af(addEventListener),c=i,Ds.push(c),of()})})},Gu=[2500,4e3],Fi={},Ea=function(t,e){e=e||{},ii(function(){var n,r=va(),s=Ze("LCP"),i=function(c){var u=c[c.length-1];u&&u.startTime<r.firstHiddenTime&&(s.value=Math.max(u.startTime-ri(),0),s.entries=[u],n())},o=si("largest-contentful-paint",i);if(o){n=et(t,s,Gu,e.reportAllChanges);var a=ba(function(){Fi[s.id]||(i(o.takeRecords()),o.disconnect(),Fi[s.id]=!0,n(!0))});["keydown","click"].forEach(function(c){addEventListener(c,function(){return setTimeout(a,0)},!0)}),_a(a),Zn(function(c){s=Ze("LCP"),n=et(t,s,Gu,e.reportAllChanges),ya(function(){s.value=performance.now()-c.timeStamp,Fi[s.id]=!0,n(!0)})})}})},Ju=[800,1800],fx=function t(e){document.prerendering?ii(function(){return t(e)}):document.readyState!=="complete"?addEventListener("load",function(){return t(e)},!0):setTimeout(e,0)},ka=function(t,e){e=e||{};var n=Ze("TTFB"),r=et(t,n,Ju,e.reportAllChanges);fx(function(){var s=ga();if(s){var i=s.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-ri(),0),n.entries=[s],r(!0),Zn(function(){n=Ze("TTFB",0),(r=et(t,n,Ju,e.reportAllChanges))(!0)})}})};function px(){console.log("Initialisation du monitoring...");try{console.warn("DSN Sentry non dfinie. Le monitoring des erreurs est dsactiv."),Ro();return}catch(t){console.error("Erreur lors de l'initialisation de Sentry:",t);try{Ro()}catch(e){console.error("Erreur lors de l'initialisation des Web Vitals:",e)}}}function Ro(){try{wa(t=>{console.log("Web Vital: CLS",t.value)}),Sa(t=>{console.log("Web Vital: FID",t.value)}),oi(t=>{console.log("Web Vital: FCP",t.value)}),Ea(t=>{console.log("Web Vital: LCP",t.value)}),ka(t=>{console.log("Web Vital: TTFB",t.value)})}catch(t){console.warn("Impossible d'initialiser les Web Vitals:",t)}}function mx(){try{wa(t=>{try{yn("Web Vital: CLS",{level:"info",tags:{metric:"CLS",id:t.id},extra:{value:t.value}})}catch{console.log("Web Vital: CLS",t.value)}}),Sa(t=>{try{yn("Web Vital: FID",{level:"info",tags:{metric:"FID",id:t.id},extra:{value:t.value}})}catch{console.log("Web Vital: FID",t.value)}}),oi(t=>{try{yn("Web Vital: FCP",{level:"info",tags:{metric:"FCP",id:t.id},extra:{value:t.value}})}catch{console.log("Web Vital: FCP",t.value)}}),Ea(t=>{try{yn("Web Vital: LCP",{level:"info",tags:{metric:"LCP",id:t.id},extra:{value:t.value}})}catch{console.log("Web Vital: LCP",t.value)}}),ka(t=>{try{yn("Web Vital: TTFB",{level:"info",tags:{metric:"TTFB",id:t.id},extra:{value:t.value}})}catch{console.log("Web Vital: TTFB",t.value)}})}catch(t){console.warn("Erreur lors de l'initialisation des Web Vitals avec Sentry:",t),Ro()}}function bn(t,e){Vs(t,{tags:e})}function dr(t,e){yn(t,{level:"info",extra:e})}const ps={async signIn(t,e){try{const{data:n,error:r}=await le.auth.signInWithPassword({email:t,password:e});if(r)throw r;return dr("auth.signin.success",{userId:n.user?.id}),{user:n.user,error:null}}catch(n){return bn(new Error(n.message),{context:"auth.signin",email:t}),{user:null,error:{message:ft(n),status:n.status}}}},async signUp(t,e,n){try{if(!Yu(e))return{user:null,error:{message:"Le mot de passe doit contenir au moins 9 caractres, une majuscule, une minuscule, un chiffre et un caractre spcial",status:400}};const{data:r,error:s}=await le.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(s)throw s;return r.user?.identities?.length===0?{user:null,error:{message:"Cette adresse email est dj utilise",status:400}}:(dr("auth.signup.success",{userId:r.user?.id}),{user:r.user,error:null})}catch(r){return console.error(">>> AuthService signUp - Original error:",r),bn(new Error(r.message),{context:"auth.signup",email:t}),{user:null,error:{message:ft(r),status:r.status}}}},async signOut(){try{const{error:t}=await le.auth.signOut();if(t)throw t;return dr("auth.signout.success"),{error:null}}catch(t){return bn(new Error(t.message),{context:"auth.signout"}),{error:{message:ft(t),status:t.status}}}},async resetPassword(t){try{const{error:e}=await le.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/auth/reset-password`});if(e)throw e;return dr("auth.reset_password.requested",{email:t}),{error:null}}catch(e){return bn(new Error(e.message),{context:"auth.reset_password",email:t}),{error:{message:ft(e),status:e.status}}}},async updatePassword(t){try{if(!Yu(t))return{error:{message:"Le mot de passe doit contenir au moins 9 caractres, une majuscule, une minuscule, un chiffre et un caractre spcial",status:400}};const{error:e}=await le.auth.updateUser({password:t});if(e)throw e;return dr("auth.password.updated"),{error:null}}catch(e){return bn(new Error(e.message),{context:"auth.update_password"}),{error:{message:ft(e),status:e.status}}}},async getCurrentUser(){try{const{data:t,error:e}=await le.auth.getUser();if(e)throw e;return{user:t.user,error:null}}catch(t){return{user:null,error:{message:ft(t),status:t.status}}}},async getSession(){try{const{data:t,error:e}=await le.auth.getSession();if(e)throw e;return{session:t.session,error:null}}catch(t){return{session:null,error:{message:ft(t),status:t.status}}}},async updateProfile(t){try{const{data:e,error:n}=await le.auth.updateUser({data:t});if(n)throw n;return{user:e.user,error:null}}catch(e){return{user:null,error:{message:ft(e),status:e.status}}}},async getMarketTrends(){return Py()}};function Yu(t){const n=/[A-Z]/.test(t),r=/[a-z]/.test(t),s=/\d/.test(t),i=/[!@#$%^&*(),.?":{}|<>]/.test(t);return t.length>=9&&n&&r&&s&&i}function ft(t){if(!t||!t.message)return"Une erreur est survenue. Veuillez ressayer.";const e=t.message.toLowerCase();switch(!0){case e.includes("invalid login credentials"):return"Email ou mot de passe incorrect. Veuillez vrifier vos informations et ressayer.";case e.includes("email not confirmed"):return"Veuillez confirmer votre adresse email avant de vous connecter.";case e.includes("password should be at least"):return"Le mot de passe doit contenir au moins 9 caractres.";case e.includes("email already registered"):return"Cette adresse email est dj utilise. Essayez de vous connecter ou utilisez la rcupration de mot de passe.";case e.includes("too many requests"):return"Trop de tentatives de connexion. Veuillez ressayer plus tard ou rinitialiser votre mot de passe.";case e.includes("user not found"):return"Aucun compte trouv avec cette adresse email. Vrifiez l'orthographe ou crez un compte.";case e.includes("jwt expired"):return"Votre session a expir. Veuillez vous reconnecter.";default:return"Une erreur est survenue. Veuillez ressayer ou contacter le support."}}const er=Rm((t,e)=>({user:null,subscription:null,loading:!0,initialized:!1,loadUser:async()=>{try{t({loading:!0});const{user:n}=await ps.getCurrentUser();if(console.log("[AUTH][loadUser] authUser =",n),!n){t({user:null,subscription:null,loading:!1,initialized:!0}),console.log("[AUTH][loadUser] Aucun utilisateur connect");return}const{data:r,error:s}=await le.from("profiles").select("*").eq("id",n.id).single();if(s)throw s;const{data:i,error:o}=await le.from("subscriptions").select("*").eq("user_id",n.id).single();if(o&&o.code!=="PGRST116")throw o;t({user:r,subscription:i||null,loading:!1,initialized:!0})}catch(n){console.error("Error loading user:",n),t({loading:!1,initialized:!0})}},signIn:async(n,r)=>{try{const{user:s,error:i}=await ps.signIn(n,r);return i?{error:i.message}:s?(await e().loadUser(),{error:null}):{error:"Une erreur est survenue lors de la connexion"}}catch(s){return console.error("Error signing in:",s),{error:s.message||"Une erreur est survenue lors de la connexion"}}},signUp:async(n,r,s)=>{try{const{user:i,error:o}=await ps.signUp(n,r,s);return o?{error:o.message}:i?{error:null}:{error:"Une erreur est survenue lors de l'inscription"}}catch(i){return console.error("Error signing up:",i),{error:i.message||"Une erreur est survenue lors de l'inscription"}}},signOut:async()=>{const{error:n}=await ps.signOut();n&&console.error("Error signing out:",n),t({user:null,subscription:null})},updateProfile:async n=>{try{const{error:r}=await le.from("profiles").update(n).eq("id",e().user?.id);if(r)throw r;return await e().loadUser(),{error:null}}catch(r){return console.error("Error updating profile:",r),{error:r.message||"Une erreur est survenue lors de la mise  jour du profil"}}}})),hr=[{code:"fr",name:"Franais",flag:""},{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""}];function gx(){const{i18n:t,t:e}=$s();return S.useEffect(()=>{const n=localStorage.getItem("i18nextLng"),r=t.language.split("-")[0];let s;if(n){const i=hr.find(o=>o.code===n)?.code;if(i)s=i;else{localStorage.removeItem("i18nextLng");const o=navigator.languages?.[0]?.split("-")[0]||navigator.language?.split("-")[0]||"en";s=hr.find(a=>a.code===o)?.code||"en"}}else{const i=navigator.languages?.[0]?.split("-")[0]||navigator.language?.split("-")[0]||"en";s=hr.find(o=>o.code===i)?.code||"en"}s!==r&&t.changeLanguage(s),localStorage.getItem("i18nextLng")!==s&&localStorage.setItem("i18nextLng",s)},[t]),p.jsxs(ze,{as:"div",className:"relative",children:[p.jsx(Wt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:p.jsxs(ze.Button,{className:"flex items-center gap-2 px-3 py-2 text-gray-400 hover:text-gray-300 rounded-lg hover:bg-white/5","aria-haspopup":"listbox","aria-label":e("navigation.changeLanguage"),children:[p.jsx(Sp,{className:"h-5 w-5","aria-hidden":"true"}),p.jsx("span",{className:"hidden md:block",children:hr.find(n=>n.code===t.language)?.name||"Language"})]})}),p.jsx(pn,{as:S.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:p.jsx(ze.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-2 shadow-lg ring-1 ring-gray-900/5 focus:outline-none",children:hr.map(n=>p.jsx(ze.Item,{children:({active:r})=>p.jsxs("button",{className:`flex items-center gap-3 w-full px-4 py-2 text-sm leading-6 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-600 ${t.language===n.code?"bg-gray-50 text-primary-600":r?"text-gray-900 bg-gray-100":"text-gray-900 hover:bg-gray-50"}`,onClick:()=>{t.changeLanguage(n.code),localStorage.setItem("i18nextLng",n.code)},"aria-selected":t.language===n.code,tabIndex:0,children:[p.jsx("span",{className:"text-base","aria-hidden":"true",children:n.flag}),n.name]})},n.code))})})]})}function yx(){const[t,e]=S.useState({sent:0,limit:0,percent:0}),[n,r]=S.useState(!0),[s,i]=S.useState(null);return S.useEffect(()=>{async function o(){r(!0),i(null);try{const a=await fetch("https://klwugophjvzctlautsqz.functions.supabase.co/monitor-resend-quota");if(!a.ok)throw new Error(await a.text());const c=await a.json();e({sent:c.sent,limit:c.limit,percent:Math.round(c.sent/c.limit*100)})}catch(a){i(a.message)}r(!1)}o()},[]),{...t,loading:n,error:s}}function _x(){const{sent:t,limit:e,percent:n,loading:r,error:s}=yx();return r?null:s?p.jsxs("div",{style:{background:"#d90429",color:"#fff",padding:"0.5rem 1rem",borderRadius:6,margin:"1rem 0",textAlign:"center"},children:["Erreur monitoring quota Resend: ",s]}):n<70?null:p.jsxs("div",{style:{background:n<90?"#f9c74f":"#d90429",color:"#222",padding:"0.5rem 1rem",borderRadius:6,margin:"1rem 0",textAlign:"center",fontWeight:"bold"},children:["Attention : ",t," emails envoys ce mois-ci sur ",e," (",n,"%)",n>=90&&p.jsx("span",{style:{color:"#fff",marginLeft:8},children:"Limite presque atteinte !"})]})}function Be(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Qt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const cf=6048e5,bx=864e5,q1=6e4,W1=36e5;let vx={};function ai(){return vx}function Dr(t,e){const n=ai(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Be(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ls(t){return Dr(t,{weekStartsOn:1})}function uf(t){const e=Be(t),n=e.getFullYear(),r=Qt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ls(r),i=Qt(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ls(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Ku(t){const e=Be(t);return e.setHours(0,0,0,0),e}function Xu(t){const e=Be(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function wx(t,e){const n=Ku(t),r=Ku(e),s=+n-Xu(n),i=+r-Xu(r);return Math.round((s-i)/bx)}function Sx(t){const e=uf(t),n=Qt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ls(n)}function Ex(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kx(t){if(!Ex(t)&&typeof t!="number")return!1;const e=Be(t);return!isNaN(Number(e))}function xx(t){const e=Be(t),n=Qt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Tx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ix=(t,e,n)=>{let r;const s=Tx[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Pn(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Rx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ox={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ax={date:Pn({formats:Rx,defaultWidth:"full"}),time:Pn({formats:Cx,defaultWidth:"full"}),dateTime:Pn({formats:Ox,defaultWidth:"full"})},Px={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mx=(t,e,n,r)=>Px[t];function Ye(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const jx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$x={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ux=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Bx={ordinalNumber:Ux,era:Ye({values:jx,defaultWidth:"wide"}),quarter:Ye({values:Dx,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ye({values:Nx,defaultWidth:"wide"}),day:Ye({values:Lx,defaultWidth:"wide"}),dayPeriod:Ye({values:$x,defaultWidth:"wide",formattingValues:Fx,defaultFormattingWidth:"wide"})};function Ke(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?qx(a,d=>d.test(o)):Hx(a,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const l=e.slice(o.length);return{value:u,rest:l}}}function Hx(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qx(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function lf(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Wx=/^(\d+)(th|st|nd|rd)?/i,zx=/\d+/i,Vx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gx={any:[/^b/i,/^(a|c)/i]},Jx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yx={any:[/1/i,/2/i,/3/i,/4/i]},Kx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nT={ordinalNumber:lf({matchPattern:Wx,parsePattern:zx,valueCallback:t=>parseInt(t,10)}),era:Ke({matchPatterns:Vx,defaultMatchWidth:"wide",parsePatterns:Gx,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:Jx,defaultMatchWidth:"wide",parsePatterns:Yx,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ke({matchPatterns:Kx,defaultMatchWidth:"wide",parsePatterns:Xx,defaultParseWidth:"any"}),day:Ke({matchPatterns:Qx,defaultMatchWidth:"wide",parsePatterns:Zx,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:eT,defaultMatchWidth:"any",parsePatterns:tT,defaultParseWidth:"any"})},rT={code:"en-US",formatDistance:Ix,formatLong:Ax,formatRelative:Mx,localize:Bx,match:nT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sT(t){const e=Be(t);return wx(e,xx(e))+1}function iT(t){const e=Be(t),n=+Ls(e)-+Sx(e);return Math.round(n/cf)+1}function df(t,e){const n=Be(t),r=n.getFullYear(),s=ai(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=Qt(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Dr(o,e),c=Qt(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Dr(c,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function oT(t,e){const n=ai(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=df(t,e),i=Qt(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Dr(i,e)}function aT(t,e){const n=Be(t),r=+Dr(n,e)-+oT(n,e);return Math.round(r/cf)+1}function Q(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const pt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Q(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Q(n+1,2)},d(t,e){return Q(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Q(t.getHours()%12||12,e.length)},H(t,e){return Q(t.getHours(),e.length)},m(t,e){return Q(t.getMinutes(),e.length)},s(t,e){return Q(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Q(s,e.length)}},fn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qu={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return pt.y(t,e)},Y:function(t,e,n,r){const s=df(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Q(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Q(i,e.length)},R:function(t,e){const n=uf(t);return Q(n,e.length)},u:function(t,e){const n=t.getFullYear();return Q(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Q(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Q(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return pt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Q(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=aT(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Q(s,e.length)},I:function(t,e,n){const r=iT(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Q(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):pt.d(t,e)},D:function(t,e,n){const r=sT(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Q(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Q(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Q(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Q(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=fn.noon:r===0?s=fn.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=fn.evening:r>=12?s=fn.afternoon:r>=4?s=fn.morning:s=fn.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return pt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):pt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Q(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Q(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):pt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):pt.s(t,e)},S:function(t,e){return pt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return el(r);case"XXXX":case"XX":return Ut(r);case"XXXXX":case"XXX":default:return Ut(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return el(r);case"xxxx":case"xx":return Ut(r);case"xxxxx":case"xxx":default:return Ut(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Zu(r,":");case"OOOO":default:return"GMT"+Ut(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Zu(r,":");case"zzzz":default:return"GMT"+Ut(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Q(r,e.length)},T:function(t,e,n){const r=t.getTime();return Q(r,e.length)}};function Zu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Q(i,2)}function el(t,e){return t%60===0?(t>0?"-":"+")+Q(Math.abs(t)/60,2):Ut(t,e)}function Ut(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Q(Math.trunc(r/60),2),i=Q(r%60,2);return n+s+e+i}const tl=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hf=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cT=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return tl(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",tl(r,e)).replace("{{time}}",hf(s,e))},uT={p:hf,P:cT},lT=/^D+$/,dT=/^Y+$/,hT=["D","DD","YY","YYYY"];function fT(t){return lT.test(t)}function pT(t){return dT.test(t)}function mT(t,e,n){const r=gT(t,e,n);if(console.warn(r),hT.includes(t))throw new RangeError(r)}function gT(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_T=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bT=/^'([^]*?)'?$/,vT=/''/g,wT=/[a-zA-Z]/;function ff(t,e,n){const r=ai(),s=n?.locale??r.locale??rT,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Be(t);if(!kx(a))throw new RangeError("Invalid time value");let c=e.match(_T).map(l=>{const d=l[0];if(d==="p"||d==="P"){const h=uT[d];return h(l,s.formatLong)}return l}).join("").match(yT).map(l=>{if(l==="''")return{isToken:!1,value:"'"};const d=l[0];if(d==="'")return{isToken:!1,value:ST(l)};if(Qu[d])return{isToken:!0,value:l};if(d.match(wT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:l}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(l=>{if(!l.isToken)return l.value;const d=l.value;(!n?.useAdditionalWeekYearTokens&&pT(d)||!n?.useAdditionalDayOfYearTokens&&fT(d))&&mT(d,e,String(t));const h=Qu[d[0]];return h(a,d,s.localize,u)}).join("")}function ST(t){const e=t.match(bT);return e?e[1].replace(vT,"'"):t}const ET={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},kT=(t,e,n)=>{let r;const s=ET[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},xT={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},TT={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},IT={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RT={date:Pn({formats:xT,defaultWidth:"full"}),time:Pn({formats:TT,defaultWidth:"full"}),dateTime:Pn({formats:IT,defaultWidth:"full"})},CT={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},OT=(t,e,n,r)=>CT[t],AT={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},PT={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},MT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},jT={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},DT={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},NT=(t,e)=>{const n=Number(t),r=e?.unit;if(n===0)return"0";const s=["year","week","hour","minute","second"];let i;return n===1?i=r&&s.includes(r)?"re":"er":i="me",n+i},LT=["MMM","MMMM"],$T={preprocessor:(t,e)=>t.getDate()===1||!e.some(r=>r.isToken&&LT.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:NT,era:Ye({values:AT,defaultWidth:"wide"}),quarter:Ye({values:PT,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ye({values:MT,defaultWidth:"wide"}),day:Ye({values:jT,defaultWidth:"wide"}),dayPeriod:Ye({values:DT,defaultWidth:"wide"})},FT=/^(\d+)(ime|re|me|er|e)?/i,UT=/\d+/i,BT={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},HT={any:[/^av/i,/^ap/i]},qT={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},WT={any:[/1/i,/2/i,/3/i,/4/i]},zT={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},VT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},GT={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},JT={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},YT={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},KT={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},XT={ordinalNumber:lf({matchPattern:FT,parsePattern:UT,valueCallback:t=>parseInt(t)}),era:Ke({matchPatterns:BT,defaultMatchWidth:"wide",parsePatterns:HT,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:qT,defaultMatchWidth:"wide",parsePatterns:WT,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ke({matchPatterns:zT,defaultMatchWidth:"wide",parsePatterns:VT,defaultParseWidth:"any"}),day:Ke({matchPatterns:GT,defaultMatchWidth:"wide",parsePatterns:JT,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:YT,defaultMatchWidth:"any",parsePatterns:KT,defaultParseWidth:"any"})},pf={code:"fr",formatDistance:kT,formatLong:RT,formatRelative:OT,localize:$T,match:XT,options:{weekStartsOn:1,firstWeekContainsDate:4}};function QT(){const{user:t}=er(),[e,n]=S.useState([]),[r,s]=S.useState(0),[i,o]=S.useState(!1),[a,c]=S.useState(!0),[u,l]=S.useState(null);S.useEffect(()=>{if(t){d();const g=h();return()=>{g&&g()}}},[t]);const d=async()=>{try{c(!0),l(null);const{data:g,error:b}=await le.from("notifications").select("*").eq("user_id",t?.id).order("created_at",{ascending:!1}).limit(20);if(b)throw b;n(g||[]),s(g?.filter(E=>!E.read).length||0)}catch(g){l("Erreur lors du chargement des notifications."),console.error("Error loading notifications:",g)}finally{c(!1)}},h=()=>{const g=le.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t?.id}`},b=>{const E=b.new;n(k=>[E,...k]),s(k=>k+1),window.Notification&&Notification.permission==="granted"&&new Notification(E.title,{body:E.content,icon:"/logo.png"})}).subscribe();return()=>{le.removeChannel(g)}},f=async g=>{try{const{error:b}=await le.from("notifications").update({read:!0}).eq("id",g);if(b)throw b;n(E=>E.map(k=>k.id===g?{...k,read:!0}:k)),s(E=>Math.max(0,E-1))}catch(b){console.error("Error marking notification as read:",b)}},m=async()=>{try{const{error:g}=await le.from("notifications").update({read:!0}).eq("user_id",t?.id).eq("read",!1);if(g)throw g;n(b=>b.map(E=>({...E,read:!0}))),s(0)}catch(g){console.error("Error marking all notifications as read:",g)}},y=async g=>{try{const{error:b}=await le.from("notifications").delete().eq("id",g);if(b)throw b;n(E=>E.filter(k=>k.id!==g)),e.find(E=>E.id===g)?.read||s(E=>Math.max(0,E-1))}catch(b){console.error("Error deleting notification:",b)}};return p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>o(!i),className:"relative p-2 text-gray-400 hover:text-white transition-colors",children:[p.jsx(hp,{className:"h-6 w-6"}),r>0&&p.jsx(Wt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-primary-600 text-xs text-white",children:r})]}),p.jsx(p.Fragment,{children:i&&p.jsxs(Wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-96 bg-background rounded-lg shadow-xl border border-white/10 overflow-hidden",children:[p.jsx("div",{className:"p-4 border-b border-white/10",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-lg font-medium text-white",children:"Notifications"}),r>0&&p.jsx("button",{onClick:m,className:"text-sm text-primary-400 hover:text-primary-300",children:"Tout marquer comme lu"})]})}),a&&p.jsx("div",{className:"p-4 text-center text-gray-400",children:"Chargement des notifications"}),u&&p.jsx("div",{className:"p-4 text-center text-red-400",children:u}),p.jsxs("div",{className:"max-h-[480px] overflow-y-auto",children:[!a&&!u&&e.length===0?p.jsx("div",{className:"p-4 text-center text-gray-400",children:"Aucune notification"}):null,!a&&!u&&e.length>0&&p.jsx("div",{children:e.map(g=>p.jsx(Wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 border-b border-white/10 ${g.read?"bg-white/5":"bg-primary-600/20"}`,children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-medium text-white",children:g.title}),p.jsx("p",{className:"text-sm text-gray-400 mt-1",children:g.content}),p.jsx("p",{className:"text-xs text-gray-500 mt-2",children:ff(new Date(g.created_at),"dd MMMM yyyy  HH:mm",{locale:pf})}),g.link&&p.jsx("a",{href:g.link,className:"text-sm text-primary-400 hover:text-primary-300 mt-2 inline-block",children:"Voir les dtails "})]}),p.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!g.read&&p.jsx("button",{onClick:()=>f(g.id),className:"p-1 text-green-400 hover:bg-green-400/10 rounded-lg transition-colors",children:p.jsx(mp,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>y(g.id),className:"p-1 text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",children:p.jsx(fl,{className:"h-4 w-4"})})]})]})},g.id))})]})]})})]})}function ZT({children:t}){const[e,n]=S.useState(!1),{user:r,signOut:s}=er(),i=L.useNavigate(),{t:o}=$s("common"),a=L.useLocation(),[c,u]=S.useState([]);S.useEffect(()=>{r?.user_type==="freelancer"?u([{name:"Dashboard",href:"/dashboard",icon:pi},{name:"Projets disponibles",href:"/freelance/projects",icon:Cp},{name:"Mon profil freelance",href:"/freelance/profile",icon:mi},{name:"CV Builder",href:"/cv-builder",icon:Va},{name:"Rseau",href:"/network",icon:gi},{name:"Analyse du march",href:"/market-analysis",icon:Wa},{name:"Facturation",href:"/billing",icon:fi}]):r?.user_type==="recruiter"?u([{name:"Dashboard",href:"/recruiter/dashboard",icon:pi},{name:"Recherche de candidats",href:"/recruiter/candidates",icon:xp},{name:"Mes offres d'emploi",href:"/recruiter/job-postings",icon:za},{name:"Crer une offre",href:"/recruiter/create-job",icon:Ip},{name:"Rseau",href:"/network",icon:gi},{name:"Profil",href:"/profile",icon:mi},{name:"Facturation",href:"/billing",icon:fi}]):u([{name:"navigation.dashboard",href:"/dashboard",icon:pi},{name:"navigation.jobSearch",href:"/jobs",icon:vp},{name:"navigation.applications",href:"/applications",icon:za},{name:"navigation.cvBuilder",href:"/cv-builder",icon:Va},{name:"navigation.network",href:"/network",icon:gi},{name:"navigation.marketAnalysis",href:"/market-analysis",icon:Wa},{name:"navigation.profile",href:"/profile",icon:mi},{name:"Facturation",href:"/billing",icon:fi}])},[r?.user_type,o]);const l=async()=>{await s(),i("/login")};return p.jsxs("div",{children:[p.jsx(_x,{}),p.jsx(pn.Root,{show:e,as:S.Fragment,children:p.jsxs(Ca,{as:"div",className:"relative z-50 lg:hidden",onClose:n,children:[p.jsx(pn.Child,{as:S.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:p.jsx("div",{className:"fixed inset-0 bg-gray-900/80"})}),p.jsx("div",{className:"fixed inset-0 flex",children:p.jsx(pn.Child,{as:S.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:p.jsxs(Ca.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[p.jsx(pn.Child,{as:S.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:p.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:p.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>n(!1),children:[p.jsx("span",{className:"sr-only",children:"Close sidebar"}),p.jsx(fl,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),p.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-background px-6 pb-4 ring-1 ring-white/10",children:[p.jsx("div",{className:"flex h-16 shrink-0 items-center",children:p.jsx(L.Link,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-primary-400 to-secondary-400 text-transparent bg-clip-text",children:"JobNexAI"})}),p.jsx("nav",{className:"flex flex-1 flex-col",children:p.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:p.jsx("li",{children:p.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:c.map(d=>p.jsx("li",{children:p.jsxs(L.Link,{to:d.href,className:Ya("text-gray-400 hover:text-white hover:bg-gray-800 group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold",a.pathname===d.href&&"bg-gray-800 text-white"),children:[p.jsx(d.icon,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),typeof d.name=="string"&&d.name.startsWith("navigation.")?o(d.name):d.name]})},d.name))})})})})]})]})})})]})}),p.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:p.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-background px-6 pb-4 border-r border-white/10",children:[p.jsx("div",{className:"flex h-16 shrink-0 items-center",children:p.jsx(L.Link,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-primary-400 to-secondary-400 text-transparent bg-clip-text",children:"JobNexAI"})}),p.jsx("nav",{className:"flex flex-1 flex-col",children:p.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:p.jsx("li",{children:p.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:c.map(d=>p.jsx("li",{children:p.jsxs(L.Link,{to:d.href,className:Ya("text-gray-400 hover:text-white hover:bg-gray-800 group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold",a.pathname===d.href&&"bg-gray-800 text-white"),children:[p.jsx(d.icon,{className:"h-6 w-6 shrink-0","aria-hidden":"true"}),typeof d.name=="string"&&d.name.startsWith("navigation.")?o(d.name):d.name]})},d.name))})})})})]})}),p.jsxs("div",{className:"lg:pl-72",children:[p.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-white/10 bg-background px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[p.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-white lg:hidden",onClick:()=>n(!0),children:[p.jsx("span",{className:"sr-only",children:"Open sidebar"}),p.jsx(lp,{className:"h-6 w-6","aria-hidden":"true"})]}),p.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[p.jsx("div",{className:"flex flex-1"}),p.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[p.jsx(gx,{}),p.jsx(QT,{}),p.jsxs(ze,{as:"div",className:"relative",children:[p.jsxs(ze.Button,{className:"-m-1.5 flex items-center p-1.5",children:[p.jsx("span",{className:"sr-only",children:"Open user menu"}),p.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-primary-600 to-secondary-600 flex items-center justify-center text-white font-semibold",children:r?.full_name?.[0]||r?.email?.[0]?.toUpperCase()||"U"})]}),p.jsx(pn,{as:S.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:p.jsxs(ze.Items,{className:"absolute right-0 z-10 mt-2.5 w-32 origin-top-right rounded-md bg-white py-2 shadow-lg ring-1 ring-gray-900/5 focus:outline-none",children:[p.jsx(ze.Item,{children:p.jsx(L.Link,{to:"/profile",className:"block px-3 py-1 text-sm leading-6 text-gray-900 hover:bg-gray-50",children:o("navigation.profile")})}),p.jsx(ze.Item,{children:p.jsx(L.Link,{to:"/billing",className:"block px-3 py-1 text-sm leading-6 text-gray-900 hover:bg-gray-50",children:"Facturation"})}),p.jsx(ze.Item,{children:p.jsx("button",{className:"block px-3 py-1 text-sm leading-6 text-gray-900 hover:bg-gray-50 w-full text-left",onClick:l,children:o("auth.logout")})})]})})]})]})]})]}),p.jsx("main",{className:"py-10",children:p.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:t??p.jsx(L.Outlet,{})})})]})]})}function Ce({children:t,requiresSubscription:e=!1}){const{user:n,subscription:r,loading:s,initialized:i}=er(),o=L.useLocation();if(!i||s)return p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-400"})});if(!n)return p.jsx(L.Navigate,{to:"/login",state:{from:o},replace:!0});if(e){const a=n.trial_ends_at&&new Date(n.trial_ends_at)>new Date,c=r?.status==="active"||r?.status==="trialing";if(!a&&!c)return p.jsx(L.Navigate,{to:"/pricing",state:{from:o},replace:!0})}return p.jsx(p.Fragment,{children:t})}function e1({children:t}){const{loadUser:e}=er(),[n,r]=S.useState(!1),[s,i]=S.useState(null);return S.useEffect(()=>{console.log("AuthProvider: Initializing...");let o=null;(async()=>{try{if(await e(),le&&le.auth)try{o=le.auth.onAuthStateChange(async(l,d)=>{try{(l==="SIGNED_IN"||l==="TOKEN_REFRESHED")&&await e()}catch(h){console.error("AuthProvider: Error handling auth event",h)}})?.data?.subscription||{unsubscribe:()=>{}}}catch(u){console.error("AuthProvider: Failed to set up auth listener",u)}else console.warn("AuthProvider: Supabase auth not available, functioning in limited mode");r(!0)}catch(u){console.error("AuthProvider: Critical initialization error",u),i(u instanceof Error?u:new Error(String(u))),r(!0)}})();const c=()=>{try{e()}catch(u){console.error("AuthProvider: Error handling storage event",u)}};try{window.addEventListener("storage",c)}catch(u){console.error("AuthProvider: Failed to add storage listener",u)}return()=>{if(o)try{o.unsubscribe()}catch(u){console.error("AuthProvider: Error during unsubscribe",u)}try{window.removeEventListener("storage",c)}catch(u){console.error("AuthProvider: Error removing event listener",u)}}},[e]),s&&console.warn("AuthProvider is continuing despite initialization error:",s),p.jsx(p.Fragment,{children:t})}function t1(){const{t}=$s(),{user:e}=er(),[n,r]=S.useState(!1),[s,i]=S.useState(!1);S.useEffect(()=>{o()},[e]);const o=async()=>{if(!e)return;const{data:c}=await le.from("user_preferences").select("gdpr_consent").eq("user_id",e.id).maybeSingle();r(!(c?.gdpr_consent??!1))},a=async c=>{if(e)try{await le.from("user_preferences").upsert({user_id:e.id,gdpr_consent:c,gdpr_consent_date:new Date().toISOString()}),i(c),r(!1)}catch(u){console.error("Error saving consent:",u)}};return n?p.jsx(Wt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"fixed bottom-0 inset-x-0 pb-2 sm:pb-5 z-50",children:p.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:p.jsx("div",{className:"p-2 rounded-lg bg-primary-600 shadow-lg sm:p-3",children:p.jsxs("div",{className:"flex items-center justify-between flex-wrap",children:[p.jsx("div",{className:"w-0 flex-1 flex items-center",children:p.jsxs("p",{className:"ml-3 font-medium text-white truncate",children:[p.jsx("span",{className:"md:hidden",children:t("privacy.shortConsent")}),p.jsx("span",{className:"hidden md:inline",children:t("privacy.consent")})]})}),p.jsx("div",{className:"mt-2 flex-shrink-0 w-full sm:mt-0 sm:w-auto",children:p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("button",{onClick:()=>a(!0),className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-primary-600 bg-white hover:bg-primary-50",children:t("privacy.accept")}),p.jsx("button",{onClick:()=>a(!1),className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-500 hover:bg-primary-400",children:t("privacy.decline")})]})})]})})})}):null}function n1(){const{t}=$s();return p.jsx(Wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"fixed bottom-4 right-4 z-40",children:p.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-3 shadow-lg border border-white/10",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ap,{className:"h-5 w-5 text-primary-400"}),p.jsxs("div",{className:"text-xs",children:[p.jsx("p",{className:"font-medium text-white",children:"ISO 27001"}),p.jsx("p",{className:"text-gray-400",children:"RGPD compliant"})]})]})})})}function r1(){const{user:t,subscription:e}=er();if(e?.status==="active")return null;const n=t?.trial_ends_at&&new Date(t.trial_ends_at)>new Date;return!n&&e?.status!=="trialing"?null:p.jsx(Wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed bottom-4 right-4 z-40 max-w-md bg-gradient-to-r from-primary-600/90 to-secondary-600/90 backdrop-blur-sm rounded-lg p-4 shadow-xl",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:p.jsx(Mp,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-medium text-white",children:n?"Votre priode d'essai est active":"Votre priode d'essai est termine"}),p.jsx("p",{className:"text-white/80 mt-1",children:n?`Profitez de toutes les fonctionnalits premium jusqu'au ${ff(new Date(t.trial_ends_at),"dd MMMM yyyy",{locale:pf})}`:"Passez  un plan payant pour continuer  profiter de toutes les fonctionnalits"}),p.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[p.jsx(L.Link,{to:"/pricing",className:"bg-white text-primary-600 hover:bg-white/90 px-4 py-2 rounded-lg font-medium text-sm",children:n?"Passer au plan Pro":"Voir les plans"}),p.jsx("button",{onClick:()=>{localStorage.setItem("subscription_banner_dismissed","true"),window.location.reload()},className:"text-white/80 hover:text-white text-sm",children:"Plus tard"})]})]})]})})}class mf extends S.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){bn(e,{componentStack:n.componentStack,context:"ErrorBoundary"}),this.props.onError&&this.props.onError(e,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:p.jsxs("div",{className:"card max-w-md w-full text-center p-8",children:[p.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Une erreur est survenue"}),p.jsx("p",{className:"text-gray-400 mb-6",children:"Nous sommes dsols, une erreur inattendue s'est produite. Notre quipe a t notifie."}),p.jsx("div",{className:"bg-white/10 rounded-lg p-4 mb-6 text-left overflow-auto max-h-40",children:p.jsx("p",{className:"text-red-400 text-sm font-mono",children:this.state.error?.toString()})}),p.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary w-full",children:"Rafrachir la page"})]})}):this.props.children}}const s1=({message:t="Chargement de la page..."})=>{const[e,n]=S.useState(!1);return S.useEffect(()=>{const r=setTimeout(()=>{n(!0)},1e4);return()=>clearTimeout(r)},[]),p.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center min-h-[200px] bg-background",children:[p.jsx("div",{className:"w-12 h-12 mb-4 rounded-full border-4 border-white/10 border-t-primary-600 animate-spin"}),p.jsx("div",{className:"text-white font-medium",children:t}),e&&p.jsxs("div",{className:"mt-6 text-secondary-300",children:[p.jsx("p",{children:"Le chargement semble prendre plus de temps que prvu."}),p.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary mt-4",children:"Recharger la page"})]})]})},ue=({children:t})=>p.jsx(mf,{fallback:p.jsxs("div",{className:"card m-8 text-center bg-background/80 backdrop-blur-lg",children:[p.jsx("h2",{className:"text-xl font-semibold text-primary-400 mb-4",children:"Un problme est survenu lors du chargement de cette page"}),p.jsx("p",{className:"text-white/80 mb-6",children:"Nous nous excusons pour cet inconvnient. L'quipe technique a t informe du problme."}),p.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Essayer de recharger"})]}),children:p.jsx(S.Suspense,{fallback:p.jsx(s1,{}),children:t})}),i1=ne.lazy(()=>J(()=>import("./JobNexAILanding-CLPiHH3K.js"),__vite__mapDeps([2,3,1,4,5,6,7,8,9,10])).then(t=>({default:t.LandingPage}))),o1=ne.lazy(()=>J(()=>import("./Auth-CpTQYWjn.js"),__vite__mapDeps([11,3,1,12,4,13,5]))),a1=ne.lazy(()=>J(()=>import("./PricingPage-B5K3nE1y.js"),__vite__mapDeps([14,3,1,15,4,5]))),c1=ne.lazy(()=>J(()=>import("./PrivacyPolicy-DYg5pbUx.js"),__vite__mapDeps([16,3,1]))),u1=ne.lazy(()=>J(()=>import("./FeaturesPage-DFGaxJsw.js"),__vite__mapDeps([17,3,1,10,4,6,7,8,9,18,5]))),l1=ne.lazy(()=>J(()=>import("./HowItWorksPage-C3hSdG6M.js"),__vite__mapDeps([19,3,1,10,4,5]))),d1=ne.lazy(()=>J(()=>import("./TestimonialsPage-CViwGhrF.js"),__vite__mapDeps([20,3,1,10,4,5]))),h1=ne.lazy(()=>J(()=>import("./ResetPassword-eofDhtp_.js"),__vite__mapDeps([21,3,1,12,15,4,5]))),f1=ne.lazy(()=>J(()=>import("./AuthCallback-pvL6cX6k.js"),__vite__mapDeps([22,3,1,4,5]))),p1=ne.lazy(()=>J(()=>import("./StripeCheckoutStatus-DT_wbz5c.js"),__vite__mapDeps([23,3,1,24,25,26,4,5]))),m1=ne.lazy(()=>J(()=>import("./Dashboard-BwhPWLZZ.js"),__vite__mapDeps([27,3,1,4,28,26,29,6,30,31,32,33,5]))),g1=ne.lazy(()=>J(()=>import("./Profile-zXF9T_ek.js"),__vite__mapDeps([34,3,1,4,35,24,36,37,38,39,5]))),y1=ne.lazy(()=>J(()=>import("./Billing-DMKbyGtG.js"),__vite__mapDeps([40,3,1,35,24,36,37,38,39,41,4,5]))),_1=ne.lazy(()=>J(()=>import("./JobSearch-C2zrA97L.js"),__vite__mapDeps([42,3,1,5,25,4,43]))),b1=ne.lazy(()=>J(()=>import("./JobApplications-CZyM2hBI.js"),__vite__mapDeps([44,3,1,5,25,45,46,39,37,31,18,6,33,38,41,4]))),v1=ne.lazy(()=>J(()=>import("./MarketAnalysis-CGqvBafl.js"),__vite__mapDeps([47,3,1,4,7,33,48,5]))),w1=ne.lazy(()=>J(()=>import("./CVBuilder-Yhm9NYcF.js"),__vite__mapDeps([49,3,1,38,50,41,4,5]))),S1=ne.lazy(()=>J(()=>import("./NetworkPage-CxolSpqJ.js"),__vite__mapDeps([51,3,1,32,46,4,9,5]))),E1=ne.lazy(()=>J(()=>import("./MarketTrendsPage-DwSUXeK0.js"),__vite__mapDeps([52,3,1]))),k1=ne.lazy(()=>J(()=>import("./FreelanceProjects-OFy6Sr0O.js"),__vite__mapDeps([53,3,1,54,5,4,43,6,55,48,18,33]))),x1=ne.lazy(()=>J(()=>import("./FreelanceProfile-CkgoKkXY.js"),__vite__mapDeps([56,3,1,54,36,38,37,4,5]))),T1=ne.lazy(()=>J(()=>import("./RecruiterDashboard-Bs_OymsD.js"),__vite__mapDeps([57,3,1,6,30,58,13,4,5]))),I1=ne.lazy(()=>J(()=>import("./CandidateSearch-C637geeB.js"),__vite__mapDeps([59,3,1,28,33,58,29,6,5,43,55,4]))),R1=ne.lazy(()=>J(()=>import("./JobPostings-DVN3UmSq.js"),__vite__mapDeps([60,3,1,28,5,13,9,45,38,4]))),C1=ne.lazy(()=>J(()=>import("./CreateJobPosting-ll3Eq-7Q.js"),__vite__mapDeps([61,3,1,50,37,38,4,5])));ne.lazy(()=>J(()=>import("./UserTypeSelection-CQdhuh0t.js"),__vite__mapDeps([62,3,1,6,4,5])));function O1(){return console.log("[App] Dmarrage de l'application..."),console.log("[i18n-debug] Langue courante:",Ht.language,"| Ressources:",Object.keys(Ht.services.resourceStore.data),"| Namespaces:",Ht.options.ns),S.useEffect(()=>{const t=n=>{console.error("[App] Erreur globale non capture:",n.error||n.message)},e=n=>{console.error("[App] Promesse rejete non gre:",n.reason)};return window.addEventListener("error",t),window.addEventListener("unhandledrejection",e),()=>{window.removeEventListener("error",t),window.removeEventListener("unhandledrejection",e)}},[]),p.jsx(mf,{fallback:p.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6 text-center",children:p.jsxs("div",{className:"card max-w-lg mx-auto w-full bg-gradient-to-b from-background to-background/80 border-primary-500/20",children:[p.jsx("h2",{className:"text-2xl font-bold text-primary-400 mb-4",children:"Un problme critique est survenu"}),p.jsx("p",{className:"text-white/80 mb-6",children:"L'application a rencontr une erreur et n'a pas pu charger correctement."}),p.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary w-full",children:"Recharger l'application"})]})}),children:p.jsx(Sf,{i18n:Ht,children:p.jsx(L.BrowserRouter,{children:p.jsxs(e1,{children:[p.jsxs(L.Routes,{children:[p.jsx(L.Route,{path:"/",element:p.jsx(ue,{children:p.jsx(i1,{})})}),p.jsx(L.Route,{path:"/login",element:p.jsx(ue,{children:p.jsx(o1,{})})}),p.jsx(L.Route,{path:"/pricing",element:p.jsx(ue,{children:p.jsx(a1,{})})}),p.jsx(L.Route,{path:"/privacy",element:p.jsx(ue,{children:p.jsx(c1,{})})}),p.jsx(L.Route,{path:"/features",element:p.jsx(ue,{children:p.jsx(u1,{})})}),p.jsx(L.Route,{path:"/how-it-works",element:p.jsx(ue,{children:p.jsx(l1,{})})}),p.jsx(L.Route,{path:"/testimonials",element:p.jsx(ue,{children:p.jsx(d1,{})})}),p.jsx(L.Route,{path:"/auth/reset-password",element:p.jsx(ue,{children:p.jsx(h1,{})})}),p.jsx(L.Route,{path:"/auth/callback",element:p.jsx(ue,{children:p.jsx(f1,{})})}),p.jsx(L.Route,{path:"/checkout/success",element:p.jsx(ue,{children:p.jsx(p1,{})})}),p.jsx(L.Route,{path:"/user-type",element:p.jsx(Ce,{children:p.jsx(L.Navigate,{to:"/dashboard",replace:!0})})}),p.jsxs(L.Route,{element:p.jsx(Ce,{children:p.jsx(ZT,{})}),children:[p.jsx(L.Route,{path:"/dashboard",element:p.jsx(ue,{children:p.jsx(m1,{})})}),p.jsx(L.Route,{path:"/profile",element:p.jsx(ue,{children:p.jsx(g1,{})})}),p.jsx(L.Route,{path:"/billing",element:p.jsx(ue,{children:p.jsx(y1,{})})}),p.jsx(L.Route,{path:"/jobs",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(_1,{})})})}),p.jsx(L.Route,{path:"/applications",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(b1,{})})})}),p.jsx(L.Route,{path:"/market-analysis",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(v1,{})})})}),p.jsx(L.Route,{path:"/cv-builder",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(w1,{})})})}),p.jsx(L.Route,{path:"/network",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(S1,{})})})}),p.jsx(L.Route,{path:"/market-trends",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(E1,{})})})}),p.jsx(L.Route,{path:"/freelance/projects",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(k1,{})})})}),p.jsx(L.Route,{path:"/freelance/profile",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(x1,{})})})}),p.jsx(L.Route,{path:"/recruiter/dashboard",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(T1,{})})})}),p.jsx(L.Route,{path:"/recruiter/candidates",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(I1,{})})})}),p.jsx(L.Route,{path:"/recruiter/job-postings",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(R1,{})})})}),p.jsx(L.Route,{path:"/recruiter/create-job",element:p.jsx(Ce,{requiresSubscription:!0,children:p.jsx(ue,{children:p.jsx(C1,{})})})})]})]}),p.jsx(t1,{}),p.jsx(n1,{}),p.jsx(r1,{}),p.jsx(cp,{})]})})})})}function A1(){wa(fr),Sa(fr),oi(fr),Ea(fr),ka(fr)}function fr(t){const e=`/api/performance?${t.name.toLowerCase()}=${t.value}&url=${encodeURIComponent(window.location.pathname)}`;navigator.sendBeacon?navigator.sendBeacon(e):fetch(e,{method:"POST",keepalive:!0}),window.Sentry&&window.Sentry.captureMessage(`Web Vital: ${t.name}`,{level:"info",tags:{metric:t.name},extra:{value:t.value}})}console.log("main.tsx is loaded");px();A1();xf.createRoot(document.getElementById("root")).render(p.jsx(S.StrictMode,{children:p.jsx(O1,{})}));export{ps as A,Ip as B,fl as F,gx as L,mp as a,xp as b,Va as c,L as d,lp as e,Ap as f,Sp as g,Cy as h,ff as i,pf as j,Mp as k,hp as l,bn as m,B1 as n,H1 as o,Be as p,Qt as q,W1 as r,le as s,dr as t,er as u,q1 as v,Wf as w,mi as x,Py as y,wx as z};
//# sourceMappingURL=index-DicW4zRf.js.map
