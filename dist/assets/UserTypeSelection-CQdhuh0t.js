import{j as e,m as s}from"./motion-DEFBAXox.js";import{a as d}from"./vendor-C4jSHSwK.js";import{u,d as h,x as p,c as f,s as j}from"./index-DicW4zRf.js";import{F as g}from"./BriefcaseIcon-DEgrI4pT.js";import"./i18n-DQkvtCzx.js";import"./ui-Nk6LSbPB.js";function E(){const{user:i,loadUser:m}=u(),[x,c]=d.useState(!1),[o,l]=d.useState(null),t=h.useNavigate(),a=async n=>{if(i)try{c(!0),l(null);const{error:r}=await j.from("profiles").update({user_type:n}).eq("id",i.id);if(r)throw r;switch(await m(),n){case"candidate":t("/dashboard");break;case"freelancer":t("/freelance/projects");break;case"recruiter":t("/recruiter/dashboard");break}}catch(r){console.error("Error setting user type:",r),l(r.message||"Une erreur est survenue. Veuillez réessayer.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 sm:px-6 lg:px-8 bg-background",children:e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-white",children:"Bienvenue sur JobNexAI"}),e.jsx("p",{className:"mt-2 text-gray-400",children:"Veuillez sélectionner votre profil pour continuer"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(s.div,{whileHover:{scale:1.05},className:"bg-white/10 rounded-xl p-6 text-center cursor-pointer hover:bg-white/15 transition-colors",onClick:()=>a("candidate"),children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-primary-600/20 mb-4",children:e.jsx(p,{className:"h-8 w-8 text-primary-400"})}),e.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Candidat"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Je cherche un emploi et souhaite utiliser les outils de recherche d'emploi et de gestion de candidatures."})]}),e.jsxs(s.div,{whileHover:{scale:1.05},className:"bg-white/10 rounded-xl p-6 text-center cursor-pointer hover:bg-white/15 transition-colors",onClick:()=>a("freelancer"),children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-secondary-600/20 mb-4",children:e.jsx(f,{className:"h-8 w-8 text-secondary-400"})}),e.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Freelance"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Je suis freelance et je cherche des projets ou des missions. J'ai besoin d'outils pour gérer mon activité."})]}),e.jsxs(s.div,{whileHover:{scale:1.05},className:"bg-white/10 rounded-xl p-6 text-center cursor-pointer hover:bg-white/15 transition-colors",onClick:()=>a("recruiter"),children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-600/20 mb-4",children:e.jsx(g,{className:"h-8 w-8 text-green-400"})}),e.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Recruteur"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Je suis recruteur et je cherche des candidats pour mes offres d'emploi ou des freelances pour des missions."})]})]}),o&&e.jsx("div",{className:"bg-red-900/50 text-red-400 p-4 rounded-lg text-center",children:o}),x&&e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-400"})}),e.jsx("p",{className:"text-center text-sm text-gray-500",children:"Vous pourrez modifier votre profil ultérieurement dans les paramètres de votre compte."})]})})}export{E as default};
//# sourceMappingURL=UserTypeSelection-CQdhuh0t.js.map
